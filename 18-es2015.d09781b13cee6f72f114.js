(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"/D9e":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var s=i("tk/3"),a=i("lJxs"),n=i("sXtk"),o=i("fXoL");let r=(()=>{class t{constructor(t,e){this.handler=t,this.envService=e,this.baseUrl="",this.http=new s.c(t),this.baseUrl=e.backend}upload(t,e="file"){var i=new FormData;return i.append("file",t),this.http.post(this.baseUrl+"/fileupload/"+e,i).pipe(Object(a.a)(t=>t.fileName))}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(s.b),o.Xb(n.a))},t.\u0275prov=o.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"/ptB":function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));class s{constructor(t){this.id=t.id||0,this.description=t.description||"",this.defaultValue=t.defaultValue||"1",this.parentId=t.parentId||0,this.parentName=t.parentName||"",this.mode=t.mode||0,this.modeName=t.modeName||"",this.sequence=t.sequence||0}}},"2/BN":function(t,e,i){"use strict";i.r(e),i.d(e,"CreateUserModule",(function(){return jt}));var s=i("ofXK"),a=i("3Pt+"),n=i("tyNb"),o=i("/Ty6"),r=i("nStZ"),c=i("Ku73"),l=i("+Kgr"),u=i("nST0"),d=i("fXoL"),b=i("0IaG"),h=i("M9IT"),m=i("Dh3D"),f=i("jtHE"),p=i("KGtp"),g=i("/D9e");class S{constructor(t){this.id=t.id,this.userId=t.userId,this.clientId=t.clientId,this.clientName=t.clientName}}class C{constructor(t){this.id=t.id,this.userId=t.userId,this.roleId=t.clientId,this.actionId=t.actionId,this.actionName=t.actionName}}class y{constructor(t){this.id=t.id||"",this.username=t.username||"",this.email=t.email||"",this.password=t.password||"",this.role=t.role||"",this.roleId=t.roleId||0,this.designation=t.designation||"",this.image=t.image||"",this.userClients=(t.userClients||[]).map(t=>new S(t)),this.userActions=(t.userActions||[]).map(t=>new C(t))}}var v=i("sOHO"),x=i("seMb"),T=i("zSPf"),w=i("zP6O"),M=i("xXXn"),P=i("sXtk"),R=i("dNgK"),k=i("/t3+"),A=i("bTqV"),I=i("NFeN"),O=i("MutI"),U=i("4FRi"),D=i("XiUz"),_=i("kmnG"),N=i("qFsG"),F=i("YaQ2"),E=i("/1cH"),L=i("Qu3c"),z=i("d3UM"),$=i("FKr1");const q=["fileInput"],V=["allSelected"],j=["allActionsSelected"];function G(t,e){1&t&&(d.Tb(0,"mat-hint"),d.Rc(1,"This will be User name."),d.Sb())}function X(t,e){if(1&t&&(d.Tb(0,"mat-option",41),d.Rc(1),d.Sb()),2&t){const t=e.$implicit;d.mc("value",t.description),d.Cb(1),d.Tc("",t.description," ")}}function H(t,e){1&t&&(d.Tb(0,"mat-icon"),d.Rc(1,"visibility"),d.Sb())}function K(t,e){1&t&&(d.Tb(0,"mat-icon"),d.Rc(1,"visibility_off"),d.Sb())}function Z(t,e){1&t&&(d.Tb(0,"mat-hint"),d.Rc(1,"This will be Password."),d.Sb())}function Q(t,e){1&t&&(d.Tb(0,"mat-error"),d.Rc(1,"Password should contain 1 Uppercase, 1 Special character and minimum 8 charaters long."),d.Sb())}function B(t,e){if(1&t&&(d.Tb(0,"mat-option",41),d.Rc(1),d.Sb()),2&t){const t=e.$implicit;d.mc("value",t.description),d.Cb(1),d.Tc("",t.description," ")}}function J(t,e){1&t&&(d.Tb(0,"mat-hint"),d.Rc(1,"This will be Email."),d.Sb())}function Y(t,e){if(1&t){const t=d.Ub();d.Tb(0,"mat-option",42),d.bc("click",(function(){d.Ec(t);const e=d.fc(),i=d.Ac(68);return e.tosslePerOne(i.viewValue)})),d.Rc(1),d.Sb()}if(2&t){const t=e.$implicit;d.mc("optionSelected",t.selected)("value",t.value),d.Cb(1),d.Tc(" ",t.label," ")}}function W(t,e){if(1&t){const t=d.Ub();d.Tb(0,"mat-option",42),d.bc("click",(function(){d.Ec(t);const e=d.fc(),i=d.Ac(80);return e.tossleActionsPerOne(i.viewValue)})),d.Rc(1),d.Sb()}if(2&t){const t=e.$implicit;d.mc("optionSelected",t.selected)("value",t.value),d.Cb(1),d.Tc(" ",t.label," ")}}function tt(t,e){if(1&t&&(d.Tb(0,"mat-hint",43),d.Rc(1),d.Sb()),2&t){const t=d.fc();d.Cb(1),d.Sc(t.errorMessage)}}function et(t,e){if(1&t&&(d.Tb(0,"button",44),d.Rc(1,"CREATE USER"),d.Sb()),2&t){const t=d.fc();d.mc("disabled",!t.user_create.valid)}}function it(t,e){if(1&t&&(d.Tb(0,"button",44),d.Rc(1,"UPDATE USER"),d.Sb()),2&t){const t=d.fc();d.mc("disabled",!t.user_create.valid)}}let st=(()=>{class t{constructor(t,e,i,s,n,o,r,c,l,u,b,h,m){this.defaults=t,this.dialogRef=e,this.dialog=i,this.fb=s,this.ClientService=n,this.cd=o,this.metadataService=r,this.snackbar=c,this.fv=l,this.fileService=u,this.masterService=b,this.authenticationService=h,this.envService=m,this.selectedUserClients=[],this.selectedUserActions=[],this.fileSize=0,this.mode="create",this._gap=16,this.gap=this._gap+"px",this.col2=`1 1 calc(50% - ${this._gap/2}px)`,this.col3=`1 1 calc(33.3333% - ${this._gap/1.5}px)`,this.col4=`1 1 calc(5% - ${this._gap/1}px)`,this.inputType="password",this.visible=!1,this.clients=[],this.actions=[],this.isCancel=!1,this.isDisable=new d.o,this.client_select=new a.g,this.selectedClients=[],this.selectedActions=[],this.baseUrl="",this.isUploadSuccess=!0,this.errorMessage="",this.subject$=new f.a(1),this.data$=this.subject$.asObservable(),e.disableClose=!0,this.fileSize=Math.floor(m.MaxBytes/1e6),this.baseUrl=m.backendForFiles}ngOnInit(){if(this.defaults){this.mode="update",this.image=this.baseUrl+"/uploads/"+this.defaults.image,this.response=this.defaults.image;for(let t=0;t<this.defaults.userClients.length;t++)this.selectedClients[t]=this.defaults.userClients[t].clientId;for(let t=0;t<this.defaults.userActions.length;t++)this.selectedActions[t]=this.defaults.userActions[t].actionId}else this.defaults=new y({});this.userClients=this.defaults.userClients[0]||new S({}),this.userActions=this.defaults.userActions[0]||new C({}),this.authenticationService.getRoles().subscribe(t=>{if(this.roles=t,null!=this.roles||null!=this.roles){let t=this.roles.findIndex(t=>"External"===t.description);t>=0&&this.roles.splice(t,1)}}),this.getDesignations(),this.getClients(),this.getActions(),this.user_create=this.fb.group({id:[this.defaults.id||t.id],username:[this.defaults.username||"",this.fv.requiredAlphanumericNoSpaces],password:[this.defaults.password,a.y.compose([a.y.pattern("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*#?&])[A-Za-zd$@$!%*#?&].{8,}")])],email:[this.defaults.email||"",this.fv.emailValidators],client_select:[""],role:[this.defaults.role||"",a.y.required],roleId:[this.defaults.roleId||"",a.y.required],designation:[this.defaults.designation||"",a.y.required],image:[this.baseUrl+"/uploads/"+this.defaults.image||""],userClients:[this.defaults.userClients],userActions:[this.defaults.userActions],action_select:[""]}),""==this.defaults.image&&(this.image="assets/img/avatars/two.png"),"update"==this.mode&&(this.user_create.controls.password.disable(),this.user_create.controls.username.disable(),this.user_create.controls.email.disable()),this.user_create.controls.role.valueChanges.subscribe(t=>{this.filteredRoles=this.filterRoles(t)}),this.user_create.controls.designation.valueChanges.subscribe(t=>{this.filteredDesignations=this.filterDesignations(t)})}getDesignations(){this.masterService.getUserMasterdata(12,0).subscribe(t=>{this.designations=t,this.filteredDesignations=t})}getRoles(){this.filteredRoles=this.filterRoles("")}getFilteredDesignations(){this.filteredDesignations=this.filterDesignations("")}filterRoles(t){return this.user_create.controls.role.pristine&&"create"!=this.mode?[]:this.roles.filter(e=>0===e.description.toLowerCase().indexOf(t.toLowerCase()))}filterDesignations(t){return this.user_create.controls.designation.pristine&&"create"!=this.mode?[]:this.designations.filter(e=>0===e.description.toLowerCase().indexOf(t.toLowerCase()))}removeExternalRole(t,e,i){return"External"!=t}save(){"create"===this.mode?this.createUserDetails():"update"===this.mode&&this.updateUserDetails()}isCreateMode(){return"create"===this.mode}isUpdateMode(){return"update"===this.mode}createUserDetails(){Object.assign(this.defaults,this.user_create.value);for(let t=0;t<this.selectedClients.length;t++)0!=this.selectedClients[t]&&this.selectedUserClients.push({userId:this.defaults.id,clientId:this.selectedClients[t]});this.defaults.userClients=this.selectedUserClients;for(let t=0;t<this.selectedActions.length;t++)0!=this.selectedActions[t]&&this.selectedUserActions.push({userId:this.defaults.id,actionId:this.selectedActions[t]});this.defaults.userActions=this.selectedUserActions,this.defaults.image=this.response,this.isCancel?(this.isCancel=!1,this.dialog.open(M.a,{data:{label:"Are you sure you want to Cancel?",selected:!1}}).afterClosed().subscribe(t=>{t&&this.dialogRef.close()})):this.user_create.valid&&this.dialogRef.close(new y(this.defaults))}updateUserDetails(){Object.assign(this.defaults,this.user_create.value);for(let t=0;t<this.selectedClients.length;t++)0!=this.selectedClients[t]&&this.selectedUserClients.push({userId:this.defaults.id,clientId:this.selectedClients[t]});this.defaults.userClients=this.selectedUserClients;for(let t=0;t<this.selectedActions.length;t++)0!=this.selectedActions[t]&&this.selectedUserActions.push({userId:this.defaults.id,actionId:this.selectedActions[t]});this.defaults.userActions=this.selectedUserActions,this.defaults.image=this.response,this.isCancel?(this.isCancel=!1,this.dialog.open(M.a,{data:{label:"Are you sure you want to Cancel?",selected:!1}}).afterClosed().subscribe(t=>{t&&this.dialogRef.close()})):this.user_create.valid&&this.dialogRef.close(new y(this.defaults))}onChangeRoles(t){this.roles.forEach(e=>{t.option.value==e.description&&this.user_create.controls.roleId.setValue(e.id)})}onChangeDesignation(t){this.designations.forEach(e=>{t.option.value==e.description&&this.user_create.controls.designation.setValue(e.description)})}getClients(){this.clients=[],this.ClientService.getClients().subscribe(t=>{t&&t.forEach(t=>{this.clients.push({label:t.clientName,value:t.id})})})}getActions(){this.actions=[],this.masterService.getSystemMasterdata(63,0).subscribe(t=>{t&&t.forEach(t=>{this.actions.push({label:t.description,value:t.id})})})}resetPassword(){}onChangeClients(t){this.selectedClients.indexOf(t[0])<0&&this.selectedClients.push(t[0])}uploadPhoto(t){this.image="assets/img/avatars/two.png",this.errorMessage="",this.fileService.upload(t.target.files[0],"image").subscribe({next:t=>{this.response=t,this.image=this.baseUrl+"/uploads/"+t,this.isUploadSuccess=!0},error:t=>{this.isUploadSuccess=!1,this.errorMessage=null==t.error.message?t.error.Message:t.error.message,"Request body too large."==this.errorMessage&&(this.errorMessage="Max. allowed File size is "+this.fileSize+"MB. Please upload file with smaller size.")}})}toggleAllSelection(){this.user_create.controls.client_select.patchValue(this.allSelected.selected?[...this.clients.map(t=>t.value),0]:[])}toggleAllActionSelection(){this.user_create.controls.action_select.patchValue(this.allActionsSelected.selected?[...this.actions.map(t=>t.value),0]:[])}tosslePerOne(t){if(this.allSelected.selected)return this.allSelected.deselect(),!1;this.user_create.controls.client_select.value.length==this.clients.length&&this.allSelected.select()}tossleActionsPerOne(t){if(this.allActionsSelected.selected)return this.allActionsSelected.deselect(),!1;this.user_create.controls.action_select.value.length==this.actions.length&&this.allActionsSelected.select()}toggleVisibility(){this.visible?(this.inputType="password",this.visible=!1,this.cd.markForCheck()):(this.inputType="text",this.visible=!0,this.cd.markForCheck())}close(){this.dialogRef.close()}closeDialog(){this.isCancel=!0}createDesignation(){this.dialog.open(w.a,{data:[0,12]}).afterClosed().subscribe(t=>{t&&"Success"==t&&this.getDesignations()})}}return t.\u0275fac=function(e){return new(e||t)(d.Nb(b.a),d.Nb(b.h),d.Nb(b.b),d.Nb(a.f),d.Nb(u.a),d.Nb(d.h),d.Nb(v.a),d.Nb(R.b),d.Nb(x.a),d.Nb(g.a),d.Nb(T.a),d.Nb(l.a),d.Nb(P.a))},t.\u0275cmp=d.Hb({type:t,selectors:[["app-create-user-form"]],viewQuery:function(t,e){var i;1&t&&(d.Vc(q,!0),d.Vc(V,!0),d.Vc(j,!0),d.Jc(h.a,!0),d.Jc(m.a,!0)),2&t&&(d.zc(i=d.cc())&&(e.fileInput=i.first),d.zc(i=d.cc())&&(e.allSelected=i.first),d.zc(i=d.cc())&&(e.allActionsSelected=i.first),d.zc(i=d.cc())&&(e.paginator=i.first),d.zc(i=d.cc())&&(e.sort=i.first))},outputs:{isDisable:"isDisable"},decls:91,vars:27,consts:[["mat-dialog-title",""],["role","toolbar",1,"task-header"],[1,"fx-spacer"],["mat-icon-button","",3,"click"],["title","Close","mat-list-icon",""],[3,"formGroup","ngSubmit"],[1,"padding-top"],[1,"person"],["fxLayout","column","fxLayout.gt-sm","row","fxLayoutGap.gt-sm","20px"],["fxFlex",""],["formControlName","username","matInput","","required",""],[4,"ngIf"],[3,"ctrl"],["matInput","","formControlName","role",3,"matAutocomplete","click","focus"],[3,"optionSelected"],["roleId","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"person","padding-top"],["fxFlex","48%"],["formControlName","password","matInput","","required","",3,"type"],["type","button","mat-icon-button","","matSuffix","","matTooltip","Toggle Visibility",3,"disabled","click"],[2,"width","83%"],["matInput","","formControlName","designation","required","",3,"matAutocomplete","click","focus"],["designationId","matAutocomplete"],["type","button","mat-mini-fab","","color","primary",1,"create",2,"height","30px","width","30px","margin-left","10px","padding-top","5px",3,"click"],[2,"height","10px","width","10px","padding-top","-5px","margin-top","-35px","margin-left","-15px"],["formControlName","email","matInput","","required",""],["multiple","","formControlName","client_select",3,"ngModel","ngModelChange"],[3,"value","click"],["allSelected",""],[3,"optionSelected","value","click",4,"ngFor","ngForOf"],[1,"profile"],[1,"profileImage",2,"width","100px","height","100px","border-radius","50%",3,"src"],["multiple","","formControlName","action_select",3,"ngModel","ngModelChange"],["allActionsSelected",""],["type","file","accept","image/*",1,"profileButton",2,"text-align","center",3,"change"],["fileInput",""],["class","errorMessage",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center"],["mat-button","",3,"click"],["mat-button","",3,"disabled",4,"ngIf"],[3,"value"],[3,"optionSelected","value","click"],[1,"errorMessage"],["mat-button","",3,"disabled"]],template:function(t,e){if(1&t&&(d.Tb(0,"div",0),d.Tb(1,"mat-toolbar",1),d.Tb(2,"span"),d.Rc(3,"User Creation"),d.Sb(),d.Ob(4,"span",2),d.Tb(5,"button",3),d.bc("click",(function(){return e.close()})),d.Tb(6,"mat-icon",4),d.Rc(7,"close"),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Tb(8,"form",5),d.bc("ngSubmit",(function(){return e.save()})),d.Tb(9,"mat-dialog-content"),d.Tb(10,"fury-card"),d.Tb(11,"fury-card-content",6),d.Tb(12,"div",7),d.Tb(13,"div",8),d.Tb(14,"mat-form-field",9),d.Tb(15,"mat-label"),d.Rc(16,"User Name"),d.Sb(),d.Ob(17,"input",10),d.Pc(18,G,2,0,"mat-hint",11),d.Ob(19,"app-show-errors",12),d.Sb(),d.Tb(20,"mat-form-field",9),d.Tb(21,"mat-label"),d.Rc(22,"Role"),d.Sb(),d.Tb(23,"input",13),d.bc("click",(function(){return e.getRoles()}))("focus",(function(){return e.getRoles()})),d.Sb(),d.Tb(24,"mat-autocomplete",14,15),d.bc("optionSelected",(function(t){return e.onChangeRoles(t)})),d.Pc(26,X,2,2,"mat-option",16),d.Sb(),d.Tb(27,"mat-hint"),d.Rc(28,"This will be Role."),d.Sb(),d.Ob(29,"app-show-errors",12),d.Sb(),d.Sb(),d.Sb(),d.Tb(30,"div",17),d.Tb(31,"div",8),d.Tb(32,"mat-form-field",18),d.Tb(33,"mat-label"),d.Rc(34,"Password"),d.Sb(),d.Ob(35,"input",19),d.Tb(36,"button",20),d.bc("click",(function(){return e.toggleVisibility()})),d.Pc(37,H,2,0,"mat-icon",11),d.Pc(38,K,2,0,"mat-icon",11),d.Sb(),d.Pc(39,Z,2,0,"mat-hint",11),d.Pc(40,Q,2,0,"mat-error",11),d.Sb(),d.Tb(41,"div",9),d.Tb(42,"mat-form-field",21),d.Tb(43,"mat-label"),d.Rc(44,"Designation"),d.Sb(),d.Tb(45,"input",22),d.bc("click",(function(){return e.getFilteredDesignations()}))("focus",(function(){return e.getFilteredDesignations()})),d.Sb(),d.Tb(46,"mat-autocomplete",14,23),d.bc("optionSelected",(function(t){return e.onChangeDesignation(t)})),d.Pc(48,B,2,2,"mat-option",16),d.Sb(),d.Tb(49,"mat-hint"),d.Rc(50,"This will be Designation."),d.Sb(),d.Ob(51,"app-show-errors",12),d.Sb(),d.Tb(52,"button",24),d.bc("click",(function(){return e.createDesignation()})),d.Tb(53,"mat-icon",25),d.Rc(54,"add"),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Tb(55,"div",17),d.Tb(56,"div",8),d.Tb(57,"mat-form-field",9),d.Tb(58,"mat-label"),d.Rc(59,"Email"),d.Sb(),d.Ob(60,"input",26),d.Pc(61,J,2,0,"mat-hint",11),d.Ob(62,"app-show-errors",12),d.Sb(),d.Tb(63,"mat-form-field",9),d.Tb(64,"mat-label"),d.Rc(65,"Clients"),d.Sb(),d.Tb(66,"mat-select",27),d.bc("ngModelChange",(function(t){return e.selectedClients=t})),d.Tb(67,"mat-option",28,29),d.bc("click",(function(){return e.toggleAllSelection()})),d.Rc(69,"Select All"),d.Sb(),d.Pc(70,Y,2,3,"mat-option",30),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Tb(71,"div",17),d.Tb(72,"div",8),d.Tb(73,"div",31),d.Ob(74,"img",32),d.Sb(),d.Tb(75,"mat-form-field",9),d.Tb(76,"mat-label"),d.Rc(77,"Actions"),d.Sb(),d.Tb(78,"mat-select",33),d.bc("ngModelChange",(function(t){return e.selectedActions=t})),d.Tb(79,"mat-option",28,34),d.bc("click",(function(){return e.toggleAllActionSelection()})),d.Rc(81,"Select All"),d.Sb(),d.Pc(82,W,2,3,"mat-option",30),d.Sb(),d.Sb(),d.Sb(),d.Tb(83,"input",35,36),d.bc("change",(function(t){return e.uploadPhoto(t)})),d.Sb(),d.Sb(),d.Pc(85,tt,2,1,"mat-hint",37),d.Sb(),d.Sb(),d.Sb(),d.Tb(86,"mat-dialog-actions",38),d.Tb(87,"button",39),d.bc("click",(function(){return e.closeDialog()})),d.Rc(88,"CANCEL"),d.Sb(),d.Pc(89,et,2,1,"button",40),d.Pc(90,it,2,1,"button",40),d.Sb(),d.Sb()),2&t){const t=d.Ac(25),i=d.Ac(47);d.Cb(8),d.mc("formGroup",e.user_create),d.Cb(10),d.mc("ngIf","create"==e.mode),d.Cb(1),d.mc("ctrl",e.user_create.get("username")),d.Cb(4),d.mc("matAutocomplete",t),d.Cb(3),d.mc("ngForOf",e.filteredRoles),d.Cb(3),d.mc("ctrl",e.user_create.get("role")),d.Cb(6),d.mc("type",e.inputType),d.Cb(1),d.mc("disabled","update"==e.mode),d.Cb(1),d.mc("ngIf",e.visible),d.Cb(1),d.mc("ngIf",!e.visible),d.Cb(1),d.mc("ngIf","create"==e.mode),d.Cb(1),d.mc("ngIf",null==e.user_create?null:e.user_create.get("password").invalid),d.Cb(5),d.mc("matAutocomplete",i),d.Cb(3),d.mc("ngForOf",e.filteredDesignations),d.Cb(3),d.mc("ctrl",e.user_create.get("designation")),d.Cb(10),d.mc("ngIf","create"==e.mode),d.Cb(1),d.mc("ctrl",e.user_create.get("email")),d.Cb(4),d.mc("ngModel",e.selectedClients),d.Cb(1),d.mc("value",0),d.Cb(3),d.mc("ngForOf",e.clients),d.Cb(4),d.nc("src",e.image,d.Gc),d.Cb(4),d.mc("ngModel",e.selectedActions),d.Cb(1),d.mc("value",0),d.Cb(3),d.mc("ngForOf",e.actions),d.Cb(3),d.mc("ngIf",0==e.isUploadSuccess),d.Cb(4),d.mc("ngIf",e.isCreateMode()),d.Cb(1),d.mc("ngIf",e.isUpdateMode())}},directives:[b.i,k.a,A.a,I.a,O.c,a.z,a.r,a.k,b.f,U.a,U.c,D.d,D.e,_.d,D.b,_.h,a.c,N.b,a.q,a.i,a.x,s.o,F.a,E.c,E.a,s.n,_.g,_.j,L.a,z.a,$.n,b.c,D.c,_.c],styles:[".task-header[_ngcontent-%COMP%]{background-color:transparent;padding:0 5px;height:20px}.fx-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.profile[_ngcontent-%COMP%]{width:48.5%;display:flex}.profileButton[_ngcontent-%COMP%]{align-self:center;padding:3px 10px}.errorMessage[_ngcontent-%COMP%]{color:red;font-size:smaller;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}"],data:{animation:[r.a,c.a,p.a]}}),t})();var at=i("+0xr"),nt=i("pLZG"),ot=i("tB66"),rt=i("a8hA"),ct=i("xBcV"),lt=i("Hbgg"),ut=i("rnAf"),dt=i("rvYj"),bt=i("a+RD"),ht=i("bSwM"),mt=i("STbY");function ft(t,e){if(1&t){const t=d.Ub();d.Tb(0,"th",18),d.Tb(1,"mat-checkbox",19),d.bc("click",(function(e){return d.Ec(t),e.stopPropagation()})),d.Sb(),d.Sb()}}function pt(t,e){if(1&t){const t=d.Ub();d.Tb(0,"td",20),d.Tb(1,"mat-checkbox",19),d.bc("click",(function(e){return d.Ec(t),e.stopPropagation()})),d.Sb(),d.Sb()}}function gt(t,e){1&t&&d.Ob(0,"th",21)}function St(t,e){if(1&t&&(d.Tb(0,"td",22),d.Ob(1,"img",23),d.Sb()),2&t){const t=e.$implicit;d.Cb(1),d.oc("src","http://i.pravatar.cc/30?u=",t.name,"",d.Gc)}}function Ct(t,e){if(1&t&&(d.Tb(0,"th",28),d.Rc(1),d.Sb()),2&t){const t=d.fc(2).$implicit;d.Cb(1),d.Tc(" ",t.name,"")}}function yt(t,e){if(1&t&&(d.Tb(0,"td",29),d.Rc(1),d.Sb()),2&t){const t=e.$implicit,i=d.fc(2).$implicit;d.Cb(1),d.Tc(" ",t[i.property]," ")}}function vt(t,e){if(1&t&&(d.Rb(0,25),d.Pc(1,Ct,2,1,"th",26),d.Pc(2,yt,2,1,"td",27),d.Qb()),2&t){const t=d.fc().$implicit;d.mc("matColumnDef",t.property)}}function xt(t,e){if(1&t&&(d.Rb(0),d.Pc(1,vt,3,1,"ng-container",24),d.Qb()),2&t){const t=e.$implicit;d.Cb(1),d.mc("ngIf",t.isModelProperty)}}function Tt(t,e){1&t&&d.Ob(0,"th",30)}function wt(t,e){if(1&t){const t=d.Ub();d.Tb(0,"td",20),d.Tb(1,"button",31),d.bc("click",(function(e){return d.Ec(t),e.stopPropagation()})),d.Tb(2,"mat-icon"),d.Rc(3,"more_horiz"),d.Sb(),d.Sb(),d.Tb(4,"mat-menu",32,33),d.Tb(6,"button",34),d.bc("click",(function(){d.Ec(t);const i=e.$implicit;return d.fc().updateUserDetail(i)})),d.Tb(7,"span"),d.Rc(8,"Modify"),d.Sb(),d.Sb(),d.Tb(9,"button",34),d.bc("click",(function(){d.Ec(t);const i=e.$implicit;return d.fc().deleteUserDetail(i)})),d.Tb(10,"span"),d.Rc(11,"Delete"),d.Sb(),d.Sb(),d.Sb(),d.Sb()}if(2&t){const t=d.Ac(5);d.Cb(1),d.mc("matMenuTriggerFor",t)}}function Mt(t,e){1&t&&d.Ob(0,"tr",35)}function Pt(t,e){if(1&t){const t=d.Ub();d.Tb(0,"tr",36),d.bc("click",(function(){d.Ec(t);const i=e.$implicit;return d.fc().updateUserDetail(i)})),d.Sb()}}const Rt=function(){return[]};let kt=(()=>{class t{constructor(t,e,i,s,a,n,o){this.fb=t,this.dialog=e,this.cd=i,this.snackbar=s,this.authenticationService=a,this.clientSelectionService=n,this.ClientService=o,this.subject$=new f.a(1),this.data$=this.subject$.asObservable(),this._gap=16,this.gap=this._gap+"px",this.col2=`1 1 calc(50% - ${this._gap/2}px)`,this.col3=`1 1 calc(33.3333% - ${this._gap/1.5}px)`,this.roles=[],this.clients=[],this.columns=[{name:"User Name",property:"username",visible:!0,isModelProperty:!0},{name:"Email",property:"email",visible:!0,isModelProperty:!0},{name:"Role",property:"role",visible:!0,isModelProperty:!0},{name:"Designation",property:"designation",visible:!0,isModelProperty:!0},{name:"Actions",property:"actions",visible:!0}],this.pageSize=10}set content(t){this.sort=t,this.sort&&(this.dataSource.sort=this.sort)}get visibleColumns(){return this.columns.filter(t=>t.visible).map(t=>t.property)}ngOnInit(){this.clientSelectionService.setIsClientVisible(!1),this.getUsers()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}saveUserDetails(){this.dialog.open(st,{width:"620px"}).afterClosed().subscribe(t=>{t&&this.authenticationService.register(t).subscribe({next:t=>{var e,i,s,a;if(t)if(t.responseDetails)if(t.responseDetails.status){const i="Notifications send failed. "+(null!==(e=t.responseDetails.status)&&void 0!==e?e:"");this.notificationMessage(i,"red-snackbar")}else{const e="User created successfully\nTotal Requests : "+(null===(i=t.responseDetails)||void 0===i?void 0:i.totalRequests)+"\nSuccessfull Requests : "+(null===(s=t.responseDetails)||void 0===s?void 0:s.successFullRequests)+"\nFailed Requests : "+(null===(a=t.responseDetails)||void 0===a?void 0:a.failedRequests);this.notificationMessage(e,"green-snackbar")}else t.isSuccess||t&&"Success"===t.status?this.notificationMessage("User created successfully","green-snackbar"):this.notificationMessage(t.message,"red-snackbar");this.getUsers()},error:t=>{this.notificationMessage(t,"red-snackbar")}})})}updateUserDetail(t){this.dialog.open(st,{data:t}).afterClosed().subscribe(t=>{t&&this.authenticationService.updateUserDetailbyId(t.id,t).subscribe({next:t=>{this.snackbar.open("User updated successfully",null,{duration:5e3,verticalPosition:"top",horizontalPosition:"center",panelClass:["green-snackbar"]}),this.getUsers()},error:t=>{this.notificationMessage("User updation failed","red-snackbar")}})})}deleteUserDetail(t){this.dialog.open(ot.a).afterClosed().subscribe(e=>{e&&this.authenticationService.deleteUserDetailbyId(t.id).subscribe({next:()=>{this.snackbar.open("User deleted successfully",null,{duration:5e3,verticalPosition:"top",horizontalPosition:"center",panelClass:["green-snackbar"]}),this.getUsers()},error:t=>{this.notificationMessage("User deletion failed","red-snackbar")}})})}validateAllFormFields(t){Object.keys(t.controls).forEach(e=>{const i=t.get(e);i instanceof a.g?i.markAsTouched({onlySelf:!0}):i instanceof a.j&&this.validateAllFormFields(i)})}onFilterChange(t){this.dataSource&&(t=(t=t.trim()).toLowerCase(),this.dataSource.filter=t)}notificationMessage(t,e){this.snackbar.open(t,null,{duration:5e3,verticalPosition:"top",horizontalPosition:"end",panelClass:[e]})}getUsers(){this.authenticationService.getUsers().subscribe({next:t=>{t=t.map(t=>new y(t)),this.subject$.next(t)},error:t=>{this.notificationMessage("Users not found.","red-snackbar")}}),this.dataSource=new at.k(this.userDetails),this.data$.pipe(Object(nt.a)(t=>!!t)).subscribe(t=>{this.userDetails=t,this.dataSource.data=t}),this.ngAfterViewInit()}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)(d.Nb(a.f),d.Nb(b.b),d.Nb(d.h),d.Nb(R.b),d.Nb(l.a),d.Nb(rt.a),d.Nb(u.a))},t.\u0275cmp=d.Hb({type:t,selectors:[["create-user"]],viewQuery:function(t,e){var i;1&t&&(d.Jc(st,!0),d.Jc(h.a,!0),d.Vc(m.a,!0)),2&t&&(d.zc(i=d.cc())&&(e.createUserFormComponent=i.first),d.zc(i=d.cc())&&(e.paginator=i.first),d.zc(i=d.cc())&&(e.content=i.first))},inputs:{columns:"columns"},decls:23,vars:10,consts:[["mode","card"],["current","Create Users",3,"crumbs"],["name","Create Users",3,"columns","filterChange"],[1,"actions"],["type","button","mat-mini-fab","","color","primary",1,"create",3,"click"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","checkbox"],["class","actions-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],["matColumnDef","image"],["class","image-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","image-cell","mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"paginator",3,"pageSize"],["mat-header-cell","",1,"actions-cell"],["color","primary",3,"click"],["mat-cell","",1,"actions-cell"],["mat-header-cell","",1,"image-cell"],["mat-cell","",1,"image-cell"],[3,"src"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"actions-cell"],["type","button","mat-icon-button","",3,"matMenuTriggerFor","click"],["yPosition","below","xPosition","before"],["actionsMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements",3,"click"]],template:function(t,e){1&t&&(d.Tb(0,"fury-page-layout",0),d.Tb(1,"fury-page-layout-header"),d.Ob(2,"fury-breadcrumbs",1),d.Sb(),d.Tb(3,"fury-page-layout-content"),d.Tb(4,"fury-list",2),d.bc("filterChange",(function(t){return e.onFilterChange(t)})),d.Tb(5,"div",3),d.Tb(6,"button",4),d.bc("click",(function(){return e.saveUserDetails()})),d.Tb(7,"mat-icon"),d.Rc(8,"add"),d.Sb(),d.Sb(),d.Sb(),d.Tb(9,"table",5),d.Rb(10,6),d.Pc(11,ft,2,0,"th",7),d.Pc(12,pt,2,0,"td",8),d.Qb(),d.Rb(13,9),d.Pc(14,gt,1,0,"th",10),d.Pc(15,St,2,1,"td",11),d.Qb(),d.Pc(16,xt,2,1,"ng-container",12),d.Rb(17,13),d.Pc(18,Tt,1,0,"th",14),d.Pc(19,wt,12,1,"td",8),d.Qb(),d.Pc(20,Mt,1,0,"tr",15),d.Pc(21,Pt,1,0,"tr",16),d.Sb(),d.Ob(22,"mat-paginator",17),d.Sb(),d.Sb(),d.Sb()),2&t&&(d.Cb(2),d.mc("@fadeInRight",void 0)("crumbs",d.qc(9,Rt)),d.Cb(1),d.mc("@fadeInUp",void 0),d.Cb(1),d.mc("columns",e.columns),d.Cb(5),d.mc("dataSource",e.dataSource),d.Cb(7),d.mc("ngForOf",e.columns),d.Cb(4),d.mc("matHeaderRowDef",e.visibleColumns),d.Cb(1),d.mc("matRowDefColumns",e.visibleColumns),d.Cb(1),d.mc("pageSize",e.pageSize))},directives:[ct.a,lt.a,ut.a,dt.a,bt.a,A.a,I.a,at.j,m.a,at.c,at.e,at.b,s.n,at.g,at.i,h.a,at.d,ht.a,at.a,s.o,m.b,mt.d,mt.e,mt.b,at.f,at.h],styles:["[_nghost-%COMP%]{background:url(/assets/img/backgrounds/form-wizard.jpg);background-size:cover;display:block}.title[_ngcontent-%COMP%]{color:#fff}.card[_ngcontent-%COMP%]{margin:24px;max-width:100%;border-radius:8px;overflow:hidden;box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12)}.card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font:var(--font-title)}.card[_ngcontent-%COMP%]   .subheading[_ngcontent-%COMP%]{font:var(--font-subheading-1)}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:12px 0}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-top:12px}.card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:24px;padding:24px 8px 0}.copyright[_ngcontent-%COMP%]{position:absolute;bottom:24px;right:24px;color:#fff}"],data:{animation:[r.a,c.a]}}),t})();var At=i("LGKg");const It=[{path:"",component:kt,canActivate:[At.a]},{path:"",component:o.a,canActivate:[At.a]}];let Ot=(()=>{class t{}return t.\u0275mod=d.Lb({type:t}),t.\u0275inj=d.Kb({factory:function(e){return new(e||t)},imports:[[n.j.forChild(It)],n.j]}),t})();var Ut=i("WCGO"),Dt=i("q8Jb"),_t=i("0jmt"),Nt=i("KthW"),Ft=i("YUcS"),Et=i("VE2z"),Lt=i("QibW"),zt=i("wZkO"),$t=i("GiUZ");let qt=(()=>{class t{}return t.\u0275mod=d.Lb({type:t}),t.\u0275inj=d.Kb({factory:function(e){return new(e||t)},imports:[[s.c,a.l,a.w,Ut.a,Nt.a]]}),t})(),Vt=(()=>{class t{}return t.\u0275mod=d.Lb({type:t}),t.\u0275inj=d.Kb({factory:function(e){return new(e||t)},imports:[[s.c,a.l,Et.a,_t.a,a.w,Ft.a,Nt.a,b.g,N.c,A.b,I.b,Lt.c,z.b,zt.c,$t.a,qt]]}),t})(),jt=(()=>{class t{}return t.\u0275mod=d.Lb({type:t}),t.\u0275inj=d.Kb({factory:function(e){return new(e||t)},imports:[[s.c,Ot,a.l,a.w,Nt.a,Ut.a,_t.a,Vt,Dt.a]]}),t})()},KGtp:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var s=i("R0Ic");const a=Object(s.n)("scaleIn",[Object(s.m)(":enter",[Object(s.l)({transform:"scale(0)"}),Object(s.e)("400ms cubic-bezier(0.35, 0, 0.25, 1)",Object(s.l)({transform:"scale(1)"}))])])},O3qS:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var s=i("sXtk"),a=i("fXoL"),n=i("tk/3");let o=(()=>{class t{constructor(t,e){this.http=t,this.envService=e,this.baseUrl="",this.baseUrl=e.backend}getMasterDetails(){return this.http.get(this.baseUrl+"/masterdetails")}getMasterDetailsById(t){return this.http.get(this.baseUrl+"/masterdetails/"+t)}getModes(){return this.http.get(this.baseUrl+"/masterdetails/getModes")}getParentModes(t){return this.http.get(this.baseUrl+"/masterdetails/getparentmodes/"+t)}createMasterDetails(t){return this.http.post(this.baseUrl+"/masterdetails/",t)}updateMasterDetails(t,e){return this.http.put(this.baseUrl+"/masterdetails/"+t,e)}}return t.\u0275fac=function(e){return new(e||t)(a.Xb(n.c),a.Xb(s.a))},t.\u0275prov=a.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},YaQ2:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var s=i("fXoL"),a=i("ofXK");function n(t,e){if(1&t&&(s.Tb(0,"small"),s.Rc(1),s.Ob(2,"br"),s.Sb()),2&t){const t=e.$implicit;s.Cb(1),s.Tc(" ",t," ")}}function o(t,e){if(1&t&&(s.Tb(0,"div"),s.Pc(1,n,3,1,"small",1),s.Sb()),2&t){const t=s.fc();s.Cb(1),s.mc("ngForOf",t.listOfErrors())}}let r=(()=>{class t{constructor(){this.PATTERN_ERROR_MESSAGE={"/^[a-zA-Z ]*$/":"Accepts only alphabets with spaces","/^[a-zA-Z0-9]*$/":"Accepts only alphanumeric values with no spaces","/^[a-zA-Z0-9 ]*$/":"Accepts only alphanumeric values with spaces","/^[0-9]*$/":"Accepts only numbers","^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{3,4}$":"Enter valid email address of format test@mail.com"},this.ERROR_MESSAGE={required:()=>"This field is required",minlength:t=>`Min ${t.requiredLength} chars is required but got only ${t.actualLength}`,maxlength:t=>`Max chars allowed is ${t.requiredLength} but got ${t.actualLength}`,pattern:t=>""+this.PATTERN_ERROR_MESSAGE[t.requiredPattern],email:()=>"Enter valid email address of format test@mail.com"}}ngOnInit(){}shouldShowErrors(){return this.ctrl&&this.ctrl.errors&&this.ctrl.touched}listOfErrors(){return Object.keys(this.ctrl.errors).map(t=>this.ERROR_MESSAGE[t](this.ctrl.getError(t)))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Hb({type:t,selectors:[["app-show-errors"]],inputs:{ctrl:"ctrl"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&s.Pc(0,o,2,1,"div",0),2&t&&s.mc("ngIf",e.shouldShowErrors())},directives:[a.o,a.n],styles:["small[_ngcontent-%COMP%]{color:red}"]}),t})()},"a+RD":function(t,e,i){"use strict";i.d(e,"a",(function(){return y}));var s=i("fXoL"),a=i("xgIS"),n=i("/uUt"),o=i("Kj3r"),r=i("ofXK"),c=i("STbY"),l=i("XiUz"),u=i("NFeN"),d=i("bTqV"),b=i("bSwM"),h=i("3Pt+");const m=["filter"];function f(t,e){if(1&t&&(s.Tb(0,"button",12),s.Tb(1,"mat-icon"),s.Rc(2,"filter_list"),s.Sb(),s.Sb()),2&t){s.fc(2);const t=s.Ac(3);s.mc("matMenuTriggerFor",t)}}function p(t,e){if(1&t&&(s.Tb(0,"div",5),s.Tb(1,"div",6),s.Rc(2),s.Sb(),s.Tb(3,"div",7),s.Tb(4,"mat-icon",8),s.Rc(5,"search"),s.Sb(),s.Ob(6,"input",9,10),s.Sb(),s.Pc(8,f,3,1,"button",11),s.kc(9,1),s.Sb()),2&t){const t=s.fc();s.Cb(2),s.Sc(t.name),s.Cb(6),s.mc("ngIf",!t.hideFilter)}}function g(t,e){if(1&t){const t=s.Ub();s.Tb(0,"button",13),s.bc("click",(function(i){s.Ec(t);const a=e.$implicit;return s.fc().toggleColumnVisibility(a,i)})),s.Tb(1,"mat-checkbox",14,15),s.bc("ngModelChange",(function(i){return s.Ec(t),e.$implicit.visible=i}))("click",(function(e){return s.Ec(t),e.stopPropagation()})),s.Rc(3),s.Sb(),s.Sb()}if(2&t){const t=e.$implicit;s.Cb(1),s.mc("ngModel",t.visible),s.Cb(2),s.Tc(" ",t.name," ")}}const S=["*",[["",8,"actions"]]],C=["*",".actions"];let y=(()=>{class t{constructor(){this.filterChange=new s.o}ngAfterViewInit(){this.hideHeader||Object(a.a)(this.filter.nativeElement,"keyup").pipe(Object(n.a)(),Object(o.a)(150)).subscribe(()=>{this.filterChange.emit(this.filter.nativeElement.value)})}toggleColumnVisibility(t,e){e.stopPropagation(),e.stopImmediatePropagation(),t.visible=!t.visible}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Hb({type:t,selectors:[["fury-list"]],viewQuery:function(t,e){var i;1&t&&s.Vc(m,!0),2&t&&s.zc(i=s.cc())&&(e.filter=i.first)},inputs:{name:"name",columns:"columns",hideHeader:"hideHeader",hideFilter:"hideFilter"},outputs:{filterChange:"filterChange"},ngContentSelectors:C,decls:6,vars:2,consts:[[1,"fury-list-table"],["class","fury-list-header","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px",4,"ngIf"],["yPosition","below","xPosition","before"],["columnFilter","matMenu"],["class","checkbox-item mat-menu-item",3,"click",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px",1,"fury-list-header"],[1,"fury-list-name"],["fxLayout","row","fxLayoutAlign","start center","fxFlex",""],[1,"fury-filter-input-icon"],["fxFlex","","placeholder","Search\u2026",1,"fury-filter-input"],["filter",""],["class","fury-column-filter","type","button","mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],["type","button","mat-icon-button","",1,"fury-column-filter",3,"matMenuTriggerFor"],[1,"checkbox-item","mat-menu-item",3,"click"],[1,"checkbox",3,"ngModel","ngModelChange","click"],["checkbox",""]],template:function(t,e){1&t&&(s.lc(S),s.Tb(0,"div",0),s.Pc(1,p,10,2,"div",1),s.Tb(2,"mat-menu",2,3),s.Pc(4,g,4,2,"button",4),s.Sb(),s.kc(5),s.Sb()),2&t&&(s.Cb(1),s.mc("ngIf",!e.hideHeader),s.Cb(3),s.mc("ngForOf",e.columns))},directives:[r.o,c.e,r.n,l.d,l.c,l.e,l.b,u.a,d.a,c.d,b.a,h.q,h.t],styles:[".fury-list-table{display:flex;flex-direction:column}.fury-list-table .fury-list-header{padding-left:24px;padding-right:24px;height:64px;border-top-left-radius:8px;border-top-right-radius:8px}@media screen and (max-width:599px){.fury-list-table .fury-list-header{height:auto;padding-top:24px;padding-bottom:24px}}.fury-list-table .fury-list-header .fury-list-name{font-size:20px;line-height:32px;font-weight:500;padding-right:24px}@media screen and (max-width:599px){.fury-list-table .fury-list-header .fury-list-name{border-right:none}}.fury-list-table .fury-list-header .fury-filter-input{font-size:16px;line-height:1.125;border:none;height:32px}.fury-list-table .fury-list-header .fury-filter-input:focus{outline:none}.fury-list-table .fury-list-header .fury-filter-input-icon{width:1.2em;vertical-align:bottom;height:22px;font-size:22px;margin-right:8px}.fury-list-table table{width:100%}.fury-list-table .mat-header-row .mat-header-cell .mat-sort-header-button{text-transform:uppercase}.fury-list-table .mat-cell.image-cell,.fury-list-table .mat-header-cell.image-cell{flex:0;width:59px}.fury-list-table .mat-cell.image-cell img,.fury-list-table .mat-header-cell.image-cell img{border-radius:50%;height:35px;width:35px;margin-right:24px;vertical-align:middle}.fury-list-table .mat-cell,.fury-list-table .mat-header-cell{white-space:nowrap;padding-left:12px;padding-right:12px}.fury-list-table .mat-cell.actions-cell,.fury-list-table .mat-header-cell.actions-cell{flex:0;width:40px;overflow:visible}.fury-list-table .paginator{display:block}"],encapsulation:2}),t})()},seMb:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var s=i("3Pt+"),a=i("fXoL");let n=(()=>{class t{constructor(){this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{3,4}$",this.nameValidators=s.y.compose([s.y.required,s.y.minLength(1),s.y.maxLength(256)]),this.optionalNameValidators=s.y.compose([s.y.minLength(1),s.y.maxLength(256),s.y.pattern(/^[a-zA-Z ]*$/)]),this.emailValidators=s.y.compose([s.y.required,s.y.pattern(this.emailPattern)]),this.mobileNumberValidators=s.y.compose([s.y.required,s.y.pattern(/^[0-9]*$/)]),this.addressValidators=s.y.compose([s.y.required,s.y.minLength(1),s.y.maxLength(256),s.y.pattern(/^[a-zA-Z0-9 ]*$/)]),this.subjectValidator=s.y.compose([s.y.required,s.y.minLength(1),s.y.maxLength(1e3),s.y.pattern(/^[a-zA-Z0-9 ]*$/)]),this.optionsAddressValidators=s.y.compose([s.y.minLength(1),s.y.maxLength(256),s.y.pattern(/^[a-zA-Z0-9 ]*$/)]),this.postalCodeValidators=s.y.compose([s.y.pattern(/^[a-zA-Z0-9]*$/)]),this.requiredAlphanumericNoSpaces=s.y.compose([s.y.required,s.y.minLength(1),s.y.maxLength(256),s.y.pattern(/^[a-zA-Z0-9]*$/)]),this.passwordValidators=s.y.compose([s.y.required,s.y.minLength(8)])}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},tB66:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var s=i("fXoL"),a=i("0IaG"),n=i("XiUz"),o=i("bTqV");let r=(()=>{class t{constructor(t){this.dialogRef=t,this.confirmMessage="Are you sure you want to Delete?",t.disableClose=!0}getConfirmation(t){this.dialogRef.close(t)}}return t.\u0275fac=function(e){return new(e||t)(s.Nb(a.h))},t.\u0275cmp=s.Hb({type:t,selectors:[["fury-user-confirmation-popup"]],decls:9,vars:1,consts:[[1,"heading"],[1,"mat-dlg-content","contentStyle"],["fxLayout","row","fxLayoutAlign","end center",1,"bottomPadding"],["mat-button","",3,"click"],["mat-button","",1,"buttonStyle",3,"click"]],template:function(t,e){1&t&&(s.Tb(0,"div",0),s.Rc(1," Confirm Action "),s.Sb(),s.Tb(2,"div",1),s.Rc(3),s.Sb(),s.Tb(4,"mat-dialog-actions",2),s.Tb(5,"button",3),s.bc("click",(function(){return e.getConfirmation(!1)})),s.Rc(6,"NO"),s.Sb(),s.Tb(7,"button",4),s.bc("click",(function(){return e.getConfirmation(!0)})),s.Rc(8,"YES"),s.Sb(),s.Sb()),2&t&&(s.Cb(3),s.Sc(e.confirmMessage))},directives:[a.c,n.d,n.c,o.a],styles:[".buttonStyle[_ngcontent-%COMP%]{background:#1976d2;color:#fff;padding-right:10px}.headingStyle[_ngcontent-%COMP%]{text-align:center;color:red;background-color:silver;border-radius:50%;width:100px;height:100px}.heading[_ngcontent-%COMP%]{font-size:large;font-weight:700;margin-top:10px}mat-icon[_ngcontent-%COMP%]{font-size:56px;height:56px;width:56px;line-height:56px;justify-content:center}.contentStyle[_ngcontent-%COMP%]{padding-top:40px;padding-bottom:30px;padding-right:30px}.rightAlign[_ngcontent-%COMP%]{text-align:right}.bottomPadding[_ngcontent-%COMP%]{padding-bottom:20px}"]}),t})()},zP6O:function(t,e,i){"use strict";i.d(e,"a",(function(){return w}));var s=i("3Pt+"),a=i("0IaG"),n=i("/ptB"),o=i("O3qS"),r=i("xXXn"),c=i("fXoL"),l=i("dNgK"),u=i("/t3+"),d=i("bTqV"),b=i("NFeN"),h=i("MutI"),m=i("4FRi"),f=i("XiUz"),p=i("ofXK"),g=i("kmnG"),S=i("qFsG"),C=i("YaQ2"),y=i("/1cH"),v=i("FKr1");function x(t,e){if(1&t&&(c.Tb(0,"mat-option",20),c.Rc(1),c.Sb()),2&t){const t=e.$implicit;c.mc("value",t.description),c.Cb(1),c.Tc(" ",t.description," ")}}function T(t,e){if(1&t){const t=c.Ub();c.Tb(0,"mat-form-field",10),c.Tb(1,"mat-label"),c.Rc(2,"Parent Item"),c.Sb(),c.Tb(3,"input",16),c.bc("ngModelChange",(function(e){return c.Ec(t),c.fc().parentName=e})),c.Sb(),c.Tb(4,"mat-autocomplete",17,18),c.bc("optionSelected",(function(e){return c.Ec(t),c.fc().selectParentMode(e)})),c.Pc(6,x,2,2,"mat-option",19),c.Sb(),c.Sb()}if(2&t){const t=c.Ac(5),e=c.fc();c.Cb(3),c.mc("matAutocomplete",t)("ngModel",e.parentName),c.Cb(3),c.mc("ngForOf",e.filteredParentModes)}}let w=(()=>{class t{constructor(t,e,i,s,a,n){this.dialogRef=t,this.masterDetailsService=e,this.snackbar=i,this.dialog=s,this.modes=a,this.fb=n,this.isCancel=!1,this.parentExists=!1,this.modeId=0,this.parentId=0,this.parentName="",this.parentIdFilter=0,t.disableClose=!0}ngOnInit(){this.parentId=this.modes[0],this.modeId=this.modes[1],this.parentIdFilter=null==this.modes[2]?0:this.modes[2],this.defaults=new n.a({}),this.form=this.fb.group({parentId:[this.defaults.parentId||""],parentName:[this.defaults.parentName||""],description:[this.defaults.description||"",s.y.required]}),this.modeId&&(this.parentExists=!1,this.form.controls.parentName.clearValidators(),this.form.controls.parentName.markAsUntouched(),this.masterDetailsService.getParentModes(this.modeId).subscribe(t=>{if(t){this.parentIdFilter>0&&(t=t.filter(t=>t.id==this.parentIdFilter)),this.filteredParentModes=t,this.metadataParentModes=t;let e=t.filter(t=>t.id==this.parentId);e&&e.length>0&&(this.parentName=e[0].description,this.form.controls.parentId.setValue(e[0].id)),t&&t.length>0&&(this.parentExists=!0,this.form.controls.parentName.setValidators([s.y.required]))}}),this.form.controls.parentName.updateValueAndValidity()),this.form.controls.parentName.valueChanges.subscribe(t=>{this.filteredParentModes=this.filterParentMode(t)})}filterParentMode(t){return this.metadataParentModes.filter(e=>0===e.description.toLowerCase().indexOf(t.toLowerCase()))}save(){this.isCancel?(this.isCancel=!1,this.dialog.open(r.a,{data:{label:"Are you sure you want to Cancel?",selected:!1}}).afterClosed().subscribe(t=>{t&&this.dialogRef.close()})):(Object.assign(this.defaults,this.form.value),this.defaults.mode=this.modeId,""==this.form.controls.parentId.value&&(this.defaults.parentId=0),this.masterDetailsService.createMasterDetails(this.defaults).subscribe(t=>{t?(this.notificationMessage("Master Details Created Successfully.","green-snackbar"),this.dialogRef.close("Success")):this.notificationMessage("Master Details Creation Failed.","red-snackbar")}))}notificationMessage(t,e){this.snackbar.open(t,null,{duration:5e3,verticalPosition:"top",horizontalPosition:"end",panelClass:[e]})}selectParentMode(t){this.metadataParentModes.forEach(e=>{t.option.value==e.description&&(this.form.controls.parentName.setValue(e.description),this.form.controls.parentId.setValue(e.id))})}close(){this.dialogRef.close()}closeDialog(){this.isCancel=!0}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(a.h),c.Nb(o.a),c.Nb(l.b),c.Nb(a.b),c.Nb(a.a),c.Nb(s.f))},t.\u0275cmp=c.Hb({type:t,selectors:[["fury-create-user-master"]],decls:27,vars:4,consts:[["mat-dialog-title",""],["role","toolbar",1,"task-header"],[1,"fx-spacer"],["mat-icon-button","",3,"click"],["title","Close","mat-list-icon",""],[3,"formGroup","ngSubmit"],[1,"mat-dlg-content"],[1,"person","padding-top"],["fxLayout","column","fxLayout.gt-sm","row","fxLayoutGap.gt-sm","20px"],["fxFlex","",4,"ngIf"],["fxFlex",""],["type","text","formControlName","description","matInput",""],[3,"ctrl"],["fxLayout","row","fxLayoutAlign","end center"],["mat-button","",3,"click"],["mat-button","",3,"disabled"],["matInput","","formControlName","parentName",3,"matAutocomplete","ngModel","ngModelChange"],[3,"optionSelected"],["parent","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(c.Tb(0,"div",0),c.Tb(1,"mat-toolbar",1),c.Tb(2,"span"),c.Rc(3,"Create Master Details"),c.Sb(),c.Ob(4,"span",2),c.Tb(5,"button",3),c.bc("click",(function(){return e.close()})),c.Tb(6,"mat-icon",4),c.Rc(7,"close"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Tb(8,"form",5),c.bc("ngSubmit",(function(){return e.save()})),c.Tb(9,"mat-dialog-content",6),c.Tb(10,"fury-card"),c.Tb(11,"fury-card-content"),c.Tb(12,"div",7),c.Tb(13,"div",8),c.Pc(14,T,7,3,"mat-form-field",9),c.Tb(15,"mat-form-field",10),c.Tb(16,"mat-label"),c.Rc(17,"Item Name"),c.Sb(),c.Ob(18,"input",11),c.Ob(19,"app-show-errors",12),c.Tb(20,"mat-hint"),c.Rc(21,"Please enter Item Name"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Tb(22,"mat-dialog-actions",13),c.Tb(23,"button",14),c.bc("click",(function(){return e.closeDialog()})),c.Rc(24,"CANCEL"),c.Sb(),c.Tb(25,"button",15),c.Rc(26,"CREATE MASTER DETAILS"),c.Sb(),c.Sb(),c.Sb()),2&t&&(c.Cb(8),c.mc("formGroup",e.form),c.Cb(6),c.mc("ngIf",1==e.parentExists),c.Cb(5),c.mc("ctrl",e.form.get("description")),c.Cb(6),c.mc("disabled",!e.form.valid))},directives:[a.i,u.a,d.a,b.a,h.c,s.z,s.r,s.k,a.f,m.a,m.c,f.d,f.e,p.o,g.d,f.b,g.h,s.c,S.b,s.q,s.i,C.a,g.g,a.c,f.c,y.c,y.a,p.n,v.n],styles:[".task-header[_ngcontent-%COMP%]{background-color:transparent;padding:0 5px;height:20px}.fx-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),t})()}}]);