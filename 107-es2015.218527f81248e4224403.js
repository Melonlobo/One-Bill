(window.webpackJsonp=window.webpackJsonp||[]).push([[107],{h00q:function(e,t,s){"use strict";s.r(t),s.d(t,"CreateOwnerModule",(function(){return Dt}));var a=s("ofXK"),i=s("3Pt+"),o=s("q8Jb"),n=s("0jmt"),r=s("KthW"),c=s("tyNb"),l=s("M9IT"),d=s("Dh3D"),b=s("+0xr"),m=s("jtHE"),u=s("pLZG"),h=s("0IaG"),p=s("JyMN"),f=s("zyfE"),g=s("sOHO"),S=s("qIvx"),T=s("seMb"),y=s("UcNE"),C=s("Vvus"),w=s("/D9e"),v=s("kLqA"),O=s("6zYn"),N=s("Iab2"),D=s("zSPf"),k=s("tB66"),x=s("xXXn"),I=s("KHMF"),R=s("zP6O"),P=s("sXtk"),A=s("fXoL"),M=s("dNgK"),E=s("b6Qw"),U=s("/t3+"),V=s("bTqV"),F=s("NFeN"),L=s("MutI"),$=s("4FRi"),z=s("XiUz"),j=s("1jcm"),_=s("wZkO"),q=s("kmnG"),Q=s("qFsG"),B=s("/1cH"),G=s("YaQ2"),H=s("iadO"),K=s("Qu3c"),J=s("znSr"),W=s("FKr1"),X=s("bSwM");const Y=["fileInput"];function Z(e,t){if(1&e){const e=A.Ub();A.Tb(0,"mat-slide-toggle",91),A.bc("change",(function(t){return A.Ec(e),A.fc().toggleLoginEnabled(t)})),A.Rc(1,"Login Enabled "),A.Sb()}if(2&e){const e=A.fc();A.mc("checked",e.isLoginEnabled)}}function ee(e,t){if(1&e&&(A.Tb(0,"mat-form-field",92),A.Tb(1,"mat-label"),A.Rc(2,"Company Name"),A.Sb(),A.Ob(3,"input",93),A.Ob(4,"app-show-errors",20),A.Tb(5,"mat-hint"),A.Rc(6,"Owner Name cannot be Greater than 100"),A.Sb(),A.Sb()),2&e){const e=A.fc();A.Cb(4),A.mc("ctrl",null==e.form?null:e.form.get("ownerName"))}}function te(e,t){if(1&e){const e=A.Ub();A.Tb(0,"mat-form-field",94),A.Tb(1,"mat-label"),A.Rc(2,"TRN"),A.Sb(),A.Tb(3,"input",95),A.bc("change",(function(){return A.Ec(e),A.fc().checkTRNDuplication()}))("keyup",(function(){return A.Ec(e),A.fc().checkTRNDuplication()})),A.Sb(),A.Tb(4,"mat-hint",96),A.Rc(5),A.Sb(),A.Sb()}if(2&e){const e=A.fc();A.Cb(5),A.Sc(e.duplicateTRN)}}function se(e,t){if(1&e&&(A.Tb(0,"mat-option",97),A.Rc(1),A.Sb()),2&e){const e=t.$implicit;A.mc("value",e.description),A.Cb(1),A.Tc(" ",e.description," ")}}function ae(e,t){if(1&e&&(A.Tb(0,"mat-hint",98),A.Rc(1),A.Sb()),2&e){const e=A.fc();A.Cb(1),A.Sc(e.errorMessage)}}function ie(e,t){if(1&e&&(A.Tb(0,"mat-option",97),A.Rc(1),A.Tb(2,"mat-icon"),A.Rc(3),A.Sb(),A.Sb()),2&e){const e=t.$implicit;A.mc("value",e.description),A.Cb(1),A.Tc("",e.description," "),A.Cb(2),A.Sc(e.defaultValue)}}function oe(e,t){if(1&e&&(A.Tb(0,"mat-option",97),A.Rc(1),A.Sb()),2&e){const e=t.$implicit;A.mc("value",e.description),A.Cb(1),A.Tc(" ",e.description,"")}}function ne(e,t){if(1&e&&(A.Tb(0,"mat-option",97),A.Rc(1),A.Sb()),2&e){const e=t.$implicit;A.mc("value",e.description),A.Cb(1),A.Tc(" ",e.description,"")}}function re(e,t){if(1&e&&(A.Tb(0,"mat-hint",98),A.Rc(1),A.Sb()),2&e){const e=A.fc();A.Cb(1),A.Sc(e.errorMessage)}}function ce(e,t){if(1&e){const e=A.Ub();A.Tb(0,"th",99),A.Tb(1,"mat-checkbox",100),A.bc("click",(function(t){return A.Ec(e),t.stopPropagation()})),A.Sb(),A.Sb()}}function le(e,t){if(1&e){const e=A.Ub();A.Tb(0,"td",101),A.Tb(1,"mat-checkbox",100),A.bc("click",(function(t){return A.Ec(e),t.stopPropagation()})),A.Sb(),A.Sb()}}function de(e,t){1&e&&A.Ob(0,"th",102)}function be(e,t){if(1&e&&(A.Tb(0,"td",103),A.Ob(1,"img",104),A.Sb()),2&e){const e=t.$implicit;A.Cb(1),A.oc("src","http://i.pravatar.cc/30?u=",e.name,"",A.Gc)}}function me(e,t){1&e&&(A.Tb(0,"td",101),A.Tb(1,"mat-icon"),A.Rc(2,"more_horiz"),A.Sb(),A.Sb())}function ue(e,t){if(1&e&&(A.Tb(0,"th",108),A.Rc(1),A.Sb()),2&e){const e=A.fc(2).$implicit;A.Cb(1),A.Tc(" ",e.name,"")}}function he(e,t){if(1&e&&(A.Tb(0,"td",109),A.Rc(1),A.Sb()),2&e){const e=t.$implicit,s=A.fc(2).$implicit;A.Cb(1),A.Tc(" ",e[s.property]," ")}}function pe(e,t){if(1&e&&(A.Rb(0,106),A.Pc(1,ue,2,1,"th",107),A.Pc(2,he,2,1,"td",82),A.Qb()),2&e){const e=A.fc().$implicit;A.mc("matColumnDef",e.property)}}function fe(e,t){if(1&e&&(A.Rb(0),A.Pc(1,pe,3,1,"ng-container",105),A.Qb()),2&e){const e=t.$implicit;A.Cb(1),A.mc("ngIf",e.isModelProperty)}}function ge(e,t){1&e&&(A.Tb(0,"th",110),A.Rc(1,"File Name"),A.Sb())}function Se(e,t){if(1&e){const e=A.Ub();A.Tb(0,"td",109),A.Tb(1,"span",111),A.bc("click",(function(){A.Ec(e);const s=t.$implicit;return A.fc().downloadDocument(s)})),A.Rc(2),A.Sb(),A.Sb()}if(2&e){const e=t.$implicit;A.Cb(2),A.Sc(e.document)}}function Te(e,t){1&e&&(A.Tb(0,"th",99),A.Rc(1,"Action"),A.Sb())}function ye(e,t){if(1&e){const e=A.Ub();A.Tb(0,"td",112),A.bc("click",(function(){A.Ec(e);const s=t.$implicit;return A.fc().deleteDocument(s)})),A.Tb(1,"mat-icon",113),A.Rc(2,"delete"),A.Sb(),A.Sb()}}function Ce(e,t){1&e&&A.Ob(0,"tr",114)}function we(e,t){1&e&&A.Ob(0,"tr",115)}function ve(e,t){if(1&e&&(A.Tb(0,"mat-option",97),A.Rc(1),A.Sb()),2&e){const e=t.$implicit;A.mc("value",e.description),A.Cb(1),A.Tc(" ",e.description," ")}}function Oe(e,t){if(1&e){const e=A.Ub();A.Tb(0,"th",99),A.Tb(1,"mat-checkbox",100),A.bc("click",(function(t){return A.Ec(e),t.stopPropagation()})),A.Sb(),A.Sb()}}function Ne(e,t){if(1&e){const e=A.Ub();A.Tb(0,"td",101),A.Tb(1,"mat-checkbox",100),A.bc("click",(function(t){return A.Ec(e),t.stopPropagation()})),A.Sb(),A.Sb()}}function De(e,t){1&e&&A.Ob(0,"th",102)}function ke(e,t){if(1&e&&(A.Tb(0,"td",103),A.Ob(1,"img",104),A.Sb()),2&e){const e=t.$implicit;A.Cb(1),A.oc("src","http://i.pravatar.cc/30?u=",e.name,"",A.Gc)}}function xe(e,t){1&e&&(A.Tb(0,"td",101),A.Tb(1,"mat-icon"),A.Rc(2,"more_horiz"),A.Sb(),A.Sb())}function Ie(e,t){if(1&e&&(A.Tb(0,"th",108),A.Rc(1),A.Sb()),2&e){const e=A.fc(2).$implicit;A.Cb(1),A.Tc(" ",e.name,"")}}function Re(e,t){if(1&e&&(A.Tb(0,"td",109),A.Rc(1),A.Sb()),2&e){const e=t.$implicit,s=A.fc(2).$implicit;A.Cb(1),A.Tc(" ",e[s.property]," ")}}function Pe(e,t){if(1&e&&(A.Rb(0,106),A.Pc(1,Ie,2,1,"th",107),A.Pc(2,Re,2,1,"td",82),A.Qb()),2&e){const e=A.fc().$implicit;A.mc("matColumnDef",e.property)}}function Ae(e,t){if(1&e&&(A.Rb(0),A.Pc(1,Pe,3,1,"ng-container",105),A.Qb()),2&e){const e=t.$implicit;A.Cb(1),A.mc("ngIf",e.isModelProperty)}}function Me(e,t){1&e&&(A.Tb(0,"th",99),A.Rc(1,"Modify"),A.Sb())}function Ee(e,t){if(1&e){const e=A.Ub();A.Tb(0,"td",112),A.bc("click",(function(){A.Ec(e);const s=t.$implicit;return A.fc(2).deleteOwnership(s)})),A.Tb(1,"mat-icon",113),A.Rc(2,"delete"),A.Sb(),A.Sb()}}function Ue(e,t){1&e&&A.Ob(0,"tr",114)}function Ve(e,t){1&e&&A.Ob(0,"tr",115)}function Fe(e,t){if(1&e){const e=A.Ub();A.Tb(0,"mat-tab",116),A.Tb(1,"fury-card-content",14),A.Tb(2,"div",37),A.Tb(3,"div",6),A.Tb(4,"div",26),A.Tb(5,"mat-form-field",27),A.Tb(6,"mat-label"),A.Rc(7,"Unit"),A.Sb(),A.Ob(8,"input",117),A.Tb(9,"mat-autocomplete",17,118),A.bc("optionSelected",(function(t){return A.Ec(e),A.fc().selectUnit(t)})),A.Pc(11,ve,2,2,"mat-option",19),A.Sb(),A.Ob(12,"app-show-errors",20),A.Sb(),A.Tb(13,"mat-form-field",27),A.Tb(14,"mat-label"),A.Rc(15,"Start Date"),A.Sb(),A.Ob(16,"input",119),A.Ob(17,"app-show-errors",20),A.Sb(),A.Tb(18,"button",120),A.bc("click",(function(){return A.Ec(e),A.fc().saveOwnership()})),A.Rc(19,"CREATE OWNERSHIP"),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Tb(20,"table",71),A.Rb(21,72),A.Pc(22,Oe,2,0,"th",73),A.Pc(23,Ne,2,0,"td",74),A.Qb(),A.Rb(24,75),A.Pc(25,De,1,0,"th",76),A.Pc(26,ke,2,1,"td",77),A.Qb(),A.Rb(27,78),A.Tb(28,"th"),A.Rc(29,"Modify"),A.Sb(),A.Pc(30,xe,3,0,"td",74),A.Qb(),A.Pc(31,Ae,2,1,"ng-container",79),A.Rb(32,83),A.Pc(33,Me,2,0,"th",73),A.Pc(34,Ee,3,0,"td",84),A.Qb(),A.Pc(35,Ue,1,0,"tr",85),A.Pc(36,Ve,1,0,"tr",86),A.Sb(),A.Tb(37,"div"),A.Rc(38),A.Sb(),A.Sb(),A.Sb()}if(2&e){const e=A.Ac(10),t=A.fc();A.Cb(2),A.mc("formGroup",t.form.controls.ownerships),A.Cb(6),A.mc("matAutocomplete",e),A.Cb(3),A.mc("ngForOf",t.filteredUnits),A.Cb(1),A.mc("ctrl",t.form.controls.ownerships.get("unitId")),A.Cb(5),A.mc("ctrl",t.form.controls.ownerships.get("startDate")),A.Cb(1),A.mc("disabled",""===t.form.controls.ownerships.get("unit").value||null===t.form.controls.ownerships.get("unitId").value||""===t.form.controls.ownerships.get("startDate").value),A.Cb(2),A.mc("dataSource",t.ownershipdataSource),A.Cb(11),A.mc("ngForOf",t.ownershipcolumns),A.Cb(4),A.mc("matHeaderRowDef",t.ownershipVisibleColumns),A.Cb(1),A.mc("matRowDefColumns",t.ownershipVisibleColumns),A.Cb(2),A.Tc(" ",t.length,"")}}function Le(e,t){if(1&e&&(A.Tb(0,"button",121),A.Rc(1,"CREATE OWNER/TENANT"),A.Sb()),2&e){const e=A.fc();A.mc("disabled",!e.form.valid||!e.form.controls.address.valid||!e.form.controls.bank.valid||""!=e.duplicateTRN)}}function $e(e,t){if(1&e&&(A.Tb(0,"button",121),A.Rc(1,"UPDATE OWNER/TENANT"),A.Sb()),2&e){const e=A.fc();A.mc("disabled",!e.form.valid||!e.form.controls.address.valid||!e.form.controls.bank.valid||""!=e.duplicateTRN)}}let ze=(()=>{class e{constructor(e,t,s,a,i,o,n,r,c,l,d,b,u,h){var p;this.defaults=e,this.ownerService=t,this.date=s,this.dialogRef=a,this.fb=i,this.metadataService=o,this.fv=n,this.constantsService=r,this.fileService=c,this.masterService=l,this.snackbar=d,this.dialog=b,this.cookieService=u,this.envService=h,this.baseUrl="",this.fileSize=0,this.today=new Date,this.mode="create",this.isCancel=!1,this.dateFormat="",this.addressTypeId=24,this.documents=[],this.duplicateTRN="",this.parameterValue=!0,this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{3,4}$",this.isUploadSuccess=!0,this.errorMessage="",this.isDocumentUploadSuccess=!0,this.documentName="",this.subject$=new m.a(1),this.data$=this.subject$.asObservable(),this.ownershipsubject$=new m.a(1),this.ownershipdata$=this.ownershipsubject$.asObservable(),this.regex="^[a-zA-Z0-9]$",this.columns=[{name:"Document Type",property:"documentType",visible:!0,isModelProperty:!0},{name:"Path",property:"documentPath",visible:!1},{name:"File Name",property:"document",visible:!0},{name:"Modify",property:"actions",visible:!0}],this.pageSize=10,this.downloadVar="",this.ownershipcolumns=[{name:"Unit",property:"unit",visible:!0,isModelProperty:!0},{name:"Start Date",property:"startDateLocal",visible:!0,isModelProperty:!0},{name:"Modify",property:"actions",visible:!0}],this.ownershippageSize=10,a.disableClose=!0,this.fileSize=Math.floor(h.MaxBytes/1e6),this.baseUrl=h.backendForFiles,this.dateFormat=null!==(p=Object(I.e)("DateFormat"))&&void 0!==p?p:h.dateFormat}set content(e){this.sort=e,this.sort&&(this.dataSource.sort=this.sort)}get visibleColumns(){return this.columns.filter(e=>e.visible).map(e=>e.property)}get ownershipVisibleColumns(){return this.ownershipcolumns.filter(e=>e.visible).map(e=>e.property)}ngOnInit(){this.clientId=parseInt(this.cookieService.get("globalClientId")),this.defaults?(this.mode="update",this.ownerships=this.defaults.ownerships):this.defaults=new p.a({}),this.address=this.defaults.addresses.filter(e=>e.addressTypeId===this.addressTypeId)[0]||new f.a({}),this.bankDetails=this.defaults.bankDetails[0]||new S.a({}),this.ownership=new O.a({}),this.masterService.getSystemMasterdata(15,0).subscribe(e=>{this.metadataCountries=e,this.filteredCountries=e}),this.getDocumentTypes(),this.masterService.getSystemMasterdata(26,0).subscribe(e=>{this.metadataTitles=e,this.filteredTitles=e}),this.masterService.getSystemMasterdata(22,0).subscribe(e=>{this.metadataAddressTypes=e,this.filteredAddressTypes=e,this.updateAddressIcons()}),this.ownerService.getUnits(this.clientId).subscribe(e=>{this.metadataUnits=e,this.filteredUnits=e}),this.masterService.getParameterValue("Owner").subscribe(e=>{e||(this.parameterValue=e)}),this.metadataAddressTypes&&this.metadataAddressTypes.forEach(e=>{e.id===this.addressTypeId&&(this.addressType=e.description)}),this.image=this.baseUrl+"/uploads/"+this.defaults.photo,""==this.defaults.photo&&(this.image="assets/img/avatars/two.png"),this.response=this.defaults.photo,this.isOwner="Owner"==this.defaults.entityType,this.form=this.fb.group({id:[this.defaults.id||0],clientId:[this.defaults.clientId],trn:[this.defaults.trn||""],title:[this.defaults.title||"",i.y.required],titleId:[this.defaults.titleId||"",i.y.required],firstName:[this.defaults.firstName||"",i.y.required],lastName:[this.defaults.lastName||"",i.y.required],mobile:[this.defaults.mobile||"",this.fv.mobileNumberValidators],email:[this.defaults.email||"",this.fv.emailValidators],dob:[this.defaults.dob&&new Date(this.defaults.dob).toISOString().substr(0,10)||""],accountNumber:[this.defaults.accountNumber||"",this.fv.requiredAlphanumericNoSpaces],photo:[this.defaults.photo||""],isCompanySelected:[this.defaults.isCompany||!1],ownerName:[this.defaults.ownerName||""],entityType:[this.defaults.entityType],isLoginEnabled:[this.defaults.userDetails.isLoginEnabled],isOwner:[this.isOwner],address:this.fb.group({city:[this.address.city||""],zipPostalCode:[this.address.zipPostalCode||""],address1:[this.address.address1||""],address2:[this.address.address2||""],country:[this.address.country||""],countryId:[this.address.countryId||0],addressType:[this.address.addressType||""],addressTypeId:[this.address.addressTypeId||""],email:[this.address.email||""],phoneNumber:[this.address.phoneNumber||""]}),bank:this.fb.group({accountName:[this.bankDetails.accountName||""],accountNo:[this.bankDetails.accountNo||""],bankName:[this.bankDetails.bankName||""],bankAddress:[this.bankDetails.bankAddress||""],swiftCode:[this.bankDetails.swiftCode||""],ibanNumber:[this.bankDetails.ibanNumber||""]}),documentType:"",documentTypeId:0,ownerships:this.fb.group({id:[this.ownership.id||0],unitId:[this.ownership.unitId||0],unit:[this.ownership.unit||""],startDate:[this.ownership.startDate&&new Date(this.ownership.startDate).toISOString().substr(0,10)||""]})}),this.defaults&&"update"===this.mode&&this.form.controls.accountNumber.value&&this.form.get("accountNumber").disable(),this.enbaleAddressValidators(),this.documents=this.defaults.documents||[],this.documents.forEach(e=>{let t=e.documentPath.indexOf(",");t>0&&(e.document=e.documentPath.substr(t+1,e.documentPath.length),e.documentPath=e.documentPath.substr(0,t))}),this.subject$.next(this.documents),this.dataSource=new b.k,this.data$.pipe(Object(u.a)(e=>!!e)).subscribe(e=>{this.documents=e,this.dataSource.data=e}),this.ownerships=this.defaults.ownerships||[],this.bindOwnershipDetails(),this.isLoginEnabled=""!==(this.defaults.userDetails.isLoginEnabled||""),this.isCompanySelected=this.defaults.isCompany,this.form.controls.title.valueChanges.subscribe(e=>{this.filteredTitles=this.filterTitle(e)}),this.form.controls.address.get("addressType").valueChanges.subscribe(e=>{this.filteredAddressTypes=this.filterAddressType(e)}),this.form.controls.address.get("country").valueChanges.subscribe(e=>{this.filteredCountries=""!=e?this.filterCountry(e):this.metadataCountries}),this.form.controls.documentType.valueChanges.subscribe(e=>{this.filteredDocumentTypes=this.filterDocumentType(e)}),this.form.controls.ownerships.get("unit").valueChanges.subscribe(e=>{this.filteredUnits=this.filterUnits(e)})}getDocumentTypes(){this.masterService.getUserMasterdata(20,0).subscribe(e=>{this.metadataDocumentTypes=e,this.filteredDocumentTypes=e})}filterTitle(e){return this.metadataTitles.filter(t=>0===t.description.toLowerCase().indexOf(e.toLowerCase()))}filterAddressType(e){return this.metadataAddressTypes.filter(t=>0===t.description.toLowerCase().indexOf(e.toLowerCase()))}filterCountry(e){return""!=e?this.metadataCountries.filter(t=>0===t.description.toLowerCase().indexOf(e.toLowerCase())):this.metadataCountries}getFilteredCountry(){this.filteredCountries=this.filterCountry(this.form.controls.address.get("country").value)}filterDocumentType(e){return this.metadataDocumentTypes.filter(t=>0===t.description.toLowerCase().indexOf(e.toLowerCase()))}filterUnits(e){return this.metadataUnits.filter(t=>0===t.description.toLowerCase().indexOf(e.toLowerCase()))}ngAfterViewInit(){this.dataSource&&(this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)}getAddressType(e){this.filteredAddressTypes=this.filterAddressType(e)}bindOwnershipDetails(){this.ownerships.forEach(e=>{e.startDateLocal=this.date.transform(e.startDate.toString(),this.dateFormat.toString())}),this.ownershipsubject$.next(this.ownerships),this.ownershipdataSource=new b.k(this.ownerships),this.ownershipdata$.pipe(Object(u.a)(e=>!!e)).subscribe(e=>{this.ownerships=e,this.ownershipdataSource.data=e}),length=this.ownerships.length}save(){this.updateAddress(),this.updateBankDetails(),this.documents.forEach(e=>{e.documentPath=e.documentPath+","+e.document}),this.defaults.documents=this.documents,this.isCancel?(this.isCancel=!1,this.dialog.open(x.a,{data:{label:"Are you sure you want to Cancel?",selected:!1}}).afterClosed().subscribe(e=>{e&&this.dialogRef.close()})):this.form.valid?"create"===this.mode?this.createOwner():"update"===this.mode&&this.updateOwner():this.notificationMessage("Form validation failed","red-snackbar")}createOwner(){Object.assign(this.defaults,this.form.value),this.defaults.trn=this.form.controls.trn.value.toString(),this.defaults.isCompany=this.isCompanySelected,this.defaults.photo=this.response,this.defaults.ownerName=this.isCompanySelected?this.form.controls.ownerName.value:this.defaults.firstName+" "+this.defaults.lastName,this.defaults.ownerships=this.ownerships,this.defaults.userDetails.isLoginActivated=this.defaults.userDetails.isLoginEnabled!==this.isLoginEnabled,this.defaults.userDetails=this.createUserDetails(),this.isCancel?(this.isCancel=!1,this.dialog.open(x.a,{data:{label:"Are you sure you want to Cancel?",selected:!1}}).afterClosed().subscribe(e=>{e&&this.dialogRef.close()})):this.form.valid&&this.dialogRef.close(new p.a(this.defaults))}createUserDetails(){return{username:this.defaults.accountNumber,email:this.defaults.email,password:this.getRandomString(15),role:"External",designation:"External",image:this.defaults.photo,isLoginEnabled:this.isLoginEnabled,userClients:[{clientId:Number(parseInt(this.cookieService.get("globalClientId")))}]}}saveOwnership(){if(this.form.controls.ownerships.valid){let e=this.form.controls.ownerships.get("unitId").value;this.ownerships.findIndex(t=>t.unitId===e)&&(this.ownerships.push({id:0,unitId:this.form.controls.ownerships.get("unitId").value,unit:this.form.controls.ownerships.get("unit").value,startDate:this.form.controls.ownerships.get("startDate").value}),this.bindOwnershipDetails(),this.form.controls.ownerships.reset())}}deleteOwnership(e){this.ownerships.splice(this.ownerships.findIndex(t=>t.id===e.id),1),this.bindOwnershipDetails()}getRandomString(e){if(1==this.defaults.userDetails.isLoginActivated)return("P@Qr$#S"+v.Guid.create().toString()).substring(0,e-1)}notificationMessage(e,t){this.snackbar.open(e,null,{duration:5e3,verticalPosition:"top",horizontalPosition:"center",panelClass:[t]})}updateOwner(){Object.assign(this.defaults,this.form.value),this.defaults.trn=this.form.controls.trn.value.toString(),this.defaults.isCompany=this.isCompanySelected,void 0!==this.response&&(this.defaults.photo=this.response),this.defaults.userDetails.isLoginActivated=this.defaults.userDetails.isLoginEnabled!==this.isLoginEnabled,this.defaults.userDetails=this.updateUserDetails(),this.defaults.ownerName=this.isCompanySelected?this.form.controls.ownerName.value:this.defaults.firstName+" "+this.defaults.lastName,this.defaults.ownerships=this.ownerships,this.isCancel?(this.isCancel=!1,this.dialog.open(x.a,{data:{label:"Are you sure you want to Cancel?",selected:!1}}).afterClosed().subscribe(e=>{e&&this.dialogRef.close()})):this.form.valid&&(console.log(JSON.stringify(this.defaults)),this.dialogRef.close(new p.a(this.defaults)))}updateUserDetails(){return{id:this.defaults.userId,username:this.defaults.accountNumber,password:this.getRandomString(15),email:this.defaults.email,role:"External",designation:"External",image:this.defaults.photo,isLoginEnabled:this.isLoginEnabled,userClients:[{clientId:Number(parseInt(this.cookieService.get("globalClientId")))}]}}isCreateMode(){return"create"===this.mode}isUpdateMode(){return"update"===this.mode}changeAddressType(e){this.addressType=e.option.value,this.metadataAddressTypes.forEach(e=>{this.addressType===e.description&&(this.addressTypeId=e.id)}),this.address=this.defaults.addresses.filter(e=>e.addressTypeId===this.addressTypeId)[0]||new f.a({}),this.form.controls.address=this.fb.group({city:[this.address.city||""],zipPostalCode:[this.address.zipPostalCode||""],address1:[this.address.address1||""],address2:[this.address.address2||""],country:[this.address.country||""],countryId:[this.address.countryId||0],addressType:[this.addressType||""],addressTypeId:[this.address.addressTypeId||""],email:[this.address.email||""],phoneNumber:[this.address.phoneNumber||""]}),this.enbaleAddressValidators()}updateAddress(){if(this.form.controls.address.valid){let e=!1;if(this.defaults.addresses.forEach(t=>{t.addressTypeId===this.addressTypeId&&(e=!0,Object.assign(t,this.form.controls.address.value),t.addressType=this.addressType)}),!e){let e={addressTypeId:this.addressTypeId};Object.assign(e,this.form.controls.address.value),Object.assign(e,{addresstype:this.addressType}),this.defaults.addresses.push(new f.a(e))}}}updateBankDetails(){this.form.controls.bank.valid&&(this.defaults.bankDetails[0]?Object.assign(this.defaults.bankDetails[0],this.form.controls.bank.value):this.defaults.bankDetails.push(new S.a(this.form.controls.bank.value)))}uploadPhoto(e){this.image="assets/img/avatars/two.png",this.errorMessage="",this.fileService.upload(e.target.files[0],"image").subscribe({next:e=>{this.response=e,this.image=this.baseUrl+"/uploads/"+e,this.isUploadSuccess=!0},error:e=>{this.isUploadSuccess=!1,this.errorMessage=null==e.error.message?e.error.Message:e.error.message,"Request body too large."==this.errorMessage&&(this.errorMessage="Max. allowed File size is "+this.fileSize+"MB. Please upload file with smaller size.")}})}selectDocument(e){this.selectedDocument=null,this.fileService.upload(e.target.files[0]).subscribe({next:t=>{this.documentResponse=t,this.selectedDocument=e.target.files[0],this.isDocumentUploadSuccess=!0},error:e=>{this.isDocumentUploadSuccess=!1,this.errorMessage=e.error.message,this.errorMessage=null==e.error.message?e.error.Message:e.error.message,"Request body too large."==this.errorMessage&&(this.errorMessage="Max. allowed File size is "+this.fileSize+"MB. Please upload file with smaller size.")}})}uploadDocument(){this.form.controls.documentType.value&&""!==this.form.controls.documentType.value&&this.selectedDocument&&this.isDocumentUploadSuccess&&(this.documents.push({documentTypeId:this.form.controls.documentTypeId.value,documentType:this.form.controls.documentType.value,document:this.selectedDocument.name,documentPath:this.documentResponse}),this.subject$.next(this.documents),this.form.controls.documentType.setValue(""),this.form.controls.documentTypeId.setValue(0),this.fileInput.nativeElement.value="",this.selectedDocument=void 0)}downloadDocument(e){let t="",s=e.documentPath.indexOf(",");t=s>0?e.documentPath.substr(0,s):e.documentPath,this.downloadVar=this.baseUrl+"/uploads/"+t,N.saveAs(this.downloadVar,t)}deleteDocument(e){this.dialog.open(k.a).afterClosed().subscribe(t=>{if(t){let t=this.documents.findIndex(t=>t.documentType===e.documentType);t>=0&&this.documents.splice(t,1),this.subject$.next(this.documents)}})}toggleOwner(e){this.isOwner=e.checked||!1,this.form.controls.entityType.setValue(!0===this.form.controls.isOwner.value?"Owner":"Tenant")}toggleCompany(e){this.isCompanySelected=e.checked||!1,!1===this.isCompanySelected?(this.form.controls.ownerName.setValue(this.defaults.firstName+" "+this.defaults.lastName),this.form.get("ownerName").clearValidators(),this.form.get("ownerName").updateValueAndValidity()):(this.form.get("ownerName").setValidators(i.y.required),this.form.get("ownerName").updateValueAndValidity(),this.form.controls.ownerName.setValue(this.defaults.ownerName))}toggleLoginEnabled(e){this.isLoginEnabled=e.checked||!1,this.isLoginEnabled&&!this.form.controls.accountNumber.value?(this.form.get("accountNumber").setValidators(i.y.required),this.form.get("accountNumber").updateValueAndValidity()):(this.form.get("accountNumber").clearValidators(),this.form.get("accountNumber").updateValueAndValidity())}setEmailValidator(){""!=this.form.controls.address.get("email").value?(this.form.controls.address.get("email").setValidators(i.y.pattern(this.emailPattern)),this.form.controls.address.get("email").updateValueAndValidity()):(this.form.controls.address.get("email").clearValidators(),this.form.controls.address.get("email").updateValueAndValidity())}enbaleAddressValidators(){let e;const t=this.form.controls.address;this.metadataCountries&&this.metadataCountries.forEach(s=>{s.description==t.value.country&&(e=s.id)}),this.form.controls.address=this.fb.group({city:[t.value.city||""],zipPostalCode:[t.value.zipPostalCode||""],address1:[t.value.address1||""],address2:[t.value.address2||""],country:[t.value.country||""],countryId:[e||0],addressType:[t.value.addressType||""],addressTypeId:[this.addressTypeId||0],email:[t.value.email||""],phoneNumber:[t.value.phoneNumber||""]})}enabledBankValidators(){const e=this.form.controls.bank;this.form.controls.bank=this.fb.group(""!==e.value.accountName||""!==e.value.accountNo||""!==e.value.bankName||""!==e.value.bankAddress||""!==e.value.swiftCode||""!==e.value.ibanNumber?{accountName:[e.value.accountName||"",this.fv.nameValidators],accountNo:[e.value.accountNo||"",this.fv.requiredAlphanumericNoSpaces],bankName:[e.value.bankName||"",this.fv.nameValidators],bankAddress:[e.value.bankAddress||"",this.fv.optionsAddressValidators],swiftCode:[e.value.swiftCode||"",this.fv.requiredAlphanumericNoSpaces],ibanNumber:[e.value.ibanNumber||"",this.fv.requiredAlphanumericNoSpaces]}:{accountName:[e.value.accountName||""],accountNo:[e.value.accountNo||""],bankName:[e.value.bankName||""],bankAddress:[e.value.bankAddress||""],swiftCode:[e.value.swiftCode||""],ibanNumber:[e.value.ibanNumber||""]})}enabledOwnershipValidators(){let e=!1;return this.ownershipdataSource&&this.ownershipdataSource.data.length&&(e=!0),e}selectTitle(e){this.metadataTitles.forEach(t=>{e.option.value==t.description&&this.form.controls.titleId.setValue(t.id)})}selectDocumentType(e){this.documentName="",this.documents.find(t=>{t.documentType!=e.option.value||(this.documentName=e.option.value+" already uploaded")}),this.metadataDocumentTypes.forEach(t=>{e.option.value==t.description&&this.form.controls.documentTypeId.setValue(t.id)})}selectUnit(e){this.metadataUnits.forEach(t=>{e.option.value==t.description&&this.form.controls.ownerships.get("unitId").setValue(t.id)})}addAddress(){const e={};if(Object.assign(e,this.form.controls.address.value),this.defaults.addresses&&this.defaults.addresses.length){const t=this.defaults.addresses.findIndex(t=>t.addressTypeId==e.addressTypeId);t>-1&&this.defaults.addresses.splice(t,1)}this.defaults.addresses.push(e),this.updateAddressIcons()}checkTRNDuplication(){this.duplicateTRN="";let e=this.form.controls.trn.value;""==e&&null==e||this.ownerService.checkTRNDuplication(1,e,this.defaults.id).subscribe(e=>{e&&e>0&&(this.duplicateTRN="TRN already exists.")})}close(){this.dialogRef.close()}closeDialog(){this.isCancel=!0}updateAddressIcons(){this.filteredAddressTypes&&this.filteredAddressTypes.length&&this.filteredAddressTypes.forEach(e=>{if(this.defaults.addresses&&this.defaults.addresses.length){const t=this.defaults.addresses.find(t=>t.addressTypeId===e.id);e.defaultValue=t?"check":"library_add"}else e.defaultValue="library_add"})}createDocumentType(){this.dialog.open(R.a,{data:[0,20]}).afterClosed().subscribe(e=>{e&&"Success"==e&&this.getDocumentTypes()})}}return e.id=100,e.\u0275fac=function(t){return new(t||e)(A.Nb(h.a),A.Nb(C.a),A.Nb(a.f),A.Nb(h.h),A.Nb(i.f),A.Nb(g.a),A.Nb(T.a),A.Nb(y.a),A.Nb(w.a),A.Nb(D.a),A.Nb(M.b),A.Nb(h.b),A.Nb(E.a),A.Nb(P.a))},e.\u0275cmp=A.Hb({type:e,selectors:[["owner-create-update"]],viewQuery:function(e,t){var s;1&e&&(A.Vc(Y,!0),A.Jc(l.a,!0),A.Vc(d.a,!0)),2&e&&(A.zc(s=A.cc())&&(t.fileInput=s.first),A.zc(s=A.cc())&&(t.paginator=s.first),A.zc(s=A.cc())&&(t.content=s.first))},inputs:{columns:"columns"},decls:240,vars:52,consts:[["mat-dialog-title",""],["role","toolbar",1,"task-header"],[1,"fx-spacer"],["mat-icon-button","",3,"click"],["title","Close","mat-list-icon",""],[3,"formGroup","ngSubmit"],[1,"person"],["fxLayout","column","fxLayout.gt-sm","row"],["formControlName","isCompanySelected",3,"checked","change"],["formControlName","isOwner",1,"togglebutton",3,"checked","change"],[3,"checked","change",4,"ngIf"],["fxFlex","60%","class","companyName",4,"ngIf"],["fxFlex","40%","class","companyName",4,"ngIf"],["label","General"],[1,"padding-top"],["fxFlex","",1,"titleSelector"],["matInput","","formControlName","title",3,"matAutocomplete"],[3,"optionSelected"],["title","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"ctrl"],[1,"profile"],["fxLayout","column"],[1,"profileImage",3,"src"],["type","file","accept","image/*",1,"profileButton",3,"change"],["class","errorMessage",4,"ngIf"],["fxLayout","column","fxLayout.gt-sm","row","fxLayoutGap.gt-sm","48px"],["fxFlex",""],["type","text","formControlName","firstName","maxlength","65","matInput",""],["type","text","formControlName","lastName","maxlength","65","matInput",""],["type","text","formControlName","mobile","maxlength","10","matInput",""],["type","text","formControlName","email","maxlength","100","matInput",""],["formControlName","dob","matInput","",3,"matDatepicker","max","click","focus"],["matSuffix","",3,"for"],["formDatepickerRef",""],["type","text","formControlName","accountNumber","maxlength","50","matInput",""],["label","Address Details"],[3,"formGroup"],["type","button","mat-mini-fab","","color","primary",1,"create","right","margin",3,"click"],["matTooltip","Add Address"],["matInput","","formControlName","addressType",3,"matAutocomplete","input"],["addressTypes","matAutocomplete"],["type","text","formControlName","city","maxlength","200","matInput",""],["type","text","formControlName","address1","maxlength","200","matInput",""],["type","text","formControlName","zipPostalCode","maxlength","200","matInput",""],["type","text","formControlName","address2","maxlength","200","matInput",""],["matInput","","formControlName","country",3,"matAutocomplete","keyup"],["country","matAutocomplete"],["type","text","formControlName","email","maxlength","200","matInput","",3,"keydown"],["type","text","formControlName","phoneNumber","maxlength","200","matInput",""],["label","Bank Details"],["type","text","formControlName","accountName","maxlength","300","matInput",""],["type","text","formControlName","accountNo","maxlength","300","matInput",""],["type","text","formControlName","bankName","maxlength","150","matInput",""],["type","text","formControlName","bankAddress","matInput",""],["type","text","formControlName","swiftCode","maxlength","300","matInput",""],["type","text","formControlName","ibanNumber","maxlength","300","matInput",""],["label","Document Details"],[1,"person",2,"width","700px"],["fxLayout","column","fxLayout.gt-sm","row",2,"margin-right","0px","width","100%"],["fxFlex","40%"],[1,"titleSelector",2,"width","85%","margin-right","0px"],["matInput","","formControlName","documentType",3,"matAutocomplete"],["documentTypes","matAutocomplete"],[1,"duplicateMessage"],["type","button","mat-mini-fab","","color","primary",1,"create",2,"height","30px","width","30px","margin-right","0px","margin-left","5px","padding-top","-5px",3,"click"],[2,"height","10px","width","10px","padding-top","-5px","margin-top","-25px","margin-left","-13px"],[1,"document",2,"width","60%","padding-left","50px"],["type","file",1,"selectDocument",3,"change"],["fileInput",""],[2,"margin-right","0px",3,"ngClass","click"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","checkbox"],["class","actions-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],["matColumnDef","image"],["class","image-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","image-cell","mat-cell","",4,"matCellDef"],["matColumnDef","delete"],[4,"ngFor","ngForOf"],["matColumnDef","document"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["class","actions-cell","mat-cell","",3,"click",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",4,"matRowDef","matRowDefColumns"],["label","Ownerships",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center"],["mat-button","",3,"click"],["mat-button","",3,"disabled",4,"ngIf"],[3,"checked","change"],["fxFlex","60%",1,"companyName"],["type","text","formControlName","ownerName","maxlength","100","matInput",""],["fxFlex","40%",1,"companyName"],["type","number","formControlName","trn","matInput","","maxlength","15","oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);if(this.value <= 0) this.value = ''",3,"change","keyup"],[1,"duplicate"],[3,"value"],[1,"errorMessage"],["mat-header-cell","",1,"actions-cell"],["color","primary",3,"click"],["mat-cell","",1,"actions-cell"],["mat-header-cell","",1,"image-cell"],["mat-cell","",1,"image-cell"],[3,"src"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"under-line",3,"click"],["mat-cell","",1,"actions-cell",3,"click"],[1,"deleteIcon"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements"],["label","Ownerships"],["matInput","","formControlName","unit",3,"matAutocomplete"],["unitId","matAutocomplete"],["type","date","formControlName","startDate","matInput",""],["mat-button","",3,"disabled","click"],["mat-button","",3,"disabled"]],template:function(e,t){if(1&e){const e=A.Ub();A.Tb(0,"div",0),A.Tb(1,"mat-toolbar",1),A.Tb(2,"span"),A.Rc(3,"Owner or Tenant"),A.Sb(),A.Ob(4,"span",2),A.Tb(5,"button",3),A.bc("click",(function(){return t.close()})),A.Tb(6,"mat-icon",4),A.Rc(7,"close"),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Tb(8,"form",5),A.bc("ngSubmit",(function(){return t.save()})),A.Tb(9,"mat-dialog-content"),A.Tb(10,"fury-card"),A.Tb(11,"div",6),A.Tb(12,"div",7),A.Tb(13,"mat-slide-toggle",8),A.bc("change",(function(e){return t.toggleCompany(e)})),A.Rc(14,"Company"),A.Sb(),A.Tb(15,"mat-slide-toggle",9),A.bc("change",(function(e){return t.toggleOwner(e)})),A.Rc(16,"Owner"),A.Sb(),A.Pc(17,Z,2,1,"mat-slide-toggle",10),A.Sb(),A.Sb(),A.Tb(18,"div",6),A.Tb(19,"div",7),A.Pc(20,ee,7,1,"mat-form-field",11),A.Pc(21,te,6,1,"mat-form-field",12),A.Sb(),A.Sb(),A.Tb(22,"mat-tab-group"),A.Tb(23,"mat-tab",13),A.Tb(24,"fury-card-content",14),A.Tb(25,"div",6),A.Tb(26,"div",7),A.Tb(27,"mat-form-field",15),A.Tb(28,"mat-label"),A.Rc(29,"Title"),A.Sb(),A.Ob(30,"input",16),A.Tb(31,"mat-autocomplete",17,18),A.bc("optionSelected",(function(e){return t.selectTitle(e)})),A.Pc(33,se,2,2,"mat-option",19),A.Sb(),A.Ob(34,"app-show-errors",20),A.Tb(35,"mat-hint"),A.Rc(36,"Please select Title"),A.Sb(),A.Sb(),A.Tb(37,"div",21),A.Tb(38,"div",22),A.Tb(39,"div",7),A.Ob(40,"img",23),A.Tb(41,"input",24),A.bc("change",(function(e){return t.uploadPhoto(e)})),A.Sb(),A.Sb(),A.Pc(42,ae,2,1,"mat-hint",25),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Tb(43,"div",6),A.Tb(44,"div",26),A.Tb(45,"mat-form-field",27),A.Tb(46,"mat-label"),A.Rc(47,"First Name"),A.Sb(),A.Ob(48,"input",28),A.Ob(49,"app-show-errors",20),A.Tb(50,"mat-hint"),A.Rc(51,"First Name cannot be Greater than 65"),A.Sb(),A.Sb(),A.Tb(52,"mat-form-field",27),A.Tb(53,"mat-label"),A.Rc(54,"Last Name"),A.Sb(),A.Ob(55,"input",29),A.Ob(56,"app-show-errors",20),A.Tb(57,"mat-hint"),A.Rc(58,"Last Name cannot be Greater than 65"),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Tb(59,"div",6),A.Tb(60,"div",26),A.Tb(61,"mat-form-field",27),A.Tb(62,"mat-label"),A.Rc(63,"Mobile"),A.Sb(),A.Ob(64,"input",30),A.Ob(65,"app-show-errors",20),A.Tb(66,"mat-hint"),A.Rc(67,"Mobile Number cannot be Greater than 10 Characters"),A.Sb(),A.Sb(),A.Tb(68,"mat-form-field",27),A.Tb(69,"mat-label"),A.Rc(70,"Email"),A.Sb(),A.Ob(71,"input",31),A.Ob(72,"app-show-errors",20),A.Tb(73,"mat-hint"),A.Rc(74,"Email cannot be Greater than 100"),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Tb(75,"div",6),A.Tb(76,"div",26),A.Tb(77,"mat-form-field",27),A.Tb(78,"mat-label"),A.Rc(79,"DOB"),A.Sb(),A.Tb(80,"input",32),A.bc("click",(function(){return A.Ec(e),A.Ac(83).open()}))("focus",(function(){return A.Ec(e),A.Ac(83).open()})),A.Sb(),A.Ob(81,"mat-datepicker-toggle",33),A.Ob(82,"mat-datepicker",null,34),A.Ob(84,"app-show-errors",20),A.Sb(),A.Tb(85,"mat-form-field",27),A.Tb(86,"mat-label"),A.Rc(87,"Account Number"),A.Sb(),A.Ob(88,"input",35),A.Ob(89,"app-show-errors",20),A.Tb(90,"mat-hint"),A.Rc(91,"Please enter alphanumeric characters only."),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Tb(92,"mat-tab",36),A.Tb(93,"fury-card-content",14),A.Tb(94,"div",37),A.Tb(95,"div",6),A.Tb(96,"button",38),A.bc("click",(function(){return t.addAddress()})),A.Tb(97,"mat-icon",39),A.Rc(98,"add"),A.Sb(),A.Sb(),A.Tb(99,"div",26),A.Tb(100,"mat-form-field",27),A.Tb(101,"mat-label"),A.Rc(102,"Address Type"),A.Sb(),A.Tb(103,"input",40),A.bc("input",(function(e){return t.getAddressType(e.target.value)})),A.Sb(),A.Tb(104,"mat-autocomplete",17,41),A.bc("optionSelected",(function(e){return t.changeAddressType(e)})),A.Pc(106,ie,4,3,"mat-option",19),A.Sb(),A.Ob(107,"app-show-errors",20),A.Sb(),A.Tb(108,"mat-form-field",27),A.Tb(109,"mat-label"),A.Rc(110,"City"),A.Sb(),A.Ob(111,"input",42),A.Ob(112,"app-show-errors",20),A.Sb(),A.Sb(),A.Sb(),A.Tb(113,"div",6),A.Tb(114,"div",26),A.Tb(115,"mat-form-field",27),A.Tb(116,"mat-label"),A.Rc(117,"Address 1"),A.Sb(),A.Ob(118,"input",43),A.Ob(119,"app-show-errors",20),A.Sb(),A.Tb(120,"mat-form-field",27),A.Tb(121,"mat-label"),A.Rc(122,"Postal Code"),A.Sb(),A.Ob(123,"input",44),A.Ob(124,"app-show-errors",20),A.Sb(),A.Sb(),A.Sb(),A.Tb(125,"div",6),A.Tb(126,"div",26),A.Tb(127,"mat-form-field",27),A.Tb(128,"mat-label"),A.Rc(129,"Address 2"),A.Sb(),A.Ob(130,"input",45),A.Ob(131,"app-show-errors",20),A.Sb(),A.Tb(132,"mat-form-field",27),A.Tb(133,"mat-label"),A.Rc(134,"Country"),A.Sb(),A.Tb(135,"input",46),A.bc("keyup",(function(){return t.getFilteredCountry()})),A.Sb(),A.Tb(136,"mat-autocomplete",17,47),A.bc("optionSelected",(function(){return t.enbaleAddressValidators()})),A.Pc(138,oe,2,2,"mat-option",19),A.Sb(),A.Ob(139,"app-show-errors",20),A.Sb(),A.Sb(),A.Sb(),A.Tb(140,"div",6),A.Tb(141,"div",26),A.Tb(142,"mat-form-field",27),A.Tb(143,"mat-label"),A.Rc(144,"Secondary Email"),A.Sb(),A.Tb(145,"input",48),A.bc("keydown",(function(){return t.setEmailValidator()})),A.Sb(),A.Ob(146,"app-show-errors",20),A.Sb(),A.Tb(147,"mat-form-field",27),A.Tb(148,"mat-label"),A.Rc(149,"Secondary Phone No"),A.Sb(),A.Ob(150,"input",49),A.Ob(151,"app-show-errors",20),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Tb(152,"mat-tab",50),A.Tb(153,"fury-card-content",14),A.Tb(154,"div",37),A.Tb(155,"div",6),A.Tb(156,"div",26),A.Tb(157,"mat-form-field",27),A.Tb(158,"mat-label"),A.Rc(159,"Account Name"),A.Sb(),A.Ob(160,"input",51),A.Ob(161,"app-show-errors",20),A.Sb(),A.Tb(162,"mat-form-field",27),A.Tb(163,"mat-label"),A.Rc(164,"Bank Account Number"),A.Sb(),A.Ob(165,"input",52),A.Ob(166,"app-show-errors",20),A.Sb(),A.Sb(),A.Sb(),A.Tb(167,"div",6),A.Tb(168,"div",26),A.Tb(169,"mat-form-field",27),A.Tb(170,"mat-label"),A.Rc(171,"Bank Name"),A.Sb(),A.Ob(172,"input",53),A.Ob(173,"app-show-errors",20),A.Sb(),A.Tb(174,"mat-form-field",27),A.Tb(175,"mat-label"),A.Rc(176,"Bank Branch"),A.Sb(),A.Ob(177,"input",54),A.Ob(178,"app-show-errors",20),A.Sb(),A.Sb(),A.Sb(),A.Tb(179,"div",6),A.Tb(180,"div",26),A.Tb(181,"mat-form-field",27),A.Tb(182,"mat-label"),A.Rc(183,"Swift Code"),A.Sb(),A.Ob(184,"input",55),A.Ob(185,"app-show-errors",20),A.Sb(),A.Tb(186,"mat-form-field",27),A.Tb(187,"mat-label"),A.Rc(188,"IBAN"),A.Sb(),A.Ob(189,"input",56),A.Ob(190,"app-show-errors",20),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Tb(191,"mat-tab",57),A.Tb(192,"fury-card-content",14),A.Tb(193,"div",58),A.Tb(194,"div",59),A.Tb(195,"div",60),A.Tb(196,"mat-form-field",61),A.Tb(197,"mat-label"),A.Rc(198,"Document Type"),A.Sb(),A.Ob(199,"input",62),A.Tb(200,"mat-autocomplete",17,63),A.bc("optionSelected",(function(e){return t.selectDocumentType(e)})),A.Pc(202,ne,2,2,"mat-option",19),A.Sb(),A.Tb(203,"mat-hint",64),A.Rc(204),A.Sb(),A.Sb(),A.Tb(205,"button",65),A.bc("click",(function(){return t.createDocumentType()})),A.Tb(206,"mat-icon",66),A.Rc(207,"add"),A.Sb(),A.Sb(),A.Sb(),A.Tb(208,"div",67),A.Tb(209,"input",68,69),A.bc("change",(function(e){return t.selectDocument(e)})),A.Sb(),A.Tb(211,"span",70),A.bc("click",(function(){return t.uploadDocument()})),A.Rc(212,"UPLOAD"),A.Sb(),A.Sb(),A.Sb(),A.Pc(213,re,2,1,"mat-hint",25),A.Sb(),A.Tb(214,"table",71),A.Rb(215,72),A.Pc(216,ce,2,0,"th",73),A.Pc(217,le,2,0,"td",74),A.Qb(),A.Rb(218,75),A.Pc(219,de,1,0,"th",76),A.Pc(220,be,2,1,"td",77),A.Qb(),A.Rb(221,78),A.Tb(222,"th"),A.Rc(223,"Action"),A.Sb(),A.Pc(224,me,3,0,"td",74),A.Qb(),A.Pc(225,fe,2,1,"ng-container",79),A.Rb(226,80),A.Pc(227,ge,2,0,"th",81),A.Pc(228,Se,3,1,"td",82),A.Qb(),A.Rb(229,83),A.Pc(230,Te,2,0,"th",73),A.Pc(231,ye,3,0,"td",84),A.Qb(),A.Pc(232,Ce,1,0,"tr",85),A.Pc(233,we,1,0,"tr",86),A.Sb(),A.Sb(),A.Sb(),A.Pc(234,Fe,39,11,"mat-tab",87),A.Sb(),A.Sb(),A.Sb(),A.Tb(235,"mat-dialog-actions",88),A.Tb(236,"button",89),A.bc("click",(function(){return t.closeDialog()})),A.Rc(237,"CANCEL"),A.Sb(),A.Pc(238,Le,2,1,"button",90),A.Pc(239,$e,2,1,"button",90),A.Sb(),A.Sb()}if(2&e){const e=A.Ac(32),s=A.Ac(83),a=A.Ac(105),i=A.Ac(137),o=A.Ac(201);A.Cb(8),A.mc("formGroup",t.form),A.Cb(5),A.mc("checked",t.isCompanySelected),A.Cb(2),A.mc("checked",t.isOwner),A.Cb(2),A.mc("ngIf",t.parameterValue),A.Cb(3),A.mc("ngIf",t.isCompanySelected),A.Cb(1),A.mc("ngIf",t.isCompanySelected),A.Cb(9),A.mc("matAutocomplete",e),A.Cb(3),A.mc("ngForOf",t.filteredTitles),A.Cb(1),A.mc("ctrl",null==t.form?null:t.form.get("title")),A.Cb(6),A.nc("src",t.image,A.Gc),A.Cb(2),A.mc("ngIf",0==t.isUploadSuccess),A.Cb(7),A.mc("ctrl",t.form.get("firstName")),A.Cb(7),A.mc("ctrl",t.form.get("lastName")),A.Cb(9),A.mc("ctrl",t.form.get("mobile")),A.Cb(7),A.mc("ctrl",t.form.get("email")),A.Cb(8),A.mc("matDatepicker",s)("max",t.today),A.Cb(1),A.mc("for",s),A.Cb(3),A.mc("ctrl",t.form.get("dob")),A.Cb(5),A.mc("ctrl",t.form.get("accountNumber")),A.Cb(5),A.mc("formGroup",t.form.controls.address),A.Cb(9),A.mc("matAutocomplete",a),A.Cb(3),A.mc("ngForOf",t.filteredAddressTypes),A.Cb(1),A.mc("ctrl",t.form.controls.address.get("addressType")),A.Cb(5),A.mc("ctrl",t.form.controls.address.get("city")),A.Cb(7),A.mc("ctrl",t.form.controls.address.get("address1")),A.Cb(5),A.mc("ctrl",t.form.controls.address.get("zipPostalCode")),A.Cb(7),A.mc("ctrl",t.form.controls.address.get("address2")),A.Cb(4),A.mc("matAutocomplete",i),A.Cb(3),A.mc("ngForOf",t.filteredCountries),A.Cb(1),A.mc("ctrl",t.form.controls.address.get("country")),A.Cb(7),A.mc("ctrl",t.form.controls.address.get("email")),A.Cb(5),A.mc("ctrl",t.form.controls.address.get("phoneNumber")),A.Cb(3),A.mc("formGroup",t.form.controls.bank),A.Cb(7),A.mc("ctrl",t.form.controls.bank.get("accountName")),A.Cb(5),A.mc("ctrl",t.form.controls.bank.get("accountNo")),A.Cb(7),A.mc("ctrl",t.form.controls.bank.get("bankName")),A.Cb(5),A.mc("ctrl",t.form.controls.bank.get("bankAddress")),A.Cb(7),A.mc("ctrl",t.form.controls.bank.get("swiftCode")),A.Cb(5),A.mc("ctrl",t.form.controls.bank.get("ibanNumber")),A.Cb(9),A.mc("matAutocomplete",o),A.Cb(3),A.mc("ngForOf",t.filteredDocumentTypes),A.Cb(2),A.Sc(t.documentName),A.Cb(7),A.mc("ngClass",""!==t.form.controls.documentType.value&&""==t.documentName&&t.selectedDocument?"uploadButton":"uploadButtonDisabled"),A.Cb(2),A.mc("ngIf",0==t.isDocumentUploadSuccess),A.Cb(1),A.mc("dataSource",t.dataSource),A.Cb(11),A.mc("ngForOf",t.columns),A.Cb(7),A.mc("matHeaderRowDef",t.visibleColumns),A.Cb(1),A.mc("matRowDefColumns",t.visibleColumns),A.Cb(1),A.mc("ngIf",!1),A.Cb(4),A.mc("ngIf",t.isCreateMode()),A.Cb(1),A.mc("ngIf",t.isUpdateMode())}},directives:[h.i,U.a,V.a,F.a,L.c,i.z,i.r,i.k,h.f,$.a,z.d,j.a,i.q,i.i,a.o,_.b,_.a,$.c,q.d,z.b,q.h,Q.b,i.c,B.c,B.a,a.n,G.a,q.g,z.e,i.m,H.b,H.d,q.j,H.a,K.a,a.m,J.a,b.j,d.a,b.c,b.e,b.b,b.g,b.i,h.c,z.c,i.u,W.n,b.d,X.a,b.a,d.b,b.f,b.h],styles:[".titleSelector[_ngcontent-%COMP%]{margin-top:auto;margin-right:24px}.profile[_ngcontent-%COMP%]{width:50%;display:flex}.profileImage[_ngcontent-%COMP%]{height:100px;width:50%;margin-left:20px;margin-right:10px;padding:10px}.errorMessage[_ngcontent-%COMP%]{color:red;font-size:smaller;width:330px;margin-left:24px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}.profileButton[_ngcontent-%COMP%]{align-self:center;padding:3px 10px}.document[_ngcontent-%COMP%]{width:50%;display:flex}.selectDocument[_ngcontent-%COMP%]{width:inherit;margin-right:30px;align-self:center;padding:3px 15px;overflow:hidden}.uploadButton[_ngcontent-%COMP%]{align-self:center;padding:5px 15px;border:1px solid grey;border-radius:3px;box-shadow:1px 1px 1px grey;cursor:pointer}.uploadButtonDisabled[_ngcontent-%COMP%]{align-self:center;padding:5px 15px;border:1px solid rgba(0,0,0,.26);border-radius:3px;box-shadow:1px 1px 1px rgba(0,0,0,.26);color:rgba(0,0,0,.26)}.deleteIcon[_ngcontent-%COMP%]{cursor:pointer}.company[_ngcontent-%COMP%]{align-self:center;margin-left:24px}.companyName[_ngcontent-%COMP%]{margin-top:10px;margin-right:24px}.mat-slide-toggle[_ngcontent-%COMP%]{padding-right:10px}.hide[_ngcontent-%COMP%]{display:none}.under-line[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer}.duplicateMessage[_ngcontent-%COMP%]{color:red;font-size:small}.duplicate[_ngcontent-%COMP%]{color:red}.task-header[_ngcontent-%COMP%]{background-color:transparent;padding:0 5px;height:20px}.fx-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),e})();var je=s("Ku73"),_e=s("nStZ"),qe=s("+Kgr"),Qe=s("a8hA"),Be=s("xBcV"),Ge=s("Hbgg"),He=s("rnAf"),Ke=s("rvYj"),Je=s("a+RD"),We=s("STbY");function Xe(e,t){if(1&e){const e=A.Ub();A.Tb(0,"th",19),A.Tb(1,"mat-checkbox",20),A.bc("click",(function(t){return A.Ec(e),t.stopPropagation()})),A.Sb(),A.Sb()}}function Ye(e,t){if(1&e){const e=A.Ub();A.Tb(0,"td",21),A.Tb(1,"mat-checkbox",20),A.bc("click",(function(t){return A.Ec(e),t.stopPropagation()})),A.Sb(),A.Sb()}}function Ze(e,t){1&e&&A.Ob(0,"th",22)}function et(e,t){if(1&e&&(A.Tb(0,"td",23),A.Ob(1,"img",24),A.Sb()),2&e){const e=t.$implicit;A.Cb(1),A.oc("src","http://i.pravatar.cc/30?u=",e.name,"",A.Gc)}}function tt(e,t){if(1&e&&(A.Tb(0,"th",29),A.Rc(1),A.Sb()),2&e){const e=A.fc(2).$implicit;A.Cb(1),A.Tc(" ",e.name,"")}}function st(e,t){if(1&e&&(A.Tb(0,"td",30),A.Rc(1),A.Sb()),2&e){const e=t.$implicit,s=A.fc(2).$implicit;A.Cb(1),A.Tc(" ",e[s.property]," ")}}function at(e,t){if(1&e&&(A.Rb(0,26),A.Pc(1,tt,2,1,"th",27),A.Pc(2,st,2,1,"td",28),A.Qb()),2&e){const e=A.fc().$implicit;A.mc("matColumnDef",e.property)}}function it(e,t){if(1&e&&(A.Rb(0),A.Pc(1,at,3,1,"ng-container",25),A.Qb()),2&e){const e=t.$implicit;A.Cb(1),A.mc("ngIf",e.isModelProperty)}}function ot(e,t){1&e&&A.Ob(0,"th",31)}function nt(e,t){if(1&e){const e=A.Ub();A.Tb(0,"button",35),A.bc("click",(function(){A.Ec(e);const t=A.fc().$implicit;return A.fc().ownerDetails(t)})),A.Tb(1,"span"),A.Rc(2,"Details"),A.Sb(),A.Sb()}}function rt(e,t){if(1&e){const e=A.Ub();A.Tb(0,"td",21),A.Tb(1,"button",32),A.bc("click",(function(t){return A.Ec(e),t.stopPropagation()})),A.Tb(2,"mat-icon"),A.Rc(3,"more_horiz"),A.Sb(),A.Sb(),A.Tb(4,"mat-menu",33,34),A.Tb(6,"button",35),A.bc("click",(function(){A.Ec(e);const s=t.$implicit;return A.fc().updateOwner(s)})),A.Tb(7,"span"),A.Rc(8,"Modify"),A.Sb(),A.Sb(),A.Tb(9,"button",35),A.bc("click",(function(){A.Ec(e);const s=t.$implicit;return A.fc().deleteOwner(s)})),A.Tb(10,"span"),A.Rc(11,"Delete"),A.Sb(),A.Sb(),A.Pc(12,nt,3,0,"button",36),A.Sb(),A.Sb()}if(2&e){const e=A.Ac(5),t=A.fc();A.Cb(1),A.mc("matMenuTriggerFor",e),A.Cb(11),A.mc("ngIf",1==t.isParameterTrue)}}function ct(e,t){1&e&&A.Ob(0,"tr",37)}function lt(e,t){if(1&e){const e=A.Ub();A.Tb(0,"tr",38),A.bc("click",(function(){A.Ec(e);const s=t.$implicit;return A.fc().updateOwner(s)})),A.Sb()}}const dt=function(){return[]};let bt=(()=>{class e{constructor(e,t,s,a,i,o,n,r){this.dialog=e,this.ownerService=t,this.snackbar=s,this.router=a,this.masterService=i,this.authenticationService=o,this.clientSelectionService=n,this.cookieService=r,this.subject$=new m.a(1),this.data$=this.subject$.asObservable(),this.movedOut=!1,this.isParameterTrue=!0,this.columns=[{name:"Account Number",property:"accountNumber",visible:!0,isModelProperty:!0},{name:"Owner Name",property:"ownerName",visible:!0,isModelProperty:!0},{name:"Mobile",property:"mobile",visible:!0,isModelProperty:!0},{name:"Email",property:"email",visible:!0,isModelProperty:!0},{name:"Tenant/Owner",property:"entityType",visible:!0,isModelProperty:!0},{name:"Actions",property:"actions",visible:!0}],this.pageSize=8}set content(e){this.sort=e,this.sort&&this.dataSource&&(this.dataSource.sort=this.sort)}get visibleColumns(){return this.columns.filter(e=>e.visible).map(e=>e.property)}ngOnInit(){this.clientSelectionService.setIsClientVisible(!0),this.clientId=parseInt(this.cookieService.get("globalClientId")),this.getAllOwners(this.clientId),this.masterService.getParameterValue("OwnerDetails").subscribe(e=>{e||(this.isParameterTrue=e)})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}createOwner(){this.dialog.open(ze).afterClosed().subscribe(e=>{e&&(e.clientId=this.clientId,this.authenticationService.register(e.userDetails,e.clientId).subscribe({next:t=>{t&&"Success"===t.status&&t.id?(e.userId=t.id,this.createOwnerDetails(e)):this.notificationMessage(t.isSuccess?"Failed to Save Data":t.message,"red-snackbar")},error:e=>{this.notificationMessage("Failed to Save Data","red-snackbar")}}))})}createOwnerDetails(e){this.ownerService.createOwner(e).subscribe({next:e=>{e?this.notificationMessage("Data Saved Successfully","green-snackbar"):this.notificationMessage("Failed to Save Data","red-snackbar"),this.getAllOwners(this.clientId)},error:e=>{this.notificationMessage("Failed to Save Data","red-snackbar")}})}updateOwner(e){this.dialog.open(ze,{data:e}).afterClosed().subscribe(e=>{e&&this.updateUserDetail(e,this.clientId)})}updateUserDetail(e,t){this.authenticationService.updateUserDetail(e.userDetails,t).subscribe({next:t=>{t&&"Success"===t.status?this.updateOwnerDetails(e,t):this.notificationMessage(t&&"Error"===t.status?t.message:"Failed to Update Data","red-snackbar")},error:e=>{this.notificationMessage("Failed to Update Data","red-snackbar")}})}updateOwnerDetails(e,t){this.ownerService.updateOwnerById(e.id,e).subscribe({next:e=>{var s,a,i,o;if(e)if(t.responseDetails)if(t.responseDetails.status){const e="Notifications send failed. "+(null!==(s=t.responseDetails.status)&&void 0!==s?s:"");this.notificationMessage(e,"red-snackbar")}else{const e="Data Updated Successfully\nTotal Requests : "+(null===(a=t.responseDetails)||void 0===a?void 0:a.totalRequests)+"\nSuccessfull Requests : "+(null===(i=t.responseDetails)||void 0===i?void 0:i.successFullRequests)+"\nFailed Requests : "+(null===(o=t.responseDetails)||void 0===o?void 0:o.failedRequests);this.notificationMessage(e,"green-snackbar")}else t&&"Success"===t.status?this.notificationMessage("Data Updated Successfully","green-snackbar"):this.notificationMessage(t.message,"red-snackbar");else this.notificationMessage("Failed to Update Data","red-snackbar");this.getAllOwners(this.clientId)},error:e=>{this.notificationMessage("Failed to Update Data","red-snackbar")}})}deleteOwner(e){e&&e.isContractExists?this.notificationMessage("Active Contract Exists,Hence Consumer can\u2019t be deleted","red-snackbar"):this.dialog.open(k.a).afterClosed().subscribe(t=>{t&&this.ownerService.deleteOwnerById(e.id).subscribe(()=>{this.getAllOwners(this.clientId)})})}ownerDetails(e){this.cookieService.set("ownerId",e.id),this.cookieService.set("ownerName",e.ownerName),this.router.navigate(["/openticketsdashboard"])}onFilterChange(e){this.dataSource&&(e=(e=e.trim()).toLowerCase(),this.dataSource.filter=e)}getAllOwners(e){this.ownerService.getclientOwners(e).subscribe(e=>{e=e.map(e=>new p.a(e)),this.subject$.next(e)}),this.dataSource=new b.k,this.data$.pipe(Object(u.a)(e=>!!e)).subscribe(e=>{this.owners=e,this.dataSource.data=e}),this.ngAfterViewInit()}ngOnDestroy(){}notificationMessage(e,t){this.snackbar.open(e,null,{duration:5e3,verticalPosition:"top",horizontalPosition:"center",panelClass:[t]})}getMovedOutTenants(){this.clientId=parseInt(this.cookieService.get("globalClientId")),this.ownerService.getMovedOutTenants(this.clientId).subscribe({next:e=>{e=e.map(e=>new p.a(e)),this.subject$.next(e)},error:e=>{this.notificationMessage("Moved Out Tenants Not Found.","red-snackbar"),this.owners=null,this.dataSource=new b.k(this.owners)}}),this.dataSource=new b.k(this.owners),this.data$.pipe(Object(u.a)(e=>!!e)).subscribe(e=>{this.owners=e,this.dataSource.data=e}),this.ngAfterViewInit()}toggleMovedOutTenant(e){this.movedOut=!e,1==this.movedOut?this.getMovedOutTenants():this.getAllOwners(this.clientId)}}return e.\u0275fac=function(t){return new(t||e)(A.Nb(h.b),A.Nb(C.a),A.Nb(M.b),A.Nb(c.f),A.Nb(D.a),A.Nb(qe.a),A.Nb(Qe.a),A.Nb(E.a))},e.\u0275cmp=A.Hb({type:e,selectors:[["create-owner"]],viewQuery:function(e,t){var s;1&e&&(A.Jc(l.a,!0),A.Vc(d.a,!0)),2&e&&(A.zc(s=A.cc())&&(t.paginator=s.first),A.zc(s=A.cc())&&(t.content=s.first))},inputs:{columns:"columns"},decls:25,vars:10,consts:[["mode","card"],["current","Create Owners or Tenants",3,"crumbs"],["name","Create Owners or Tenants",3,"columns","filterChange"],[1,"actions"],["color","primary",3,"change"],["type","button","mat-mini-fab","","color","primary",1,"create","left","margin",3,"click"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","checkbox"],["class","actions-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],["matColumnDef","image"],["class","image-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","image-cell","mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"paginator",3,"pageSize"],["mat-header-cell","",1,"actions-cell"],["color","primary",3,"click"],["mat-cell","",1,"actions-cell"],["mat-header-cell","",1,"image-cell"],["mat-cell","",1,"image-cell"],[3,"src"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"actions-cell"],["type","button","mat-icon-button","",3,"matMenuTriggerFor","click"],["yPosition","below","xPosition","before"],["actionsMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements",3,"click"]],template:function(e,t){1&e&&(A.Tb(0,"fury-page-layout",0),A.Tb(1,"fury-page-layout-header"),A.Ob(2,"fury-breadcrumbs",1),A.Sb(),A.Tb(3,"fury-page-layout-content"),A.Tb(4,"fury-list",2),A.bc("filterChange",(function(e){return t.onFilterChange(e)})),A.Tb(5,"div",3),A.Tb(6,"mat-checkbox",4),A.bc("change",(function(){return t.toggleMovedOutTenant(t.movedOut)})),A.Rc(7,"Moved Out Tenant"),A.Sb(),A.Tb(8,"button",5),A.bc("click",(function(){return t.createOwner()})),A.Tb(9,"mat-icon"),A.Rc(10,"add"),A.Sb(),A.Sb(),A.Sb(),A.Tb(11,"table",6),A.Rb(12,7),A.Pc(13,Xe,2,0,"th",8),A.Pc(14,Ye,2,0,"td",9),A.Qb(),A.Rb(15,10),A.Pc(16,Ze,1,0,"th",11),A.Pc(17,et,2,1,"td",12),A.Qb(),A.Pc(18,it,2,1,"ng-container",13),A.Rb(19,14),A.Pc(20,ot,1,0,"th",15),A.Pc(21,rt,13,2,"td",9),A.Qb(),A.Pc(22,ct,1,0,"tr",16),A.Pc(23,lt,1,0,"tr",17),A.Sb(),A.Ob(24,"mat-paginator",18),A.Sb(),A.Sb(),A.Sb()),2&e&&(A.Cb(2),A.mc("@fadeInRight",void 0)("crumbs",A.qc(9,dt)),A.Cb(1),A.mc("@fadeInUp",void 0),A.Cb(1),A.mc("columns",t.columns),A.Cb(7),A.mc("dataSource",t.dataSource),A.Cb(7),A.mc("ngForOf",t.columns),A.Cb(4),A.mc("matHeaderRowDef",t.visibleColumns),A.Cb(1),A.mc("matRowDefColumns",t.visibleColumns),A.Cb(1),A.mc("pageSize",t.pageSize))},directives:[Be.a,Ge.a,He.a,Ke.a,Je.a,X.a,V.a,F.a,b.j,d.a,b.c,b.e,b.b,a.n,b.g,b.i,l.a,b.d,b.a,a.o,d.b,We.d,We.e,We.b,b.f,b.h],styles:[".clickable[_ngcontent-%COMP%]{cursor:pointer}.left-margin[_ngcontent-%COMP%]{margin-left:5px}"],data:{animation:[je.a,_e.a]}}),e})();var mt=s("cIyM");const ut=function(){return[]},ht=[{path:"",component:bt},{path:":ownerId",component:(()=>{class e{constructor(e,t,s,a,i){this.route=e,this.router=t,this.menuItemService=s,this.cookieService=a,this.envService=i,this.menuItems=[]}ngOnInit(){this.getDefaultRoutePages(),this.route&&this.route.paramMap.subscribe(e=>{if(e&&(this.menuItemService.setIsExteranlUser(this.envService.externalRoles.ownerExternal),this.ownerId=e.get("ownerId"),this.cookieService.set("external_role",this.envService.externalRoles.ownerExternal.toString()),this.defaultPageRoutes&&this.defaultPageRoutes.length)){const e=this.defaultPageRoutes.find(e=>e.roleId===this.envService.externalRoles.ownerExternal&&!0===e.isInternalUser);e&&this.router.navigate([e.route])}})}getDefaultRoutePages(){this.menuItemService.getDefaultRouterDetails().subscribe({next:e=>{this.defaultPageRoutes=e},error:e=>{this.defaultPageRoutes=[]}})}}return e.\u0275fac=function(t){return new(t||e)(A.Nb(c.a),A.Nb(c.f),A.Nb(mt.a),A.Nb(E.a),A.Nb(P.a))},e.\u0275cmp=A.Hb({type:e,selectors:[["fury-owner-details"]],decls:4,vars:4,consts:[["mode","card"],["current","Owners Details",3,"crumbs"]],template:function(e,t){1&e&&(A.Tb(0,"fury-page-layout",0),A.Tb(1,"fury-page-layout-header"),A.Ob(2,"fury-breadcrumbs",1),A.Sb(),A.Ob(3,"fury-page-layout-content"),A.Sb()),2&e&&(A.Cb(2),A.mc("@fadeInRight",void 0)("crumbs",A.qc(3,ut)),A.Cb(1),A.mc("@fadeInUp",void 0))},directives:[Be.a,Ge.a,He.a,Ke.a],styles:[".clickable[_ngcontent-%COMP%]{cursor:pointer}"],data:{animation:[je.a,_e.a]}}),e})()}];let pt=(()=>{class e{}return e.\u0275mod=A.Lb({type:e}),e.\u0275inj=A.Kb({factory:function(t){return new(t||e)},imports:[[c.j.forChild(ht)],c.j]}),e})();var ft=s("YUcS"),gt=s("VE2z"),St=s("QibW"),Tt=s("d3UM"),yt=s("GiUZ"),Ct=s("VY/7"),wt=s("2+hO"),vt=s("jJIU");let Ot=(()=>{class e{}return e.\u0275mod=A.Lb({type:e}),e.\u0275inj=A.Kb({factory:function(t){return new(t||e)},imports:[[a.c,i.l,gt.a,n.a,i.w,ft.a,r.a,h.g,Q.c,V.b,vt.a,F.b,St.c,Tt.b,_.c,yt.a,Ct.a,wt.a]]}),e})();var Nt=s("WCGO");let Dt=(()=>{class e{}return e.\u0275mod=A.Lb({type:e}),e.\u0275inj=A.Kb({factory:function(t){return new(t||e)},imports:[[a.c,pt,i.l,r.a,Nt.a,n.a,Ot,o.a]]}),e})()}}]);