!function(){function e(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||t(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{"7GSt":function(n,o,a){"use strict";a.r(o),a.d(o,"ClientsettingsModule",(function(){return Yt}));var s,r=a("ofXK"),c=a("tyNb"),u=a("+0xr"),b=a("tk/3"),m=a("sXtk"),d=a("fXoL"),f=((s=function(){function e(t,n){i(this,e),this.httpClient=t,this.envService=n,this.baseUrl="",this.baseUrl=n.backend}return l(e,[{key:"generalData",value:function(e){return this.httpClient.get(this.baseUrl+"/generalSettings/UserClients/"+e)}},{key:"emailData",value:function(e){return this.httpClient.get(this.baseUrl+"/generalSettings/EmailSettings/"+e)}},{key:"localisationData",value:function(e){return this.httpClient.get(this.baseUrl+"/generalSettings/ClientLocalisatonSettings/"+e)}},{key:"getBillSettings",value:function(){return this.httpClient.get(this.baseUrl+"/generalSettings/billSettings")}},{key:"getGroupandLedger",value:function(){return this.httpClient.get(this.baseUrl+"/generalSettings/GetGroupandLedgers")}},{key:"messageGrid",value:function(e){return this.httpClient.get(this.baseUrl+"/generalSettings/ClientSettingsMessage/"+e)}},{key:"sequenceGrid",value:function(e){return this.httpClient.get(this.baseUrl+"/generalSettings/SequenceControl/"+e)}},{key:"groupandLedgerGrid",value:function(e){return this.httpClient.get(this.baseUrl+"/generalSettings/ClientSettingsLedgerRelation/"+e)}},{key:"getTermsAndConditions",value:function(e){return this.httpClient.get(this.baseUrl+"/generalSettings/clientSettingsTermsAndConditions/"+e)}},{key:"saveGeneral",value:function(e){return this.httpClient.post(this.baseUrl+"/generalSettings/UserClients",e)}},{key:"saveSequenceNumber",value:function(e){return this.httpClient.post(this.baseUrl+"/generalSettings/SequenceControl",e)}},{key:"saveEmail",value:function(e){return this.httpClient.post(this.baseUrl+"/generalSettings/EmailSettings",e)}},{key:"saveMessage",value:function(e){return this.httpClient.post(this.baseUrl+"/generalSettings/ClientSettingsMessage",e)}},{key:"saveLocalisation",value:function(e){return this.httpClient.post(this.baseUrl+"/generalSettings/ClientSettingsLocalisation",e)}},{key:"saveLedger",value:function(e){return this.httpClient.post(this.baseUrl+"/generalSettings/ClientSettingsLedgerRelation",e)}},{key:"saveInvoiceTerms",value:function(e){return this.httpClient.post(this.baseUrl+"/generalSettings/clientSettingsTermsAndConditions",e)}},{key:"copyClientSettings",value:function(e){return this.httpClient.post(this.baseUrl+"/generalSettings/copy/client/settings",e)}},{key:"deleteMessage",value:function(e){return this.httpClient.delete(this.baseUrl+"/generalSettings/ClientSettingsMessage/"+e)}},{key:"deleteLedger",value:function(e){return this.httpClient.delete(this.baseUrl+"/generalSettings/ClientSettingsLedgerRelation/"+e)}},{key:"checkForDuplicatePrefix",value:function(e,t){var n=new b.f;return n=(n=n.append("clientId",""+t)).append("prefix",""+e),this.httpClient.get(this.baseUrl+"/generalSettings/checkDuplicatePrefix",{params:n})}}]),e}()).\u0275fac=function(e){return new(e||s)(d.Xb(b.c),d.Xb(m.a))},s.\u0275prov=d.Jb({token:s,factory:s.\u0275fac,providedIn:"root"}),s),g=a("tB66"),p=a("3Pt+"),h=a("0IaG"),S=a("dNgK"),y=a("b6Qw"),C=a("XiUz"),v=a("kmnG"),T=a("d3UM"),k=a("bTqV"),R=a("znSr"),I=a("Dh3D"),M=a("FKr1"),P=a("NFeN");function w(e,t){if(1&e&&(d.Tb(0,"mat-option",22),d.Rc(1),d.Sb()),2&e){var n=t.$implicit;d.mc("value",n.groupId),d.Cb(1),d.Tc(" ",n.groupName," ")}}function O(e,t){1&e&&(d.Tb(0,"mat-error"),d.Rc(1,"Group Id is required."),d.Sb())}function N(e,t){if(1&e&&(d.Tb(0,"mat-option",22),d.Rc(1),d.Sb()),2&e){var n=t.$implicit;d.mc("value",n.ledgerId),d.Cb(1),d.Tc(" ",n.ledgerName," ")}}function x(e,t){1&e&&(d.Tb(0,"mat-error"),d.Rc(1,"Ledger Id is required."),d.Sb())}function D(e,t){1&e&&d.Ob(0,"th",23)}function q(e,t){if(1&e&&(d.Tb(0,"td",24),d.Ob(1,"img",25),d.Sb()),2&e){var n=t.$implicit;d.Cb(1),d.oc("src","http://i.pravatar.cc/30?u=",n.name,"",d.Gc)}}function F(e,t){1&e&&(d.Tb(0,"td",26),d.Tb(1,"mat-icon"),d.Rc(2,"more_horiz"),d.Sb(),d.Sb())}function L(e,t){if(1&e&&(d.Tb(0,"th",31),d.Rc(1),d.Sb()),2&e){var n=d.fc(2).$implicit;d.Cb(1),d.Tc(" ",n.name,"")}}function G(e,t){if(1&e&&(d.Tb(0,"td",32),d.Rc(1),d.Sb()),2&e){var n=t.$implicit,i=d.fc(2).$implicit;d.Cb(1),d.Tc(" ",n[i.property]," ")}}function U(e,t){if(1&e&&(d.Rb(0,28),d.Pc(1,L,2,1,"th",29),d.Pc(2,G,2,1,"td",30),d.Qb()),2&e){var n=d.fc().$implicit;d.mc("matColumnDef",n.property)}}function E(e,t){if(1&e&&(d.Rb(0),d.Pc(1,U,3,1,"ng-container",27),d.Qb()),2&e){var n=t.$implicit;d.Cb(1),d.mc("ngIf",n.isModelProperty)}}function A(e,t){1&e&&(d.Tb(0,"th",33),d.Rc(1,"Delete"),d.Sb())}function z(e,t){if(1&e){var n=d.Ub();d.Tb(0,"td",34),d.bc("click",(function(){d.Ec(n);var e=t.$implicit;return d.fc().deleteLedger(e)})),d.Tb(1,"mat-icon",35),d.Rc(2,"delete"),d.Sb(),d.Sb()}}function K(e,t){1&e&&(d.Tb(0,"th",33),d.Rc(1,"Modify"),d.Sb())}function _(e,t){if(1&e){var n=d.Ub();d.Tb(0,"td",34),d.bc("click",(function(){d.Ec(n);var e=t.$implicit;return d.fc().modifyLedger(e)})),d.Tb(1,"mat-icon",36),d.Rc(2,"edit"),d.Sb(),d.Sb()}}function H(e,t){1&e&&d.Ob(0,"tr",37)}function B(e,t){1&e&&d.Ob(0,"tr",38)}var V,$,j=function(e){return{display:e}},Q=((V=function(){function e(t,n,o,l,a){i(this,e),this.fb=t,this.dialog=n,this.snackbar=o,this.clientSettingService=l,this.cookieService=a,this.blnShow="none",this.groupName="",this.ledgerName="",this.lstGroupandLedger=[],this.lstGroup=[],this.lstLedger=[],this.ledgerColumns=[{name:"Group Id",property:"groupName",visible:!0,isModelProperty:!0},{name:"Ledger Id",property:"ledgerName",visible:!0,isModelProperty:!0},{name:"Delete",property:"actions",visible:!0},{name:"Modify",property:"modify",visible:!0}],this.ledgerSettings=t.group({groupId:[""],ledgerId:[null]})}return l(e,[{key:"ngOnInit",value:function(){this.clientId=Number(this.cookieService.get("globalClientId")),this.getGroupandLedger(),this.getGridList()}},{key:"getGridList",value:function(){var e=this;this.clientSettingService.groupandLedgerGrid(this.clientId).subscribe((function(t){t&&(e.lstLedger=t,e.ledgerDataSource=new u.k(e.lstLedger),e.lstLedger.length>0&&(e.blnShow="block"))}))}},{key:"deleteLedger",value:function(e){var t=this;this.dialog.open(g.a).afterClosed().subscribe((function(n){n&&(t.lstLedger.splice(t.lstLedger.findIndex((function(t){return t.groupName===e.groupName})),1),t.ledgerDataSource=new u.k(t.lstLedger),0==t.lstLedger.length&&(t.blnShow="none"))}))}},{key:"modifyLedger",value:function(e){this.groupId=e.groupId,this.ledgerId=e.ledgerId,this.groupName=e.groupName,this.ledgerName=e.ledgerName,this.deleteLedger(e)}},{key:"getGroupandLedger",value:function(){var e=this;this.clientSettingService.getGroupandLedger().subscribe((function(t){t&&(e.lstGroup=[],e.lstGroupandLedger=t,e.lstGroupandLedger.forEach((function(t){e.lstGroup.findIndex((function(e){return e.groupId==t.groupId}))<0&&e.lstGroup.push(t)})),e.lstGroupandLedger=e.lstGroupandLedger.filter((function(e){return e.ledgerName})))}))}},{key:"onChangeGroupId",value:function(e){var t=this;this.groupName=e.source.triggerValue,this.lstLedger.forEach((function(e){if(e.groupName==t.groupName)return t.notificationMessage("Group already added","red-snackbar"),t.groupName="",void(t.groupId=null)}))}},{key:"notificationMessage",value:function(e,t){this.snackbar.open(e,null,{duration:5e3,verticalPosition:"top",horizontalPosition:"end",panelClass:[t]})}},{key:"onChangeLedgerId",value:function(e){this.ledgerName=e.source.triggerValue}},{key:"saveLedger",value:function(){var e={clientId:Number(this.cookieService.get("globalClientId")),groupName:this.groupName,groupId:this.groupId,ledgerName:this.ledgerName,ledgerId:this.ledgerId};this.lstLedger.push(e),this.groupName="",this.ledgerName="",this.ledgerId=null,this.groupId=null,this.ledgerDataSource=new u.k(this.lstLedger),this.lstLedger.length>0&&(this.blnShow="block")}},{key:"onGroupChange",value:function(e){this.groupName=e.groupName,this.groupId=e.groupId}},{key:"onLedgerChange",value:function(e){this.ledgerName=e.ledgerName,this.ledgerId=e.ledgerId}},{key:"ledgerVisibleColumns",get:function(){return this.ledgerColumns.filter((function(e){return e.visible})).map((function(e){return e.property}))}}]),e}()).\u0275fac=function(e){return new(e||V)(d.Nb(p.f),d.Nb(h.b),d.Nb(S.b),d.Nb(f),d.Nb(y.a))},V.\u0275cmp=d.Hb({type:V,selectors:[["fury-client-settings-ledger-relation"]],decls:38,vars:15,consts:[["fxLayout","column","fxLayoutGap","8px",1,"content",3,"formGroup"],["fxLayout","row","fxLayoutGap","8px"],["fxFlex","auto"],["formControlName","groupId",3,"ngModel","selectionChange","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","ledgerId",3,"ngModel","selectionChange","ngModelChange"],["mat-button","","color","primary",3,"disabled","click"],["fxLayout","row",1,"example-container",3,"ngStyle"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","image"],["class","image-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","image-cell","mat-cell","",4,"matCellDef"],["matColumnDef","delete"],["class","actions-cell","mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","modify"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",4,"matRowDef","matRowDefColumns"],[3,"value"],["mat-header-cell","",1,"image-cell"],["mat-cell","",1,"image-cell"],[3,"src"],["mat-cell","",1,"actions-cell"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","",1,"actions-cell"],["mat-cell","",1,"actions-cell",3,"click"],[1,"deleteIcon"],[1,"modifyIcon"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements"]],template:function(e,t){1&e&&(d.Tb(0,"div",0),d.Tb(1,"div",1),d.Tb(2,"mat-form-field",2),d.Tb(3,"mat-label"),d.Rc(4,"Group"),d.Sb(),d.Tb(5,"mat-select",3),d.bc("selectionChange",(function(e){return t.onChangeGroupId(e)}))("ngModelChange",(function(e){return t.groupId=e})),d.Pc(6,w,2,2,"mat-option",4),d.Sb(),d.Tb(7,"mat-hint"),d.Rc(8,"This will be Group Id."),d.Sb(),d.Pc(9,O,2,0,"mat-error",5),d.Sb(),d.Tb(10,"mat-form-field",2),d.Tb(11,"mat-label"),d.Rc(12,"Ledger"),d.Sb(),d.Tb(13,"mat-select",6),d.bc("selectionChange",(function(e){return t.onChangeLedgerId(e)}))("ngModelChange",(function(e){return t.ledgerId=e})),d.Pc(14,N,2,2,"mat-option",4),d.Sb(),d.Tb(15,"mat-hint"),d.Rc(16,"This will be Ledger Id."),d.Sb(),d.Pc(17,x,2,0,"mat-error",5),d.Sb(),d.Tb(18,"button",7),d.bc("click",(function(){return t.saveLedger()})),d.Rc(19,"CREATE LEDGER RELATION"),d.Sb(),d.Sb(),d.Tb(20,"div",8),d.Tb(21,"table",9),d.Rb(22,10),d.Pc(23,D,1,0,"th",11),d.Pc(24,q,2,1,"td",12),d.Qb(),d.Rb(25,13),d.Tb(26,"th"),d.Rc(27,"Delete"),d.Sb(),d.Pc(28,F,3,0,"td",14),d.Qb(),d.Pc(29,E,2,1,"ng-container",15),d.Rb(30,16),d.Pc(31,A,2,0,"th",17),d.Pc(32,z,3,0,"td",18),d.Qb(),d.Rb(33,19),d.Pc(34,K,2,0,"th",17),d.Pc(35,_,3,0,"td",18),d.Qb(),d.Pc(36,H,1,0,"tr",20),d.Pc(37,B,1,0,"tr",21),d.Sb(),d.Sb(),d.Sb()),2&e&&(d.mc("formGroup",t.ledgerSettings),d.Cb(5),d.mc("ngModel",t.groupId),d.Cb(1),d.mc("ngForOf",t.lstGroup),d.Cb(3),d.mc("ngIf",t.ledgerSettings.invalid),d.Cb(4),d.mc("ngModel",t.ledgerId),d.Cb(1),d.mc("ngForOf",t.lstGroupandLedger),d.Cb(3),d.mc("ngIf",t.ledgerSettings.invalid),d.Cb(1),d.mc("disabled",""===t.groupName||""===t.ledgerName),d.Cb(2),d.mc("ngStyle",d.rc(13,j,t.blnShow)),d.Cb(1),d.mc("dataSource",t.ledgerDataSource),d.Cb(8),d.mc("ngForOf",t.ledgerColumns),d.Cb(7),d.mc("matHeaderRowDef",t.ledgerVisibleColumns),d.Cb(1),d.mc("matRowDefColumns",t.ledgerVisibleColumns))},directives:[C.d,C.e,p.r,p.k,v.d,C.b,v.h,T.a,p.q,p.i,r.n,v.g,r.o,k.a,r.p,R.c,u.j,I.a,u.c,u.e,u.b,u.g,u.i,M.n,v.c,u.d,u.a,P.a,I.b,u.f,u.h],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{min-width:220px}.mat-icon[_ngcontent-%COMP%]{cursor:pointer}.example-container[_ngcontent-%COMP%]{overflow-x:scroll;height:200px}"]}),V),X=a("cFdI"),J=a("zP6O"),Z=a("zSPf"),W=a("qFsG"),Y=(($=function(){function e(t){i(this,e),this.el=t,this.navigationKeys=["Backspace","Tab","End","Home","-","ArrowLeft","ArrowRight","Del","Delete"]}return l(e,[{key:"onKeyDown",value:function(e){this.navigationKeys.indexOf(e.key)>-1||"a"===e.key&&!0===e.ctrlKey||"c"===e.key&&!0===e.ctrlKey||"v"===e.key&&!0===e.ctrlKey||"x"===e.key&&!0===e.ctrlKey||"a"===e.key&&!0===e.metaKey||"c"===e.key&&!0===e.metaKey||"v"===e.key&&!0===e.metaKey||"x"===e.key&&!0===e.metaKey||(" "===e.key||isNaN(Number(e.key))||!isNaN(Number(e.key))&&Number(e.key)<1&&Number(e.key)>5)&&e.preventDefault()}}]),e}()).\u0275fac=function(e){return new(e||$)(d.Nb(d.l))},$.\u0275dir=d.Ib({type:$,selectors:[["","furyValidateNumericOnlyDirective",""]],hostBindings:function(e,t){1&e&&d.bc("keydown",(function(e){return t.onKeyDown(e)}))}}),$);function ee(e,t){if(1&e&&(d.Tb(0,"mat-option",27),d.Rc(1),d.Sb()),2&e){var n=t.$implicit;d.mc("value",n.id),d.Cb(1),d.Tc(" ",n.description," ")}}function te(e,t){1&e&&(d.Tb(0,"mat-error"),d.Rc(1,"Date Format is required."),d.Sb())}function ne(e,t){if(1&e){var n=d.Ub();d.Tb(0,"mat-form-field",7),d.Tb(1,"mat-label"),d.Rc(2,"Date Format"),d.Sb(),d.Tb(3,"mat-select",26),d.bc("ngModelChange",(function(e){return d.Ec(n),d.fc().dateFormatId=e}))("selectionChange",(function(){return d.Ec(n),d.fc().validateForm()})),d.Pc(4,ee,2,2,"mat-option",5),d.Sb(),d.Tb(5,"mat-hint"),d.Rc(6,"This will be Date Format."),d.Sb(),d.Pc(7,te,2,0,"mat-error",6),d.Sb()}if(2&e){var i=d.fc();d.Cb(3),d.mc("ngModel",i.dateFormatId),d.Cb(1),d.mc("ngForOf",i.lstDateFormat),d.Cb(3),d.mc("ngIf",i.localisationSettings.invalid)}}function ie(e,t){if(1&e&&(d.Tb(0,"mat-option",27),d.Rc(1),d.Sb()),2&e){var n=t.$implicit;d.mc("value",n.id),d.Cb(1),d.Tc(" ",n.description," ")}}function oe(e,t){1&e&&(d.Tb(0,"mat-hint"),d.Rc(1,"This will be Currency."),d.Sb())}function le(e,t){1&e&&(d.Tb(0,"mat-error"),d.Rc(1,"Currency is required."),d.Sb())}function ae(e,t){1&e&&(d.Tb(0,"mat-hint"),d.Rc(1,"This will be Currency RoundOff from 1-5."),d.Sb())}function se(e,t){1&e&&(d.Tb(0,"mat-error"),d.Rc(1,"Currency RoundOff should be from 1-5."),d.Sb())}function re(e,t){if(1&e&&(d.Tb(0,"mat-option",27),d.Rc(1),d.Sb()),2&e){var n=t.$implicit;d.mc("value",n.id),d.Cb(1),d.Tc(" ",n.description," ")}}function ce(e,t){1&e&&(d.Tb(0,"mat-hint"),d.Rc(1,"This will be Utility Type."),d.Sb())}function ue(e,t){1&e&&(d.Tb(0,"mat-hint",28),d.Rc(1,"Utility Type already added."),d.Sb())}function be(e,t){1&e&&(d.Tb(0,"mat-error"),d.Rc(1,"Currency RoundOff should be from 1-5."),d.Sb())}function me(e,t){1&e&&(d.Tb(0,"td",29),d.Tb(1,"mat-icon"),d.Rc(2,"more_horiz"),d.Sb(),d.Sb())}function de(e,t){if(1&e&&(d.Tb(0,"th",34),d.Rc(1),d.Sb()),2&e){var n=d.fc(2).$implicit;d.Cb(1),d.Tc(" ",n.name,"")}}function fe(e,t){if(1&e&&(d.Tb(0,"td",35),d.Rc(1),d.Sb()),2&e){var n=t.$implicit,i=d.fc(2).$implicit;d.Cb(1),d.Tc(" ",n[i.property]," ")}}function ge(e,t){if(1&e&&(d.Rb(0,31),d.Pc(1,de,2,1,"th",32),d.Pc(2,fe,2,1,"td",33),d.Qb()),2&e){var n=d.fc().$implicit;d.mc("matColumnDef",n.property)}}function pe(e,t){if(1&e&&(d.Rb(0),d.Pc(1,ge,3,1,"ng-container",30),d.Qb()),2&e){var n=t.$implicit;d.Cb(1),d.mc("ngIf",n.isModelProperty)}}function he(e,t){1&e&&(d.Tb(0,"th",36),d.Rc(1,"Consumption RoundOff"),d.Sb())}function Se(e,t){if(1&e&&(d.Tb(0,"td",37),d.Rc(1),d.Sb()),2&e){var n=t.$implicit;d.Cb(1),d.Tc(" ",n.consumptionRoundOff," ")}}function ye(e,t){1&e&&d.Ob(0,"tr",38)}function Ce(e,t){1&e&&d.Ob(0,"tr",39)}function ve(e,t){1&e&&(d.Tb(0,"span",40),d.Rc(1,"* Please Map Consumption RoundOff for all Utilities."),d.Sb())}var Te,ke=function(e){return{display:e}},Re=((Te=function(){function e(t,n,o,l,a,s,r){i(this,e),this.fb=t,this.snackbar=n,this.dialog=o,this.masterService=l,this.generalDashBoardService=a,this.clientSettingService=s,this.cookieService=r,this.blnShow="none",this.isDuplicateUtilityType=!1,this.localisationSaved=!1,this.lstConsumptionRoundOff=[],this.lstUtilityRoundOff=[],this.isFormvalid=!1,this.isUtilitiesMapped=!1,this.consumptionRoundOffDataSource=new u.k([]),this.consumptionRoundOffColumns=[{name:"Utility Type",property:"utilityType",visible:!0,isModelProperty:!0},{name:"Consumption RoundOff",property:"consumptionRoundOff",visible:!0,isModelProperty:!1}],this.localisationSettings=t.group({dateFormatId:[0],roundOff:[null,p.y.pattern("^[1-5]d*$")],currency:[null,p.y.required],utilityTypeId:[null],consumptionRoundOff:[null,p.y.pattern("^[1-5]d*$")]})}return l(e,[{key:"ngOnInit",value:function(){var e=this;this.clientId=Number(this.cookieService.get("globalClientId")),this.masterService.getSystemMasterdata(48,0).subscribe((function(t){e.lstDateFormat=t})),this.getUtilities(),this.masterService.getUserMasterdata(31,0).subscribe((function(t){e.lstCurrency=t})),this.initialData()}},{key:"getUtilities",value:function(){var e=this;this.generalDashBoardService.getUtilities(this.clientId).subscribe((function(t){t&&(e.lstUtilityTypes=[],e.lstUtilityTypes=t,null==e.utilityTypeId&&(e.utilityTypeId=0))}))}},{key:"initialData",value:function(){var e=this;this.lstConsumptionRoundOff=[],this.dateFormatId=0,this.roundOff=null,this.currency=null,this.localisationSaved=!1,this.clientSettingService.localisationData(this.clientId).subscribe((function(t){t&&(e.roundOff=t.currencyRoundOff,e.currency=t.currency,e.lstConsumptionRoundOff=t.utilityTypeRoundOff,e.localisationSettings.controls.currency.setValue(e.currency),e.localisationSettings.controls.roundOff.setValue(e.roundOff),e.roundOff&&""!=e.roundOff&&(e.localisationSettings.controls.currency.disable(),e.localisationSettings.controls.roundOff.disable(),e.localisationSaved=!0),e.consumptionRoundOffDataSource=new u.k(e.lstConsumptionRoundOff),e.lstConsumptionRoundOff&&e.lstUtilityTypes&&e.lstConsumptionRoundOff.length==e.lstUtilityTypes.length&&(e.isUtilitiesMapped=!0),e.lstConsumptionRoundOff.length>0&&(e.blnShow="block"),e.validateForm())}))}},{key:"notificationMessage",value:function(e,t){this.snackbar.open(e,null,{duration:5e3,verticalPosition:"top",horizontalPosition:"end",panelClass:[t]})}},{key:"onUtilityType",value:function(e){var t=this;this.utilityType=e.source.triggerValue,this.isDuplicateUtilityType=!1,this.lstConsumptionRoundOff.forEach((function(n){if(n.utilityType==e.source.triggerValue)return t.isDuplicateUtilityType=!0,t.utilityTypeId=null,t.utilityType="",void(t.keyId=null)}))}},{key:"saveConsumptionRoundOff",value:function(){if(this.utilityTypeId&&this.consumptionRoundOff){var e={client:Number(this.cookieService.get("globalClientId")),utilityTypeId:this.utilityTypeId,utilityType:this.utilityType,consumptionRoundOff:this.consumptionRoundOff.toString()};this.lstConsumptionRoundOff.push(e),this.utilityTypeId=null,this.utilityType="",this.consumptionRoundOff="",this.keyId=null,this.objEditRow=null}this.consumptionRoundOffDataSource=new u.k(this.lstConsumptionRoundOff),this.lstConsumptionRoundOff.length>0&&(this.blnShow="block"),this.lstUtilityTypes.length==this.lstConsumptionRoundOff.length&&(this.isUtilitiesMapped=!0),this.validateForm()}},{key:"validateForm",value:function(){this.isFormvalid=!1,this.lstUtilityTypes&&this.lstConsumptionRoundOff&&this.lstUtilityTypes.length==this.lstConsumptionRoundOff.length&&this.localisationSettings.valid&&(this.isFormvalid=!0)}},{key:"modifyConsumptionRoundOff",value:function(e){var t=this;this.objEditRow&&this.lstConsumptionRoundOff&&(this.lstConsumptionRoundOff.push(this.objEditRow),this.consumptionRoundOffDataSource=new u.k(this.lstConsumptionRoundOff)),this.utilityTypeId=e.id,this.utilityType=e.utilityType,this.lstConsumptionRoundOff.filter((function(e){e.description==t.utilityType&&(t.keyId=e.id)})),this.utilityType=e.utilityType,this.utilityTypeId=e.utilityTypeId,this.consumptionRoundOff=e.consumptionRoundOff,this.objEditRow=e,this.duplicatePrefix="",this.deleteConsumptionRoundOff(e)}},{key:"deleteConsumptionRoundOff",value:function(e){var t=this.lstConsumptionRoundOff.findIndex((function(t){return t.id===e.id}));t>=0&&this.lstConsumptionRoundOff.splice(t,1),this.consumptionRoundOffDataSource=new u.k(this.lstConsumptionRoundOff),0==this.lstConsumptionRoundOff.length&&(this.blnShow="none")}},{key:"createCurrency",value:function(){var e=this;this.dialog.open(J.a,{data:[this.currency,31]}).afterClosed().subscribe((function(t){t&&"Success"==t&&e.masterService.getUserMasterdata(31,0).subscribe((function(t){e.lstCurrency=t}))}))}},{key:"localisationVisibleColumns",get:function(){return this.consumptionRoundOffColumns.filter((function(e){return e.visible})).map((function(e){return e.property}))}}]),e}()).\u0275fac=function(e){return new(e||Te)(d.Nb(p.f),d.Nb(S.b),d.Nb(h.b),d.Nb(Z.a),d.Nb(X.a),d.Nb(f),d.Nb(y.a))},Te.\u0275cmp=d.Hb({type:Te,selectors:[["fury-client-settings-localisation"]],decls:48,vars:24,consts:[["fxLayout","column","fxLayoutGap","8px",1,"content",3,"formGroup"],["fxLayout","row","fxLayoutGap","16px"],["fxFlex","33%",4,"ngIf"],["fxFlex","28%"],["formControlName","currency","required","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["fxFlex","33%"],["type","number","formControlName","roundOff","furyValidateNumericOnlyDirective","","matInput","","required","",3,"ngModel","ngModelChange","keyup"],["fxLayout","row","fxLayoutGap","16px",1,"padding-top"],[2,"font-weight","bold"],["fxLayout","row","fxLayoutGap","16px",2,"padding-top","5px"],["formControlName","utilityTypeId",3,"ngModel","ngModelChange","selectionChange"],["style","color: red;",4,"ngIf"],["type","number","formControlName","consumptionRoundOff","furyValidateNumericOnlyDirective","","matInput","",3,"ngModel","ngModelChange"],["mat-button","","color","primary",3,"disabled","click"],["mat-table","","matSort","","align","center",1,"example-container",3,"dataSource","ngStyle"],["matColumnDef","delete"],["class","actions-cell","mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf"],["matColumnDef","consumptionRoundOff"],["mat-header-cell","","class","header-align-right",4,"matHeaderCellDef"],["mat-cell","","class","header-align-right",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",4,"matRowDef","matRowDefColumns"],["style","color: red;font-size: smaller;padding-top: 30px;",4,"ngIf"],["formControlName","dateFormatId","required","",3,"ngModel","ngModelChange","selectionChange"],[3,"value"],[2,"color","red"],["mat-cell","",1,"actions-cell"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","",1,"header-align-right"],["mat-cell","",1,"header-align-right"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements"],[2,"color","red","font-size","smaller","padding-top","30px"]],template:function(e,t){1&e&&(d.Tb(0,"div",0),d.Tb(1,"div",1),d.Pc(2,ne,8,3,"mat-form-field",2),d.Tb(3,"mat-form-field",3),d.Tb(4,"mat-label"),d.Rc(5,"Currency"),d.Sb(),d.Tb(6,"mat-select",4),d.bc("ngModelChange",(function(e){return t.currency=e})),d.Pc(7,ie,2,2,"mat-option",5),d.Sb(),d.Pc(8,oe,2,0,"mat-hint",6),d.Pc(9,le,2,0,"mat-error",6),d.Sb(),d.Tb(10,"mat-form-field",7),d.Tb(11,"mat-label"),d.Rc(12,"Currency RoundOff"),d.Sb(),d.Tb(13,"input",8),d.bc("ngModelChange",(function(e){return t.roundOff=e}))("keyup",(function(){return t.validateForm()})),d.Sb(),d.Pc(14,ae,2,0,"mat-hint",6),d.Pc(15,se,2,0,"mat-error",6),d.Sb(),d.Sb(),d.Tb(16,"div",9),d.Tb(17,"span",10),d.Rc(18,"Map Client Utilities & Consumption RoundOff"),d.Sb(),d.Sb(),d.Tb(19,"div",11),d.Tb(20,"mat-form-field",3),d.Tb(21,"mat-label"),d.Rc(22,"Utilities"),d.Sb(),d.Tb(23,"mat-select",12),d.bc("ngModelChange",(function(e){return t.utilityTypeId=e}))("selectionChange",(function(e){return t.onUtilityType(e)})),d.Pc(24,re,2,2,"mat-option",5),d.Sb(),d.Pc(25,ce,2,0,"mat-hint",6),d.Pc(26,ue,2,0,"mat-hint",13),d.Sb(),d.Tb(27,"mat-form-field",7),d.Tb(28,"mat-label"),d.Rc(29,"Consumption RoundOff"),d.Sb(),d.Tb(30,"input",14),d.bc("ngModelChange",(function(e){return t.consumptionRoundOff=e})),d.Sb(),d.Tb(31,"mat-hint"),d.Rc(32,"This will be Consumption RoundOff from 1-5."),d.Sb(),d.Pc(33,be,2,0,"mat-error",6),d.Sb(),d.Tb(34,"button",15),d.bc("click",(function(){return t.saveConsumptionRoundOff()})),d.Rc(35,"ADD CONSUMPTION ROUNDOFF"),d.Sb(),d.Sb(),d.Tb(36,"table",16),d.Rb(37,17),d.Tb(38,"th"),d.Rc(39,"Delete"),d.Sb(),d.Pc(40,me,3,0,"td",18),d.Qb(),d.Pc(41,pe,2,1,"ng-container",19),d.Rb(42,20),d.Pc(43,he,2,0,"th",21),d.Pc(44,Se,2,1,"td",22),d.Qb(),d.Pc(45,ye,1,0,"tr",23),d.Pc(46,Ce,1,0,"tr",24),d.Sb(),d.Pc(47,ve,2,0,"span",25),d.Sb()),2&e&&(d.mc("formGroup",t.localisationSettings),d.Cb(2),d.mc("ngIf",!1),d.Cb(4),d.mc("ngModel",t.currency),d.Cb(1),d.mc("ngForOf",t.lstCurrency),d.Cb(1),d.mc("ngIf",!t.localisationSaved),d.Cb(1),d.mc("ngIf",t.localisationSettings.invalid),d.Cb(4),d.mc("ngModel",t.roundOff),d.Cb(1),d.mc("ngIf",!t.localisationSaved),d.Cb(1),d.mc("ngIf",t.localisationSettings.invalid),d.Cb(8),d.mc("ngModel",t.utilityTypeId),d.Cb(1),d.mc("ngForOf",t.lstUtilityTypes),d.Cb(1),d.mc("ngIf",0==t.isDuplicateUtilityType),d.Cb(1),d.mc("ngIf",1==t.isDuplicateUtilityType),d.Cb(4),d.mc("ngModel",t.consumptionRoundOff),d.Cb(3),d.mc("ngIf",t.localisationSettings.invalid),d.Cb(1),d.mc("disabled",null==t.utilityTypeId||null==t.utilityTypeId||t.localisationSettings.controls.consumptionRoundOff.invalid||null==t.consumptionRoundOff||""==t.consumptionRoundOff||t.lstUtilityTypes.length==t.lstConsumptionRoundOff.length),d.Cb(2),d.mc("dataSource",t.consumptionRoundOffDataSource)("ngStyle",d.rc(22,ke,t.blnShow)),d.Cb(5),d.mc("ngForOf",t.consumptionRoundOffColumns),d.Cb(4),d.mc("matHeaderRowDef",t.localisationVisibleColumns),d.Cb(1),d.mc("matRowDefColumns",t.localisationVisibleColumns),d.Cb(1),d.mc("ngIf",0==t.isUtilitiesMapped))},directives:[C.d,C.e,p.r,p.k,r.o,v.d,C.b,v.h,T.a,p.q,p.i,p.x,r.n,p.u,p.c,W.b,Y,v.g,k.a,u.j,I.a,r.p,R.c,u.c,u.b,u.e,u.g,u.i,M.n,v.c,u.a,P.a,u.d,I.b,u.f,u.h],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{min-width:120px}.mat-icon[_ngcontent-%COMP%]{cursor:pointer}.header-align-right[_ngcontent-%COMP%]{text-align:right;padding-right:10%}"]}),Te),Ie=a("Qu3c");function Me(e,t){if(1&e&&(d.Tb(0,"mat-option",23),d.Rc(1),d.Sb()),2&e){var n=t.$implicit;d.mc("value",n),d.Cb(1),d.Tc(" ",n," ")}}function Pe(e,t){1&e&&(d.Tb(0,"mat-error"),d.Rc(1,"Message Type is required."),d.Sb())}function we(e,t){1&e&&(d.Tb(0,"mat-icon"),d.Rc(1,"visibility"),d.Sb())}function Oe(e,t){1&e&&(d.Tb(0,"mat-icon"),d.Rc(1,"visibility_off"),d.Sb())}function Ne(e,t){1&e&&(d.Tb(0,"td",24),d.Tb(1,"mat-icon"),d.Rc(2,"more_horiz"),d.Sb(),d.Sb())}function xe(e,t){if(1&e&&(d.Tb(0,"th",29),d.Rc(1),d.Sb()),2&e){var n=d.fc(2).$implicit;d.Cb(1),d.Tc(" ",n.name,"")}}function De(e,t){if(1&e&&(d.Tb(0,"td",30),d.Rc(1),d.Sb()),2&e){var n=t.$implicit,i=d.fc(2).$implicit;d.Cb(1),d.Tc(" ",n[i.property]," ")}}function qe(e,t){if(1&e&&(d.Rb(0,26),d.Pc(1,xe,2,1,"th",27),d.Pc(2,De,2,1,"td",28),d.Qb()),2&e){var n=d.fc().$implicit;d.mc("matColumnDef",n.property)}}function Fe(e,t){if(1&e&&(d.Rb(0),d.Pc(1,qe,3,1,"ng-container",25),d.Qb()),2&e){var n=t.$implicit;d.Cb(1),d.mc("ngIf",n.isModelProperty)}}function Le(e,t){1&e&&(d.Tb(0,"th",31),d.Rc(1,"Delete"),d.Sb())}function Ge(e,t){if(1&e){var n=d.Ub();d.Tb(0,"td",32),d.bc("click",(function(){d.Ec(n);var e=t.$implicit;return d.fc().deleteMessage(e)})),d.Tb(1,"mat-icon",33),d.Rc(2,"delete"),d.Sb(),d.Sb()}}function Ue(e,t){1&e&&(d.Tb(0,"th",31),d.Rc(1,"Modify"),d.Sb())}function Ee(e,t){if(1&e){var n=d.Ub();d.Tb(0,"td",32),d.bc("click",(function(){d.Ec(n);var e=t.$implicit;return d.fc().modifyMessage(e)})),d.Tb(1,"mat-icon",34),d.Rc(2,"edit"),d.Sb(),d.Sb()}}function Ae(e,t){1&e&&d.Ob(0,"tr",35)}function ze(e,t){1&e&&d.Ob(0,"tr",36)}var Ke,_e=function(e){return{display:e}},He=((Ke=function(){function e(t,n,o,l,a,s){i(this,e),this.fb=t,this.dialog=n,this.cd=o,this.clientSettingService=l,this.snackbar=a,this.cookieService=s,this.lstMessage=[],this.blnShow="none",this.inputType="password",this.visible=!1,this.senderId="",this.apiLink="",this.userName="",this.password="",this.messageType="",this.messageTypes=["SMS","Whats App"],this.messageColumns=[{name:"Message Type",property:"messagetype",visible:!0,isModelProperty:!0},{name:"Sender Id",property:"senderId",visible:!0,isModelProperty:!0},{name:"Username",property:"username",visible:!0,isModelProperty:!0},{name:"Password",property:"password",visible:!0,isModelProperty:!0},{name:"ApiLink",property:"apiLink",visible:!0,isModelProperty:!0},{name:"Delete",property:"actions",visible:!0},{name:"Modify",property:"modify",visible:!0}],this.messageSettings=t.group({senderId:[""],apiLink:[null],userName:[null],password:[""],messageType:[""]})}return l(e,[{key:"ngOnInit",value:function(){this.clientId=Number(this.cookieService.get("globalClientId")),this.gridList()}},{key:"gridList",value:function(){var e=this;this.clientSettingService.messageGrid(this.clientId).subscribe((function(t){t&&(e.lstMessage=t,e.messageDataSource=new u.k(e.lstMessage),e.lstMessage.length>0&&(e.blnShow="block"))}))}},{key:"onMessageTypeChange",value:function(){var e=this;this.lstMessage.forEach((function(t){if(t.messagetype==e.messageType)return e.notificationMessage("Message Type already added","red-snackbar"),void(e.messageType="")}))}},{key:"notificationMessage",value:function(e,t){this.snackbar.open(e,null,{duration:5e3,verticalPosition:"top",horizontalPosition:"end",panelClass:[t]})}},{key:"saveMessage",value:function(){if(this.senderId&&this.apiLink&&this.userName&&this.password&&this.messageType){var e={clientId:Number(this.cookieService.get("globalClientId")),senderId:this.senderId,apiLink:this.apiLink,username:this.userName,password:this.password,messagetype:this.messageType};this.lstMessage.push(e),this.senderId="",this.apiLink="",this.userName="",this.password="",this.messageType=""}this.messageDataSource=new u.k(this.lstMessage),this.lstMessage.length>0&&(this.blnShow="block")}},{key:"deleteMessage",value:function(e){var t=this;this.dialog.open(g.a).afterClosed().subscribe((function(n){n&&t.removeFromGrid(e)}))}},{key:"removeFromGrid",value:function(e){this.lstMessage.splice(this.lstMessage.findIndex((function(t){return t.senderId===e.senderId})),1),this.messageDataSource=new u.k(this.lstMessage),0==this.lstMessage.length&&(this.blnShow="none")}},{key:"modifyMessage",value:function(e){this.senderId=e.senderId,this.apiLink=e.apiLink,this.userName=e.username,this.password=e.password,this.messageType=e.messagetype,this.removeFromGrid(e)}},{key:"onChangeClientId",value:function(e){}},{key:"toggleVisibility",value:function(){this.visible?(this.inputType="password",this.visible=!1,this.cd.markForCheck()):(this.inputType="text",this.visible=!0,this.cd.markForCheck())}},{key:"messageVisibleColumns",get:function(){return this.messageColumns.filter((function(e){return e.visible})).map((function(e){return e.property}))}}]),e}()).\u0275fac=function(e){return new(e||Ke)(d.Nb(p.f),d.Nb(h.b),d.Nb(d.h),d.Nb(f),d.Nb(S.b),d.Nb(y.a))},Ke.\u0275cmp=d.Hb({type:Ke,selectors:[["fury-client-settings-message"]],decls:54,vars:19,consts:[["fxLayout","column","fxLayoutGap","8px",1,"content",3,"formGroup"],["fxLayout","row","fxLayoutGap","8px"],["fxFlex","auto","fxFlex","50%"],["formControlName","messageType",3,"ngModel","selectionChange","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","senderId","matInput","",3,"ngModel","ngModelChange"],["formControlName","userName","matInput","",3,"ngModel","ngModelChange"],["formControlName","password","matInput","",3,"type","ngModel","ngModelChange"],["type","button","mat-icon-button","","matSuffix","","matTooltip","Toggle Visibility",3,"click"],["fxFlex","auto"],["formControlName","apiLink","matInput","","pattern","[Hh][Tt][Tt][Pp][Ss]?:\\/\\/(?:(?:[a-zA-Z\\u00a1-\\uffff0-9]+-?)*[a-zA-Z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-zA-Z\\u00a1-\\uffff0-9]+-?)*[a-zA-Z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-zA-Z\\u00a1-\\uffff]{2,}))(?::\\d{2,5})?(?:\\/[^\\s]*)?",3,"ngModel","ngModelChange"],["mat-button","","color","primary",3,"disabled","click"],["mat-table","","matSort","","fxFlex","auto",1,"example-container",3,"dataSource","ngStyle"],["matColumnDef","delete"],["class","actions-cell","mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","modify"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",4,"matRowDef","matRowDefColumns"],[3,"value"],["mat-cell","",1,"actions-cell"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","",1,"actions-cell"],["mat-cell","",1,"actions-cell",3,"click"],[1,"deleteIcon"],[1,"modifyIcon"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements"]],template:function(e,t){1&e&&(d.Tb(0,"div",0),d.Tb(1,"div",1),d.Tb(2,"mat-form-field",2),d.Tb(3,"mat-label"),d.Rc(4,"Message Type"),d.Sb(),d.Tb(5,"mat-select",3),d.bc("selectionChange",(function(){return t.onMessageTypeChange()}))("ngModelChange",(function(e){return t.messageType=e})),d.Pc(6,Me,2,2,"mat-option",4),d.Sb(),d.Tb(7,"mat-hint"),d.Rc(8,"This will be message type."),d.Sb(),d.Pc(9,Pe,2,0,"mat-error",5),d.Sb(),d.Tb(10,"mat-form-field",2),d.Tb(11,"mat-label"),d.Rc(12,"Sender Id"),d.Sb(),d.Tb(13,"input",6),d.bc("ngModelChange",(function(e){return t.senderId=e})),d.Sb(),d.Tb(14,"mat-hint"),d.Rc(15,"This will be unique Sender Id"),d.Sb(),d.Sb(),d.Sb(),d.Tb(16,"div",1),d.Tb(17,"mat-form-field",2),d.Tb(18,"mat-label"),d.Rc(19,"User Name"),d.Sb(),d.Tb(20,"input",7),d.bc("ngModelChange",(function(e){return t.userName=e})),d.Sb(),d.Tb(21,"mat-hint"),d.Rc(22,"This will be unique User Name"),d.Sb(),d.Sb(),d.Tb(23,"mat-form-field",2),d.Tb(24,"mat-label"),d.Rc(25,"Password"),d.Sb(),d.Tb(26,"input",8),d.bc("ngModelChange",(function(e){return t.password=e})),d.Sb(),d.Tb(27,"button",9),d.bc("click",(function(){return t.toggleVisibility()})),d.Pc(28,we,2,0,"mat-icon",5),d.Pc(29,Oe,2,0,"mat-icon",5),d.Sb(),d.Tb(30,"mat-hint"),d.Rc(31,"This will be unique Password"),d.Sb(),d.Sb(),d.Sb(),d.Tb(32,"mat-form-field",10),d.Tb(33,"mat-label"),d.Rc(34,"API Link"),d.Sb(),d.Tb(35,"input",11),d.bc("ngModelChange",(function(e){return t.apiLink=e})),d.Sb(),d.Tb(36,"mat-hint"),d.Rc(37,"This will be like http://wwww.example.com"),d.Sb(),d.Sb(),d.Tb(38,"button",12),d.bc("click",(function(){return t.saveMessage()})),d.Rc(39,"ADD SETTINGS"),d.Sb(),d.Tb(40,"table",13),d.Rb(41,14),d.Tb(42,"th"),d.Rc(43,"Delete"),d.Sb(),d.Pc(44,Ne,3,0,"td",15),d.Qb(),d.Pc(45,Fe,2,1,"ng-container",16),d.Rb(46,17),d.Pc(47,Le,2,0,"th",18),d.Pc(48,Ge,3,0,"td",19),d.Qb(),d.Rb(49,20),d.Pc(50,Ue,2,0,"th",18),d.Pc(51,Ee,3,0,"td",19),d.Qb(),d.Pc(52,Ae,1,0,"tr",21),d.Pc(53,ze,1,0,"tr",22),d.Sb(),d.Sb()),2&e&&(d.mc("formGroup",t.messageSettings),d.Cb(5),d.mc("ngModel",t.messageType),d.Cb(1),d.mc("ngForOf",t.messageTypes),d.Cb(3),d.mc("ngIf",t.messageSettings.invalid),d.Cb(4),d.mc("ngModel",t.senderId),d.Cb(7),d.mc("ngModel",t.userName),d.Cb(6),d.mc("type",t.inputType)("ngModel",t.password),d.Cb(2),d.mc("ngIf",t.visible),d.Cb(1),d.mc("ngIf",!t.visible),d.Cb(6),d.mc("ngModel",t.apiLink),d.Cb(3),d.mc("disabled",""===t.senderId||""===t.apiLink||""===t.userName||""===t.password||""===t.messageType),d.Cb(2),d.mc("dataSource",t.messageDataSource)("ngStyle",d.rc(17,_e,t.blnShow)),d.Cb(5),d.mc("ngForOf",t.messageColumns),d.Cb(7),d.mc("matHeaderRowDef",t.messageVisibleColumns),d.Cb(1),d.mc("matRowDefColumns",t.messageVisibleColumns))},directives:[C.d,C.e,p.r,p.k,v.d,C.b,v.h,T.a,p.q,p.i,r.n,v.g,r.o,p.c,W.b,k.a,v.j,Ie.a,p.v,u.j,I.a,r.p,R.c,u.c,u.b,u.e,u.g,u.i,M.n,v.c,P.a,u.a,u.d,I.b,u.f,u.h],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{min-width:125px}.mat-icon[_ngcontent-%COMP%]{cursor:pointer}.example-container[_ngcontent-%COMP%]{overflow-x:scroll;height:200px}"]}),Ke),Be=a("bSwM");function Ve(e,t){if(1&e&&(d.Tb(0,"mat-option",14),d.Rc(1),d.Sb()),2&e){var n=t.$implicit;d.mc("value",n.clientId),d.Cb(1),d.Tc(" ",n.clientName," ")}}function $e(e,t){1&e&&(d.Tb(0,"mat-error"),d.Rc(1,"Client is required."),d.Sb())}function je(e,t){if(1&e&&(d.Tb(0,"mat-option",14),d.Rc(1),d.Sb()),2&e){var n=t.$implicit;d.mc("value",n.id),d.Cb(1),d.Tc(" ",n.description," ")}}function Qe(e,t){1&e&&(d.Tb(0,"mat-error"),d.Rc(1,"Bill Settings is required."),d.Sb())}var Xe,Je=((Xe=function(){function e(t,n,o,l){i(this,e),this.fb=t,this.snackbar=n,this.clientSettingService=o,this.cookieService=l,this.clientId=null,this.lstClients=[],this.workingHrs="",this.isBilledbyClient=!1,this.generalSettings=t.group({clientId:[{value:"",disabled:!0}],workingHrs:[null],supportMail:[null],website:[""],billSettingsId:[""],isBilledbyClient:!1})}return l(e,[{key:"ngOnInit",value:function(){this.lstClients=JSON.parse(localStorage.getItem("userClients")),this.clientId=Number(this.cookieService.get("globalClientId")),this.getBillSettings(),this.initialData(this.clientId)}},{key:"initialData",value:function(e){var t=this;this.clientSettingService.generalData(e).subscribe({next:function(e){e&&(t.workingHrs=e.workingHours,t.supportMail=e.supportMail,t.website=e.website,t.billSettingsId=e.billSettingsId,t.isBilledbyClient=e.isBilledbyClient)},error:function(e){t.workingHrs=null,t.supportMail=null,t.website="",t.billSettingsId=0,t.isBilledbyClient=!1,t.notificationMessage("Data Not Found.","red-snackbar")}})}},{key:"notificationMessage",value:function(e,t){this.snackbar.open(e,null,{duration:5e3,verticalPosition:"top",horizontalPosition:"end",panelClass:[t]})}},{key:"onChangeClientId",value:function(e){this.initialData(e)}},{key:"getBillSettings",value:function(){var e=this;this.clientSettingService.getBillSettings().subscribe((function(t){t&&(e.lstBillSettings=t)}))}}]),e}()).\u0275fac=function(e){return new(e||Xe)(d.Nb(p.f),d.Nb(S.b),d.Nb(f),d.Nb(y.a))},Xe.\u0275cmp=d.Hb({type:Xe,selectors:[["fury-general"]],decls:39,vars:11,consts:[["fxLayout","column","fxLayoutGap","8px",1,"content",3,"formGroup"],["fxLayout","row","fxLayoutGap","8px"],["fxFlex","auto"],["formControlName","clientId","required","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["fxFlex","auto","fxFlex","50%"],["formControlName","workingHrs","matInput","","required","",3,"ngModel","ngModelChange"],["formControlName","supportMail","matInput","","required","","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$",3,"ngModel","ngModelChange"],["formControlName","billSettingsId","required","",3,"ngModel","ngModelChange"],["fxFlex","50%"],["formControlName","website","matInput","","required","","pattern","[Hh][Tt][Tt][Pp][Ss]?:\\/\\/(?:(?:[a-zA-Z\\u00a1-\\uffff0-9]+-?)*[a-zA-Z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-zA-Z\\u00a1-\\uffff0-9]+-?)*[a-zA-Z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-zA-Z\\u00a1-\\uffff]{2,}))(?::\\d{2,5})?(?:\\/[^\\s]*)?",3,"ngModel","ngModelChange"],[1,"billedByClient"],["color","primary","formControlName","isBilledbyClient",3,"ngModel","ngModelChange"],[3,"value"]],template:function(e,t){1&e&&(d.Tb(0,"div",0),d.Tb(1,"div",1),d.Tb(2,"mat-form-field",2),d.Tb(3,"mat-label"),d.Rc(4,"Client"),d.Sb(),d.Tb(5,"mat-select",3),d.bc("ngModelChange",(function(e){return t.clientId=e})),d.Pc(6,Ve,2,2,"mat-option",4),d.Sb(),d.Pc(7,$e,2,0,"mat-error",5),d.Sb(),d.Tb(8,"mat-form-field",6),d.Tb(9,"mat-label"),d.Rc(10,"Working Hours"),d.Sb(),d.Tb(11,"input",7),d.bc("ngModelChange",(function(e){return t.workingHrs=e})),d.Sb(),d.Tb(12,"mat-hint"),d.Rc(13,"This will be working hours with time like Mon-Fri 9:30-5:30, Sat. 9:30-3:00, Sun. Closed"),d.Sb(),d.Sb(),d.Sb(),d.Tb(14,"div",1),d.Tb(15,"mat-form-field",6),d.Tb(16,"mat-label"),d.Rc(17,"Support Mail"),d.Sb(),d.Tb(18,"input",8),d.bc("ngModelChange",(function(e){return t.supportMail=e})),d.Sb(),d.Tb(19,"mat-hint"),d.Rc(20,"This will be like example@gmail.com"),d.Sb(),d.Sb(),d.Tb(21,"mat-form-field",6),d.Tb(22,"mat-label"),d.Rc(23,"Bill Settings"),d.Sb(),d.Tb(24,"mat-select",9),d.bc("ngModelChange",(function(e){return t.billSettingsId=e})),d.Pc(25,je,2,2,"mat-option",4),d.Sb(),d.Tb(26,"mat-hint"),d.Rc(27,"This will be Bill Settings Id."),d.Sb(),d.Pc(28,Qe,2,0,"mat-error",5),d.Sb(),d.Sb(),d.Tb(29,"div",1),d.Tb(30,"mat-form-field",10),d.Tb(31,"mat-label"),d.Rc(32,"Website"),d.Sb(),d.Tb(33,"input",11),d.bc("ngModelChange",(function(e){return t.website=e})),d.Sb(),d.Tb(34,"mat-hint"),d.Rc(35,"This will be like http://www.example.com"),d.Sb(),d.Sb(),d.Tb(36,"div",12),d.Tb(37,"mat-checkbox",13),d.bc("ngModelChange",(function(e){return t.isBilledbyClient=e})),d.Rc(38,"Billed by Client"),d.Sb(),d.Sb(),d.Sb(),d.Sb()),2&e&&(d.mc("formGroup",t.generalSettings),d.Cb(5),d.mc("ngModel",t.clientId),d.Cb(1),d.mc("ngForOf",t.lstClients),d.Cb(1),d.mc("ngIf",t.generalSettings.invalid),d.Cb(4),d.mc("ngModel",t.workingHrs),d.Cb(7),d.mc("ngModel",t.supportMail),d.Cb(6),d.mc("ngModel",t.billSettingsId),d.Cb(1),d.mc("ngForOf",t.lstBillSettings),d.Cb(3),d.mc("ngIf",t.generalSettings.invalid),d.Cb(5),d.mc("ngModel",t.website),d.Cb(4),d.mc("ngModel",t.isBilledbyClient))},directives:[C.d,C.e,p.r,p.k,v.d,C.b,v.h,T.a,p.q,p.i,p.x,r.n,r.o,p.c,W.b,v.g,p.v,Be.a,M.n,v.c],styles:[".billedByClient[_ngcontent-%COMP%]{padding-top:15px}"]}),Xe);function Ze(e,t){if(1&e&&(d.Tb(0,"mat-option",21),d.Rc(1),d.Sb()),2&e){var n=t.$implicit;d.mc("value",n.id),d.Cb(1),d.Tc(" ",n.description," ")}}function We(e,t){1&e&&(d.Tb(0,"mat-error"),d.Rc(1,"Sequence Key is required."),d.Sb())}function Ye(e,t){1&e&&(d.Tb(0,"mat-hint"),d.Rc(1,"This will be Sequence Format"),d.Sb())}function et(e,t){1&e&&(d.Tb(0,"td",22),d.Tb(1,"mat-icon"),d.Rc(2,"more_horiz"),d.Sb(),d.Sb())}function tt(e,t){if(1&e&&(d.Tb(0,"th",27),d.Rc(1),d.Sb()),2&e){var n=d.fc(2).$implicit;d.Cb(1),d.Tc(" ",n.name,"")}}function nt(e,t){if(1&e&&(d.Tb(0,"td",28),d.Rc(1),d.Sb()),2&e){var n=t.$implicit,i=d.fc(2).$implicit;d.Cb(1),d.Tc(" ",n[i.property]," ")}}function it(e,t){if(1&e&&(d.Rb(0,24),d.Pc(1,tt,2,1,"th",25),d.Pc(2,nt,2,1,"td",26),d.Qb()),2&e){var n=d.fc().$implicit;d.mc("matColumnDef",n.property)}}function ot(e,t){if(1&e&&(d.Rb(0),d.Pc(1,it,3,1,"ng-container",23),d.Qb()),2&e){var n=t.$implicit;d.Cb(1),d.mc("ngIf",n.isModelProperty)}}function lt(e,t){1&e&&(d.Tb(0,"th",29),d.Rc(1,"Delete"),d.Sb())}function at(e,t){if(1&e){var n=d.Ub();d.Tb(0,"td",30),d.bc("click",(function(){d.Ec(n);var e=t.$implicit;return d.fc().deleteSequence(e)})),d.Tb(1,"mat-icon",31),d.Rc(2,"delete"),d.Sb(),d.Sb()}}function st(e,t){1&e&&(d.Tb(0,"th",29),d.Rc(1,"Modify"),d.Sb())}function rt(e,t){if(1&e){var n=d.Ub();d.Tb(0,"td",30),d.bc("click",(function(){d.Ec(n);var e=t.$implicit;return d.fc().modifySequence(e)})),d.Tb(1,"mat-icon",32),d.Rc(2,"edit"),d.Sb(),d.Sb()}}function ct(e,t){1&e&&d.Ob(0,"tr",33)}function ut(e,t){1&e&&d.Ob(0,"tr",34)}var bt,mt=function(e){return{display:e}},dt=((bt=function(){function e(t,n,o,l,a,s){i(this,e),this.fb=t,this.dialog=n,this.masterService=o,this.clientSettingService=l,this.snackbar=a,this.cookieService=s,this.sequenceDataSource=new u.k([]),this.blnShow="none",this.lstSequence=[],this.sequenceKey="",this.sequenceFormat="",this.duplicatePrefix="",this.sequenceColumns=[{name:"Sequence Key",property:"sequenceKey",visible:!0,isModelProperty:!0},{name:"Last Sequence",property:"lastSequence",visible:!0,isModelProperty:!0},{name:"Sequence Format",property:"sequenceFormat",visible:!0,isModelProperty:!0},{name:"Zero Pad To Digits",property:"zeroPadToDigits",visible:!0,isModelProperty:!0},{name:"Increment By",property:"incrementBy",visible:!0,isModelProperty:!0},{name:"Delete",property:"actions",visible:!0},{name:"Modify",property:"modify",visible:!0}],this.sequenceSettings=t.group({sequenceKey:[""],lastSequence:[null],sequenceFormat:[null],zeroPadToDigits:[""],incrementBy:[""]})}return l(e,[{key:"ngOnInit",value:function(){this.clientId=Number(this.cookieService.get("globalClientId")),this.getSequenceKeys(),this.gridList()}},{key:"gridList",value:function(){var e=this;this.clientSettingService.sequenceGrid(this.clientId).subscribe((function(t){t&&(e.lstSequence=t,e.sequenceDataSource=new u.k(e.lstSequence),e.lstSequence.length>0&&(e.blnShow="block"))}))}},{key:"notificationMessage",value:function(e,t){this.snackbar.open(e,null,{duration:5e3,verticalPosition:"top",horizontalPosition:"end",panelClass:[t]})}},{key:"getSequenceKeys",value:function(){var e=this;this.masterService.getSystemMasterdata(58,0).subscribe((function(t){e.lstSequenceKey=t}))}},{key:"onSequenceKey",value:function(e){var t=this;this.sequenceKey=e.source.triggerValue,this.lstSequence.forEach((function(n){if(n.sequenceKey==e.source.triggerValue)return t.notificationMessage("Sequence key already added","red-snackbar"),t.sequenceKeyId=null,t.sequenceKey="",void(t.keyId=null)}))}},{key:"saveSequence",value:function(){if(this.sequenceKey&&this.lastSequence&&this.sequenceFormat&&this.zeroPadToDigits>=0&&this.incrementBy){var e={client:Number(this.cookieService.get("globalClientId")),sequenceKeyId:this.sequenceKeyId,sequenceKey:this.sequenceKey,lastSequence:this.lastSequence,sequenceFormat:this.sequenceFormat.indexOf("#")>=0?this.sequenceFormat:this.sequenceFormat+"-[#]",zeroPadToDigits:this.zeroPadToDigits,incrementBy:this.incrementBy};this.lstSequence.push(e),this.sequenceKey="",this.sequenceKeyId=null,this.keyId=null,this.lastSequence=null,this.sequenceFormat="",this.zeroPadToDigits=null,this.incrementBy=null,this.objEditRow=null,this.duplicatePrefix=""}this.sequenceDataSource=new u.k(this.lstSequence),this.lstSequence.length>0&&(this.blnShow="block")}},{key:"deleteSequence",value:function(e){var t=this;this.dialog.open(g.a).afterClosed().subscribe((function(n){n&&t.deleteSequenceRow(e)}))}},{key:"deleteSequenceRow",value:function(e){var t=this.lstSequence.findIndex((function(t){return t.id===e.id}));t>=0&&this.lstSequence.splice(t,1),this.sequenceDataSource=new u.k(this.lstSequence),0==this.lstSequence.length&&(this.blnShow="none")}},{key:"modifySequence",value:function(e){var t=this;this.objEditRow&&this.lstSequence&&(this.lstSequence.push(this.objEditRow),this.sequenceDataSource=new u.k(this.lstSequence)),this.sequenceKeyId=e.id,this.sequenceKey=e.sequenceKey,this.lstSequenceKey.filter((function(e){e.description==t.sequenceKey&&(t.keyId=e.id)})),this.lastSequence=e.lastSequence,this.sequenceFormat=e.sequenceFormat,this.zeroPadToDigits=e.zeroPadToDigits,this.incrementBy=e.incrementBy,this.objEditRow=e,this.duplicatePrefix="",this.deleteSequenceRow(e)}},{key:"checkDuplicatePrefix",value:function(){var e=this;if(this.duplicatePrefix="",""!=this.sequenceKey&&null!=this.sequenceKey&&""!=this.sequenceFormat&&null!=this.sequenceFormat){var t=this.sequenceFormat.indexOf("#")>=0?this.sequenceFormat:this.sequenceFormat+"-[#]";this.clientSettingService.checkForDuplicatePrefix(t,this.clientId).subscribe((function(t){t&&t>0&&(e.duplicatePrefix="Prefix already exists.")}))}}},{key:"sequenceVisibleColumns",get:function(){return this.sequenceColumns.filter((function(e){return e.visible})).map((function(e){return e.property}))}}]),e}()).\u0275fac=function(e){return new(e||bt)(d.Nb(p.f),d.Nb(h.b),d.Nb(Z.a),d.Nb(f),d.Nb(S.b),d.Nb(y.a))},bt.\u0275cmp=d.Hb({type:bt,selectors:[["fury-sequencenumber"]],decls:51,vars:17,consts:[["fxLayout","column","fxLayoutGap","8px",1,"content",3,"formGroup"],["fxLayout","row","fxLayoutGap","8px"],["fxFlex","50%"],["formControlName","sequenceKey",3,"ngModel","selectionChange","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","lastSequence","type","number","matInput","",3,"ngModel","ngModelChange"],["formControlName","sequenceFormat","matInput","",3,"ngModel","ngModelChange"],["formControlName","zeroPadToDigits","type","number","matInput","",3,"ngModel","ngModelChange"],["formControlName","incrementBy","type","number","matInput","",3,"ngModel","ngModelChange"],["mat-button","","color","primary","fxFlex","50%",3,"disabled","click"],["mat-table","","matSort","",1,"example-container",3,"dataSource","ngStyle"],["matColumnDef","delete"],["class","actions-cell","mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","modify"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",4,"matRowDef","matRowDefColumns"],[3,"value"],["mat-cell","",1,"actions-cell"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","",1,"actions-cell"],["mat-cell","",1,"actions-cell",3,"click"],[1,"deleteIcon"],[1,"modifyIcon"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements"]],template:function(e,t){1&e&&(d.Tb(0,"div",0),d.Tb(1,"div",1),d.Tb(2,"mat-form-field",2),d.Tb(3,"mat-label"),d.Rc(4,"Sequence Key"),d.Sb(),d.Tb(5,"mat-select",3),d.bc("selectionChange",(function(e){return t.onSequenceKey(e)}))("ngModelChange",(function(e){return t.keyId=e})),d.Pc(6,Ze,2,2,"mat-option",4),d.Sb(),d.Tb(7,"mat-hint"),d.Rc(8,"This will be Sequence Key."),d.Sb(),d.Pc(9,We,2,0,"mat-error",5),d.Sb(),d.Tb(10,"mat-form-field",2),d.Tb(11,"mat-label"),d.Rc(12,"Last Sequence"),d.Sb(),d.Tb(13,"input",6),d.bc("ngModelChange",(function(e){return t.lastSequence=e})),d.Sb(),d.Tb(14,"mat-hint"),d.Rc(15,"This will be sequence number"),d.Sb(),d.Sb(),d.Sb(),d.Tb(16,"div",1),d.Tb(17,"mat-form-field",2),d.Tb(18,"mat-label"),d.Rc(19,"Sequence Format"),d.Sb(),d.Tb(20,"input",7),d.bc("ngModelChange",(function(e){return t.sequenceFormat=e})),d.Sb(),d.Pc(21,Ye,2,0,"mat-hint",5),d.Sb(),d.Tb(22,"mat-form-field",2),d.Tb(23,"mat-label"),d.Rc(24,"Zero Pad To Digits"),d.Sb(),d.Tb(25,"input",8),d.bc("ngModelChange",(function(e){return t.zeroPadToDigits=e})),d.Sb(),d.Tb(26,"mat-hint"),d.Rc(27,"This will be Zero Pad To Digits"),d.Sb(),d.Sb(),d.Sb(),d.Tb(28,"div",1),d.Tb(29,"mat-form-field",2),d.Tb(30,"mat-label"),d.Rc(31,"Increment By"),d.Sb(),d.Tb(32,"input",9),d.bc("ngModelChange",(function(e){return t.incrementBy=e})),d.Sb(),d.Tb(33,"mat-hint"),d.Rc(34,"This will Increment By"),d.Sb(),d.Sb(),d.Tb(35,"button",10),d.bc("click",(function(){return t.saveSequence()})),d.Rc(36,"ADD SETTINGS"),d.Sb(),d.Sb(),d.Tb(37,"table",11),d.Rb(38,12),d.Tb(39,"th"),d.Rc(40,"Delete"),d.Sb(),d.Pc(41,et,3,0,"td",13),d.Qb(),d.Pc(42,ot,2,1,"ng-container",14),d.Rb(43,15),d.Pc(44,lt,2,0,"th",16),d.Pc(45,at,3,0,"td",17),d.Qb(),d.Rb(46,18),d.Pc(47,st,2,0,"th",16),d.Pc(48,rt,3,0,"td",17),d.Qb(),d.Pc(49,ct,1,0,"tr",19),d.Pc(50,ut,1,0,"tr",20),d.Sb(),d.Sb()),2&e&&(d.mc("formGroup",t.sequenceSettings),d.Cb(5),d.mc("ngModel",t.keyId),d.Cb(1),d.mc("ngForOf",t.lstSequenceKey),d.Cb(3),d.mc("ngIf",t.sequenceSettings.invalid),d.Cb(4),d.mc("ngModel",t.lastSequence),d.Cb(7),d.mc("ngModel",t.sequenceFormat),d.Cb(1),d.mc("ngIf",""==t.duplicatePrefix),d.Cb(4),d.mc("ngModel",t.zeroPadToDigits),d.Cb(7),d.mc("ngModel",t.incrementBy),d.Cb(3),d.mc("disabled",""===t.sequenceKey||null==t.lastSequence||""!=t.duplicatePrefix||void 0===t.sequenceFormat||""===t.sequenceFormat||null==t.zeroPadToDigits||null==t.incrementBy),d.Cb(2),d.mc("dataSource",t.sequenceDataSource)("ngStyle",d.rc(15,mt,t.blnShow)),d.Cb(5),d.mc("ngForOf",t.sequenceColumns),d.Cb(7),d.mc("matHeaderRowDef",t.sequenceVisibleColumns),d.Cb(1),d.mc("matRowDefColumns",t.sequenceVisibleColumns))},directives:[C.d,C.e,p.r,p.k,v.d,C.b,v.h,T.a,p.q,p.i,r.n,v.g,r.o,p.c,p.u,W.b,k.a,u.j,I.a,r.p,R.c,u.c,u.b,u.e,u.g,u.i,M.n,v.c,u.a,P.a,u.d,I.b,u.f,u.h],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{min-width:120px}.mat-icon[_ngcontent-%COMP%]{cursor:pointer}.example-container[_ngcontent-%COMP%]{overflow-x:scroll;height:200px}.duplicate[_ngcontent-%COMP%]{color:red}"]}),bt);function ft(e,t){1&e&&(d.Tb(0,"mat-icon"),d.Rc(1,"visibility"),d.Sb())}function gt(e,t){1&e&&(d.Tb(0,"mat-icon"),d.Rc(1,"visibility_off"),d.Sb())}function pt(e,t){1&e&&(d.Tb(0,"mat-icon"),d.Rc(1,"visibility"),d.Sb())}function ht(e,t){1&e&&(d.Tb(0,"mat-icon"),d.Rc(1,"visibility_off"),d.Sb())}var St,yt=((St=function(){function e(t,n,o,l){i(this,e),this.fb=t,this.cd=n,this.clientSettingService=o,this.cookieService=l,this.visible=!1,this.inputType="password",this.inputTypeNoReply="password",this.visibleNoReply=!1,this.emailSettings=t.group({smtpServer:[""],smtpPort:[""],smtpUsername:[""],smtpPassword:[""],popServer:[""],popPort:[""],noreplyUsername:[""],noreplyPassword:[""]})}return l(e,[{key:"ngOnInit",value:function(){this.initialData()}},{key:"initialData",value:function(){var e=this;this.clientId=Number(this.cookieService.get("globalClientId")),this.clientSettingService.emailData(this.clientId).subscribe((function(t){t&&(e.smtpServer=t.smtpServer,e.smtpPort=0==t.smtpPort?"":t.smtpPort,e.smtpUsername=t.smtpUsername,e.smtpPassword=t.smtpPassword,e.popServer=t.popServer,e.popPort=0==t.popPort?"":t.popPort,e.noreplyUsername=t.noreplyUsername,e.noreplyPassword=t.noreplyPassword)}))}},{key:"toggleVisibility",value:function(){this.visible?(this.inputType="password",this.visible=!1,this.cd.markForCheck()):(this.inputType="text",this.visible=!0,this.cd.markForCheck())}},{key:"toggleVisibilityNoReply",value:function(){this.visibleNoReply?(this.inputTypeNoReply="password",this.visibleNoReply=!1,this.cd.markForCheck()):(this.inputTypeNoReply="text",this.visibleNoReply=!0,this.cd.markForCheck())}}]),e}()).\u0275fac=function(e){return new(e||St)(d.Nb(p.f),d.Nb(d.h),d.Nb(f),d.Nb(y.a))},St.\u0275cmp=d.Hb({type:St,selectors:[["fury-emailsettings"]],decls:59,vars:15,consts:[["fxLayout","column","fxLayoutGap","8px",1,"content",3,"formGroup"],["fxLayout","row","fxLayoutGap","8px"],["fxFlex","auto","fxFlex","50%"],["formControlName","smtpServer","matInput","",3,"ngModel","ngModelChange"],["formControlName","smtpPort","type","number","matInput","",3,"ngModel","ngModelChange"],["formControlName","smtpUsername","matInput","",3,"ngModel","ngModelChange"],["formControlName","smtpPassword","matInput","",3,"type","ngModel","ngModelChange"],["type","button","mat-icon-button","","matSuffix","","matTooltip","Toggle Visibility",3,"click"],[4,"ngIf"],["formControlName","popServer","matInput","",3,"ngModel","ngModelChange"],["formControlName","popPort","type","number","matInput","",3,"ngModel","ngModelChange"],["formControlName","noreplyUsername","matInput","",3,"ngModel","ngModelChange"],["formControlName","noreplyPassword","matInput","",3,"type","ngModel","ngModelChange"]],template:function(e,t){1&e&&(d.Tb(0,"div",0),d.Tb(1,"div",1),d.Tb(2,"mat-form-field",2),d.Tb(3,"mat-label"),d.Rc(4,"SMTP Server"),d.Sb(),d.Tb(5,"input",3),d.bc("ngModelChange",(function(e){return t.smtpServer=e})),d.Sb(),d.Tb(6,"mat-hint"),d.Rc(7,"This will be SMTP Server"),d.Sb(),d.Sb(),d.Tb(8,"mat-form-field",2),d.Tb(9,"mat-label"),d.Rc(10,"SMTP Port"),d.Sb(),d.Tb(11,"input",4),d.bc("ngModelChange",(function(e){return t.smtpPort=e})),d.Sb(),d.Tb(12,"mat-hint"),d.Rc(13,"This will be SMTP Port"),d.Sb(),d.Sb(),d.Sb(),d.Tb(14,"div",1),d.Tb(15,"mat-form-field",2),d.Tb(16,"mat-label"),d.Rc(17,"SMTP Username"),d.Sb(),d.Tb(18,"input",5),d.bc("ngModelChange",(function(e){return t.smtpUsername=e})),d.Sb(),d.Tb(19,"mat-hint"),d.Rc(20,"This will be SMTP Username"),d.Sb(),d.Sb(),d.Tb(21,"mat-form-field",2),d.Tb(22,"mat-label"),d.Rc(23,"SMTP Password"),d.Sb(),d.Tb(24,"input",6),d.bc("ngModelChange",(function(e){return t.smtpPassword=e})),d.Sb(),d.Tb(25,"button",7),d.bc("click",(function(){return t.toggleVisibility()})),d.Pc(26,ft,2,0,"mat-icon",8),d.Pc(27,gt,2,0,"mat-icon",8),d.Sb(),d.Tb(28,"mat-hint"),d.Rc(29,"This will be SMTP Password"),d.Sb(),d.Sb(),d.Sb(),d.Tb(30,"div",1),d.Tb(31,"mat-form-field",2),d.Tb(32,"mat-label"),d.Rc(33,"POP Server"),d.Sb(),d.Tb(34,"input",9),d.bc("ngModelChange",(function(e){return t.popServer=e})),d.Sb(),d.Tb(35,"mat-hint"),d.Rc(36,"This will be POP Server"),d.Sb(),d.Sb(),d.Tb(37,"mat-form-field",2),d.Tb(38,"mat-label"),d.Rc(39,"POP Port"),d.Sb(),d.Tb(40,"input",10),d.bc("ngModelChange",(function(e){return t.popPort=e})),d.Sb(),d.Tb(41,"mat-hint"),d.Rc(42,"This will be POP Port"),d.Sb(),d.Sb(),d.Sb(),d.Tb(43,"div",1),d.Tb(44,"mat-form-field",2),d.Tb(45,"mat-label"),d.Rc(46,"Noreply Username"),d.Sb(),d.Tb(47,"input",11),d.bc("ngModelChange",(function(e){return t.noreplyUsername=e})),d.Sb(),d.Tb(48,"mat-hint"),d.Rc(49,"This will be Noreply Username"),d.Sb(),d.Sb(),d.Tb(50,"mat-form-field",2),d.Tb(51,"mat-label"),d.Rc(52,"Noreply Password"),d.Sb(),d.Tb(53,"input",12),d.bc("ngModelChange",(function(e){return t.noreplyPassword=e})),d.Sb(),d.Tb(54,"button",7),d.bc("click",(function(){return t.toggleVisibilityNoReply()})),d.Pc(55,pt,2,0,"mat-icon",8),d.Pc(56,ht,2,0,"mat-icon",8),d.Sb(),d.Tb(57,"mat-hint"),d.Rc(58,"This will be Noreply Password"),d.Sb(),d.Sb(),d.Sb(),d.Sb()),2&e&&(d.mc("formGroup",t.emailSettings),d.Cb(5),d.mc("ngModel",t.smtpServer),d.Cb(6),d.mc("ngModel",t.smtpPort),d.Cb(7),d.mc("ngModel",t.smtpUsername),d.Cb(6),d.mc("type",t.inputType)("ngModel",t.smtpPassword),d.Cb(2),d.mc("ngIf",t.visible),d.Cb(1),d.mc("ngIf",!t.visible),d.Cb(7),d.mc("ngModel",t.popServer),d.Cb(6),d.mc("ngModel",t.popPort),d.Cb(7),d.mc("ngModel",t.noreplyUsername),d.Cb(6),d.mc("type",t.inputTypeNoReply)("ngModel",t.noreplyPassword),d.Cb(2),d.mc("ngIf",t.visibleNoReply),d.Cb(1),d.mc("ngIf",!t.visibleNoReply))},directives:[C.d,C.e,p.r,p.k,v.d,C.b,v.h,p.c,W.b,p.q,p.i,v.g,p.u,k.a,v.j,Ie.a,r.o,P.a],styles:[""]}),St),Ct=a("nR/4"),vt=a("xXXn"),Tt=a("/t3+"),kt=a("MutI"),Rt=a("4FRi"),It=a("f0Cb"),Mt=["allClientsSelected"];function Pt(e,t){if(1&e&&(d.Tb(0,"mat-option",22),d.Rc(1),d.Sb()),2&e){var n=t.$implicit;d.mc("value",n.clientName),d.Cb(1),d.Sc(n.clientName)}}function wt(e,t){if(1&e){var n=d.Ub();d.Tb(0,"mat-option",16),d.bc("click",(function(){d.Ec(n);var e=d.fc(),t=d.Ac(23);return e.toggleClientPerOne(t.viewValue)})),d.Rc(1),d.Sb()}if(2&e){var i=t.$implicit;d.mc("value",i.clientId),d.Cb(1),d.Tc(" ",i.clientName," ")}}var Ot,Nt,xt=((Nt=function(){function n(e,t,o,l,a,s){i(this,n),this.fb=e,this.clientSettingService=t,this.snackbar=o,this.dialogRef=l,this.dialog=a,this.cookieService=s,this.lstClients=[],this.lstFilterClients=[],this.selectedClients=[],this.isCancel=!1,l.disableClose=!0}return l(n,[{key:"ngOnInit",value:function(){var e=this;this.clientId=this.cookieService.get("globalClientId"),this.lstClients=this.lstFilterClients=JSON.parse(localStorage.getItem("userClients")),this.clientId&&(this.lstClients=this.lstFilterClients.filter((function(t){return t.clientId!=Number(e.clientId)}))),this.form=this.fb.group({fromClient:[""],clients:[""]}),this.lstFilterClients.find((function(t){t.clientId==e.clientId&&(e.fromClientName=t.clientName,e.selectCopyFromClient(e.fromClientName))}))}},{key:"selectCopyFromClient",value:function(e){var t=this;this.selectedClients=[];var n=this.lstFilterClients.find((function(t){return t.clientName==e}));this.clientId=n.clientId,this.fromClientName=n.clientName,this.clientId&&(this.lstClients=this.lstFilterClients.filter((function(e){return e.clientId!=Number(t.clientId)})))}},{key:"toggleClientsAllSelection",value:function(){this.form.controls.clients.patchValue(this.allClientsSelected.selected?[].concat(e(this.lstClients.map((function(e){return e.clientId}))),[0]):[])}},{key:"toggleClientPerOne",value:function(e){if(this.allClientsSelected.selected)return this.allClientsSelected.deselect(),!1;this.form.controls.clients.value.length==this.lstClients.length&&this.allClientsSelected.select()}},{key:"save",value:function(){var e=this;if(this.isCancel)return this.isCancel=!1,void this.dialog.open(vt.a,{data:{label:"Are you sure you want to Cancel?",selected:!1}}).afterClosed().subscribe((function(t){t&&e.dialogRef.close()}));this.dialog.open(Ct.a,{autoFocus:!0,data:[{label:"Remove Existing & Copy whole Configuration from Beginning",value:1},{label:"Keep Existing & Copy Only New Configuration",value:2},{label:"Copy Only New & Modify existing Configuration",value:3}]}).afterClosed().subscribe((function(t){if(t&&e.selectedClients&&e.selectedClients.length){var n=[];e.selectedClients.forEach((function(i){0!=i&&n.push({fromClientId:Number(e.clientId),toClientId:Number(i),type:Number(t.value)})})),e.clientSettingService.copyClientSettings(n).subscribe({next:function(t){t?e.notificationMessage("Client Config copied successfully.","green-snackbar"):e.notificationMessage("Client Config copy failed","red-snackbar"),e.dialogRef.close()},error:function(t){e.notificationMessage("Client Config copy failed","red-snackbar")}})}}))}},{key:"notificationMessage",value:function(e,t){this.snackbar.open(e,null,{duration:5e3,verticalPosition:"top",horizontalPosition:"end",panelClass:[t]})}},{key:"search",value:function(e){var t=this.select(e);this.lstClients=t}},{key:"select",value:function(e){var n=[];if(e){var i,o=function(e,n){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=t(e))||n&&e&&"number"==typeof e.length){i&&(e=i);var o=0,l=function(){};return{s:l,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,r=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return s=e.done,e},e:function(e){r=!0,a=e},f:function(){try{s||null==i.return||i.return()}finally{if(r)throw a}}}}(this.lstFilterClients);try{for(o.s();!(i=o.n()).done;){var l=i.value;l.clientName.toLowerCase().indexOf(e)>-1&&n.push(l)}}catch(a){o.e(a)}finally{o.f()}}else n=this.lstFilterClients;return n}},{key:"close",value:function(){this.dialogRef.close()}},{key:"closeDialog",value:function(){this.isCancel=!0}}]),n}()).\u0275fac=function(e){return new(e||Nt)(d.Nb(p.f),d.Nb(f),d.Nb(S.b),d.Nb(h.h),d.Nb(h.b),d.Nb(y.a))},Nt.\u0275cmp=d.Hb({type:Nt,selectors:[["fury-copy-client-settings"]],viewQuery:function(e,t){var n;1&e&&d.Vc(Mt,!0),2&e&&d.zc(n=d.cc())&&(t.allClientsSelected=n.first)},decls:31,vars:9,consts:[["mat-dialog-title",""],["role","toolbar",1,"task-header"],[1,"fx-spacer"],["mat-icon-button","",3,"click"],["title","Close","mat-list-icon",""],[3,"formGroup","ngSubmit"],[1,"mat-dlg-content"],[1,"padding-top"],[1,"person"],["fxLayout","column","fxLayout.gt-sm","row","fxLayoutGap.gt-sm","48px"],["fxFlex",""],["formControlName","fromClient","placeholder","Copy From Client",3,"ngModel","disabled","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["multiple","","placeholder","Select a Client",1,"multiSelectCustom",3,"ngModel","formControl","ngModelChange"],["matInput","","focused","'true'","type","text","autocomplete","off","placeholder","Search",1,"myInput",3,"keyup"],["myInput",""],[3,"value","click"],["allClientsSelected",""],[3,"value","click",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end center"],["mat-button","",3,"click"],["mat-button","",3,"disabled"],[3,"value"]],template:function(e,t){1&e&&(d.Tb(0,"h4",0),d.Tb(1,"mat-toolbar",1),d.Tb(2,"span"),d.Rc(3,"Copy Client Config"),d.Sb(),d.Ob(4,"span",2),d.Tb(5,"button",3),d.bc("click",(function(){return t.close()})),d.Tb(6,"mat-icon",4),d.Rc(7,"close"),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Tb(8,"form",5),d.bc("ngSubmit",(function(){return t.save()})),d.Tb(9,"mat-dialog-content",6),d.Tb(10,"fury-card"),d.Tb(11,"fury-card-content",7),d.Tb(12,"div",8),d.Tb(13,"div",9),d.Tb(14,"mat-form-field",10),d.Tb(15,"mat-select",11),d.bc("ngModelChange",(function(e){return t.fromClientName=e}))("selectionChange",(function(e){return t.selectCopyFromClient(e.value)})),d.Pc(16,Pt,2,2,"mat-option",12),d.Sb(),d.Sb(),d.Tb(17,"mat-form-field",10),d.Tb(18,"mat-select",13),d.bc("ngModelChange",(function(e){return t.selectedClients=e})),d.Tb(19,"input",14,15),d.bc("keyup",(function(e){return t.search(e.target.value)})),d.Sb(),d.Ob(21,"mat-divider"),d.Tb(22,"mat-option",16,17),d.bc("click",(function(){return t.toggleClientsAllSelection()})),d.Rc(24,"Select All"),d.Sb(),d.Pc(25,wt,2,2,"mat-option",18),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Tb(26,"mat-dialog-actions",19),d.Tb(27,"button",20),d.bc("click",(function(){return t.closeDialog()})),d.Rc(28,"CANCEL"),d.Sb(),d.Tb(29,"button",21),d.Rc(30,"PROCEED"),d.Sb(),d.Sb(),d.Sb()),2&e&&(d.Cb(8),d.mc("formGroup",t.form),d.Cb(7),d.mc("ngModel",t.fromClientName)("disabled",!0),d.Cb(1),d.mc("ngForOf",t.lstFilterClients),d.Cb(2),d.mc("ngModel",t.selectedClients)("formControl",t.form.controls.clients),d.Cb(4),d.mc("value",0),d.Cb(3),d.mc("ngForOf",t.lstClients),d.Cb(4),d.mc("disabled",0==(null==t.selectedClients?null:t.selectedClients.length)))},directives:[h.i,Tt.a,k.a,P.a,kt.c,p.z,p.r,p.k,h.f,Rt.a,Rt.c,C.d,C.e,v.d,C.b,T.a,p.q,p.i,r.n,p.h,W.b,It.a,M.n,h.c,C.c],styles:[".myInput[_ngcontent-%COMP%]{height:50px!important;padding:10px!important}.task-header[_ngcontent-%COMP%]{background-color:transparent;padding:0 5px;height:20px}.fx-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),Nt),Dt=((Ot=function(){function e(t,n,o){i(this,e),this.fb=t,this.clientSettingService=n,this.cookieService=o,this.name="",this.termsAndCondition="",this.invoiceTerms=t.group({name:[""],termsAndCondition:[null]})}return l(e,[{key:"ngOnInit",value:function(){var e=this;this.clientId=Number(this.cookieService.get("globalClientId")),this.clientSettingService.getTermsAndConditions(this.clientId).subscribe((function(t){t&&(e.name=t.name,e.termsAndCondition=t.termsAndCondition)}))}}]),e}()).\u0275fac=function(e){return new(e||Ot)(d.Nb(p.f),d.Nb(f),d.Nb(y.a))},Ot.\u0275cmp=d.Hb({type:Ot,selectors:[["fury-client-invoice-terms"]],decls:14,vars:3,consts:[["fxLayout","column","fxLayoutGap","8px",1,"content",3,"formGroup"],["fxLayout","column","fxLayoutGap","8px"],["fxFlex","auto"],["formControlName","name","matInput","",3,"ngModel","ngModelChange"],["fxFlex",""],["type","text","formControlName","termsAndCondition","matInput","",2,"height","138px",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(d.Tb(0,"div",0),d.Tb(1,"div",1),d.Tb(2,"mat-form-field",2),d.Tb(3,"mat-label"),d.Rc(4,"Name"),d.Sb(),d.Tb(5,"input",3),d.bc("ngModelChange",(function(e){return t.name=e})),d.Sb(),d.Tb(6,"mat-hint"),d.Rc(7,"Please enter Name"),d.Sb(),d.Sb(),d.Tb(8,"mat-form-field",4),d.Tb(9,"mat-label"),d.Rc(10,"Terms & Conditions"),d.Sb(),d.Tb(11,"textarea",5),d.bc("ngModelChange",(function(e){return t.termsAndCondition=e})),d.Sb(),d.Tb(12,"mat-hint"),d.Rc(13,"Please enter Terms & Conditions"),d.Sb(),d.Sb(),d.Sb(),d.Sb()),2&e&&(d.mc("formGroup",t.invoiceTerms),d.Cb(5),d.mc("ngModel",t.name),d.Cb(6),d.mc("ngModel",t.termsAndCondition))},directives:[C.d,C.e,p.r,p.k,v.d,C.b,v.h,p.c,W.b,p.q,p.i,v.g],styles:[""]}),Ot),qt=a("a8hA"),Ft=a("xBcV"),Lt=a("rvYj"),Gt=a("rFp9"),Ut=a("xHqg");function Et(e,t){1&e&&d.Rc(0,"GENERAL ")}function At(e,t){1&e&&d.Rc(0,"SEQUENCE NUMBER ")}function zt(e,t){1&e&&d.Rc(0,"EMAIL ")}function Kt(e,t){1&e&&d.Rc(0,"MESSAGE")}function _t(e,t){1&e&&d.Rc(0,"INVOICE TERMS")}function Ht(e,t){1&e&&d.Rc(0,"LOCALISATION")}var Bt,Vt,$t,jt=[{path:"",component:(Bt=function(){function e(t,n,o,l,a,s,r){i(this,e),this.fb=t,this.cd=n,this.snackbar=o,this.masterService=l,this.clientSettingService=a,this.clientSelectionService=s,this.dialog=r,this._gap=16,this.gap=this._gap+"px",this.col2="1 1 calc(50% - ".concat(this._gap/2,"px)"),this.col3="1 1 calc(33.3333% - ".concat(this._gap/1.5,"px)"),this.utilityTypes=[],this.parameters=[],this.weekTypes=[],this.peakTypes=[],this.seasons=[],this.slabs=[],this.utilityTypeId=0,this.parameterId=0,this.passwordInputType="password",this.tariffName="",this.rate=0,this.peakTypeId=0,this.weekTypeId=0,this.from=0,this.to=0,this.tariffDate=new Date,this.isDisable=!0,this.peakSettingsHide=!0,this.slabSettingsHide=!0,this.isCompleted=!0}return l(e,[{key:"ngAfterViewChecked",value:function(){this.cd.detectChanges()}},{key:"ngOnInit",value:function(){this.clientSelectionService.setIsClientVisible(!0),this.clientSettingsFormGroup=this.clientSettingsMessageComponent.messageSettings,this.clientSettingsLocalisationFormGroup=this.clientSettingsLocalisationComponent.localisationSettings,this.generalFormGroup=this.generalComponent.generalSettings,this.sequenceFormGroup=this.sequencenumberComponent.sequenceSettings,this.emailFormGroup=this.emailsettingsComponent.emailSettings,this.clientSettingsInvoiceTermsFormGroup=this.clientInvoiceTermsComponent.invoiceTerms}},{key:"saveDatas",value:function(){var e,t=this,n=!0,i={};i.clientId=this.generalComponent.clientId,i.WorkingHours=this.generalComponent.workingHrs,i.SupportMail=this.generalComponent.supportMail,i.Website=this.generalComponent.website,i.BillSettingsId=this.generalComponent.billSettingsId,i.isBilledbyClient=this.generalComponent.isBilledbyClient,this.clientSettingService.saveGeneral(i).subscribe((function(e){e&&(n=!0)})),(e=this.sequencenumberComponent.lstSequence).length>0&&this.clientSettingService.saveSequenceNumber(e).subscribe((function(e){e&&(n=!0)}));var o,l={};l.clientId=this.generalComponent.clientId,l.SmtpServer=this.emailsettingsComponent.smtpServer,l.SmtpPort=Number(this.emailsettingsComponent.smtpPort),l.SmtpUsername=this.emailsettingsComponent.smtpUsername,l.SmtpPassword=this.emailsettingsComponent.smtpPassword,l.PopServer=this.emailsettingsComponent.popServer,l.PopPort=Number(this.emailsettingsComponent.popPort),l.NoreplyUsername=this.emailsettingsComponent.noreplyUsername,l.NoreplyPassword=this.emailsettingsComponent.noreplyPassword,this.clientSettingService.saveEmail(l).subscribe((function(e){e&&(n=!0)})),o=this.clientSettingsMessageComponent.lstMessage,this.clientSettingService.deleteMessage(this.generalComponent.clientId).subscribe((function(e){e&&(n=!0)})),o.length>0&&this.clientSettingService.saveMessage(o).subscribe((function(e){e&&(n=!0)}));var a={};a.name=this.clientInvoiceTermsComponent.name,a.termsAndCondition=this.clientInvoiceTermsComponent.termsAndCondition,a.clientId=this.clientInvoiceTermsComponent.clientId,this.clientSettingService.saveInvoiceTerms(a).subscribe((function(e){e&&(n=!0)}));var s={};s.DateFormatId=this.clientSettingsLocalisationComponent.dateFormatId,s.CurrencyRoundOff=this.clientSettingsLocalisationComponent.roundOff.toString(),s.Currency=this.clientSettingsLocalisationComponent.currency,s.ClientId=this.generalComponent.clientId,s.UtilityTypeRoundOff=this.clientSettingsLocalisationComponent.lstConsumptionRoundOff,this.clientSettingService.saveLocalisation(s).subscribe((function(e){var i,o;e&&(n=!0,t.setClientDataFormats(t.generalComponent.clientId),(null===(i=t.clientSettingsLocalisationComponent)||void 0===i?void 0:i.roundOff)&&""!=(null===(o=t.clientSettingsLocalisationComponent)||void 0===o?void 0:o.roundOff)&&(t.clientSettingsLocalisationComponent.localisationSettings.controls.currency.disable(),t.clientSettingsLocalisationComponent.localisationSettings.controls.roundOff.disable()))})),1==n&&this.notificationMessage("Client Config saved successfully","green-snackbar")}},{key:"setClientDataFormats",value:function(e){this.masterService.getClientDataFormats(parseInt(e)).subscribe((function(e){e&&localStorage.setItem("data_formats",JSON.stringify(e))}))}},{key:"notificationMessage",value:function(e,t){this.snackbar.open(e,null,{duration:5e3,verticalPosition:"top",horizontalPosition:"end",panelClass:[t]})}},{key:"isSlabSettingsAdded",value:function(e){this.slabSettingsHide=e}},{key:"isPeakSettingsAdded",value:function(e){this.peakSettingsHide=e}},{key:"copyClientSettings",value:function(){this.dialog.open(xt).afterClosed().subscribe()}}]),e}(),Bt.\u0275fac=function(e){return new(e||Bt)(d.Nb(p.f),d.Nb(d.h),d.Nb(S.b),d.Nb(Z.a),d.Nb(f),d.Nb(qt.a),d.Nb(h.b))},Bt.\u0275cmp=d.Hb({type:Bt,selectors:[["fury-clientsetting"]],viewQuery:function(e,t){var n;1&e&&(d.Jc(He,!0),d.Jc(Q,!0),d.Jc(Re,!0),d.Jc(Je,!0),d.Jc(dt,!0),d.Jc(yt,!0),d.Jc(Dt,!0)),2&e&&(d.zc(n=d.cc())&&(t.clientSettingsMessageComponent=n.first),d.zc(n=d.cc())&&(t.clientSettingsLedgerRelationComponent=n.first),d.zc(n=d.cc())&&(t.clientSettingsLocalisationComponent=n.first),d.zc(n=d.cc())&&(t.generalComponent=n.first),d.zc(n=d.cc())&&(t.sequencenumberComponent=n.first),d.zc(n=d.cc())&&(t.emailsettingsComponent=n.first),d.zc(n=d.cc())&&(t.clientInvoiceTermsComponent=n.first))},decls:81,vars:14,consts:[["mode","card",2,"margin-top","20px"],["color","primary"],["src","assets/img/fav-icon.png",1,"img-style"],[1,"toolbar-spacer"],["matTooltip","Copy","type","button","mat-mini-fab","","color","primary",1,"create",3,"click"],["fxLayout","column","fxLayoutAlign","start center"],[1,"card"],[3,"linear"],["stepper","matHorizontalStepper"],["completed","false",3,"stepControl"],[3,"formGroup"],["matStepLabel",""],[1,"heading"],[1,"subheading"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","8px",1,"actions"],["color","primary","mat-raised-button","","matStepperNext",""],["color","primary","mat-button","","matStepperPrevious","","type","button"],[3,"stepControl"],[2,"color","red","font-size","smaller","padding-bottom","20px"],[3,"isDisable"],["color","primary","mat-raised-button","",3,"disabled","click"]],template:function(e,t){1&e&&(d.Tb(0,"fury-page-layout",0),d.Tb(1,"fury-page-layout-content"),d.Tb(2,"mat-toolbar",1),d.Ob(3,"img",2),d.Tb(4,"span"),d.Rc(5,"Client Config"),d.Sb(),d.Ob(6,"span",3),d.Tb(7,"button",4),d.bc("click",(function(){return t.copyClientSettings()})),d.Tb(8,"mat-icon"),d.Rc(9,"file_copy"),d.Sb(),d.Sb(),d.Sb(),d.Tb(10,"fury-page"),d.Tb(11,"div",5),d.Tb(12,"div",6),d.Tb(13,"mat-horizontal-stepper",7,8),d.Tb(15,"mat-step",9),d.Tb(16,"form",10),d.Pc(17,Et,1,0,"ng-template",11),d.Ob(18,"div",12),d.Ob(19,"div",13),d.Ob(20,"fury-general"),d.Tb(21,"div",14),d.Tb(22,"button",15),d.Rc(23,"NEXT "),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Tb(24,"mat-step",9),d.Tb(25,"form",10),d.Pc(26,At,1,0,"ng-template",11),d.Ob(27,"div",12),d.Ob(28,"div",13),d.Ob(29,"fury-sequencenumber"),d.Tb(30,"div",14),d.Tb(31,"button",16),d.Rc(32,"PREVIOUS"),d.Sb(),d.Tb(33,"button",15),d.Rc(34,"NEXT "),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Tb(35,"mat-step",9),d.Tb(36,"form",10),d.Pc(37,zt,1,0,"ng-template",11),d.Ob(38,"div",12),d.Ob(39,"div",13),d.Ob(40,"fury-emailsettings"),d.Tb(41,"div",14),d.Tb(42,"button",16),d.Rc(43,"PREVIOUS"),d.Sb(),d.Tb(44,"button",15),d.Rc(45,"NEXT "),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Tb(46,"mat-step",9),d.Tb(47,"form",10),d.Pc(48,Kt,1,0,"ng-template",11),d.Ob(49,"div",12),d.Ob(50,"div",13),d.Ob(51,"fury-client-settings-message"),d.Tb(52,"div",14),d.Tb(53,"button",16),d.Rc(54,"PREVIOUS"),d.Sb(),d.Tb(55,"button",15),d.Rc(56,"NEXT "),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Tb(57,"mat-step",9),d.Tb(58,"form",10),d.Pc(59,_t,1,0,"ng-template",11),d.Ob(60,"div",12),d.Ob(61,"div",13),d.Ob(62,"fury-client-invoice-terms"),d.Tb(63,"div",14),d.Tb(64,"button",16),d.Rc(65,"PREVIOUS"),d.Sb(),d.Tb(66,"button",15),d.Rc(67,"NEXT "),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Tb(68,"mat-step",17),d.Tb(69,"form",10),d.Pc(70,Ht,1,0,"ng-template",11),d.Tb(71,"div",18),d.Rc(72,"* Localisation Settings once configured cannot be changed."),d.Sb(),d.Ob(73,"div",12),d.Ob(74,"div",13),d.Tb(75,"fury-client-settings-localisation",19),d.bc("isDisable",(function(e){return t.isSlabSettingsAdded(e)})),d.Sb(),d.Tb(76,"div",14),d.Tb(77,"button",16),d.Rc(78,"PREVIOUS"),d.Sb(),d.Tb(79,"button",20),d.bc("click",(function(){return t.saveDatas()})),d.Rc(80,"SAVE "),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb()),2&e&&(d.Cb(13),d.mc("linear",!1),d.Cb(2),d.mc("stepControl",t.generalFormGroup),d.Cb(1),d.mc("formGroup",t.generalFormGroup),d.Cb(8),d.mc("stepControl",t.sequenceFormGroup),d.Cb(1),d.mc("formGroup",t.sequenceFormGroup),d.Cb(10),d.mc("stepControl",t.emailFormGroup),d.Cb(1),d.mc("formGroup",t.emailFormGroup),d.Cb(10),d.mc("stepControl",t.clientSettingsFormGroup),d.Cb(1),d.mc("formGroup",t.clientSettingsFormGroup),d.Cb(10),d.mc("stepControl",t.clientSettingsInvoiceTermsFormGroup),d.Cb(1),d.mc("formGroup",t.clientSettingsInvoiceTermsFormGroup),d.Cb(10),d.mc("stepControl",t.clientSettingsLocalisationFormGroup),d.Cb(1),d.mc("formGroup",t.clientSettingsLocalisationFormGroup),d.Cb(10),d.mc("disabled",!(0!=t.generalComponent.clientId&&t.generalComponent.workingHrs&&t.generalComponent.supportMail&&t.generalComponent.website&&t.generalComponent.billSettingsId&&t.clientSettingsLocalisationComponent.isFormvalid)))},directives:[Ft.a,Lt.a,Tt.a,k.a,Ie.a,P.a,Gt.a,C.d,C.c,Ut.a,Ut.b,p.z,p.r,p.k,Ut.c,Je,C.e,Ut.e,dt,Ut.f,yt,He,Dt,Re],styles:[".img-style[_ngcontent-%COMP%]{width:32px}.mat-icon[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]{background:url(/assets/img/backgrounds/form-wizard.jpg);background-size:cover;display:block}.title[_ngcontent-%COMP%]{color:#1c74e0}.card[_ngcontent-%COMP%]{margin:24px;max-width:100%;border-radius:8px;overflow:hidden;box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12)}.card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font:var(--font-title)}.card[_ngcontent-%COMP%]   .subheading[_ngcontent-%COMP%]{font:var(--font-subheading-1)}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:12px 0}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-top:12px}.card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:24px;padding:24px 8px 0}.copyright[_ngcontent-%COMP%]{position:absolute;bottom:24px;right:24px;color:#fff}.toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),Bt)}],Qt=((Vt=function e(){i(this,e)}).\u0275mod=d.Lb({type:Vt}),Vt.\u0275inj=d.Kb({factory:function(e){return new(e||Vt)},imports:[[c.j.forChild(jt)],c.j]}),Vt),Xt=a("KthW"),Jt=a("WCGO"),Zt=a("RLWM"),Wt=a("zWnM"),Yt=(($t=function e(){i(this,e)}).\u0275mod=d.Lb({type:$t}),$t.\u0275inj=d.Kb({factory:function(e){return new(e||$t)},imports:[[r.c,Qt,p.w,Xt.a,Jt.a,u.l,Zt.a,Wt.a]]}),$t)},rFp9:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("fXoL"),l=function(){var e=function e(){i(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=o.Ib({type:e,selectors:[["","furyPage",""],["fury-page"]],hostAttrs:[1,"fury-page"]}),e}()}}])}();