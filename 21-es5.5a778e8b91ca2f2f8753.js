!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function n(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"1op0":function(t,e,n){var a,o,i;i=function(t){function e(t,e,n,a){t.hasOwnProperty(e)||(t[e]=a.apply(null,n))}e(t=t?t._modules:{},"Extensions/DownloadURL.js",[t["Core/Globals.js"]],(function(t){var e=t.win,n=e.navigator,a=e.document,o=e.URL||e.webkitURL||e,i=/Edge\/\d+/.test(n.userAgent),r=t.dataURLtoBlob=function(t){if((t=t.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/))&&3<t.length&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&e.Blob&&o.createObjectURL){var n=e.atob(t[3]),a=new e.ArrayBuffer(n.length);a=new e.Uint8Array(a);for(var i=0;i<a.length;++i)a[i]=n.charCodeAt(i);return t=new e.Blob([a],{type:t[1]}),o.createObjectURL(t)}};return t=t.downloadURL=function(t,o){var s=a.createElement("a");if("string"==typeof t||t instanceof String||!n.msSaveOrOpenBlob){if(t=""+t,(i||2e6<t.length)&&!(t=r(t)||""))throw Error("Failed to convert to blob");if(void 0!==s.download)s.href=t,s.download=o,a.body.appendChild(s),s.click(),a.body.removeChild(s);else try{if(null==e.open(t,"chart"))throw Error("Failed to open window")}catch(l){e.location.href=t}}else n.msSaveOrOpenBlob(t,o)},{dataURLtoBlob:r,downloadURL:t}})),e(t,"Extensions/ExportData.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Extensions/DownloadURL.js"]],(function(t,e,n,a,o){function i(t,e){var n=l.navigator,a=-1<n.userAgent.indexOf("WebKit")&&0>n.userAgent.indexOf("Chrome"),o=l.URL||l.webkitURL||l;try{if(n.msSaveOrOpenBlob&&l.MSBlobBuilder){var i=new l.MSBlobBuilder;return i.append(t),i.getBlob("image/svg+xml")}if(!a)return o.createObjectURL(new l.Blob(["\ufeff"+t],{type:e}))}catch(r){}}var r=n.doc,s=n.seriesTypes,l=n.win;n=a.addEvent;var c=a.defined,d=a.extend,u=a.find,h=a.fireEvent,p=a.getOptions,m=a.isNumber,f=a.pick,g=o.downloadURL;(a=a.setOptions)({exporting:{csv:{annotations:{itemDelimiter:"; ",join:!1},columnHeaderFormatter:null,dateFormat:"%Y-%m-%d %H:%M:%S",decimalPoint:null,itemDelimiter:null,lineDelimiter:"\n"},showTable:!1,useMultiLevelHeaders:!0,useRowspanHeaders:!0},lang:{downloadCSV:"Download CSV",downloadXLS:"Download XLS",exportData:{annotationHeader:"Annotations",categoryHeader:"Category",categoryDatetimeHeader:"DateTime"},viewData:"View data table",hideData:"Hide data table"}}),n(e,"render",(function(){this.options&&this.options.exporting&&this.options.exporting.showTable&&!this.options.chart.forExport&&!this.dataTableDiv&&this.viewData()})),e.prototype.setUpKeyToAxis=function(){s.arearange&&(s.arearange.prototype.keyToAxis={low:"y",high:"y"}),s.gantt&&(s.gantt.prototype.keyToAxis={start:"x",end:"x"})},e.prototype.getDataRows=function(e){var n,a=this.hasParallelCoordinates,o=this.time,i=this.options.exporting&&this.options.exporting.csv||{},r=this.xAxis,s={},l=[],d=[],p=[],g=this.options.lang.exportData,b=g.categoryHeader,y=g.categoryDatetimeHeader,v=function(n,a,o){if(i.columnHeaderFormatter){var r=i.columnHeaderFormatter(n,a,o);if(!1!==r)return r}return n?n instanceof t?n.options.title&&n.options.title.text||(n.dateTime?y:b):e?{columnTitle:1<o?a:n.name,topLevelColumnTitle:n.name}:n.name+(1<o?" ("+a+")":""):b},x=function(t,e,n){var a={},o={};return e.forEach((function(e){var i=(t.keyToAxis&&t.keyToAxis[e]||e)+"Axis";i=m(n)?t.chart[i][n]:t[i],a[e]=i&&i.categories||[],o[e]=i&&i.dateTime})),{categoryMap:a,dateTimeValueAxisMap:o}},C=[],O=0;for(w in this.setUpKeyToAxis(),this.series.forEach((function(t){var l,c=t.xAxis,h=t.options.keys||function(t,e){return t.data.filter((function(t){return void 0!==t.y&&t.name})).length&&e&&!e.categories&&!t.keyToAxis?t.pointArrayMap&&t.pointArrayMap.filter((function(t){return"x"===t})).length?(t.pointArrayMap.unshift("x"),t.pointArrayMap):["x","y"]:t.pointArrayMap||["y"]}(t,c),m=h.length,g=!t.requireSorting&&{},b=r.indexOf(c),y=x(t,h);if(!1!==t.options.includeInDataExport&&!t.options.isInternal&&!1!==t.visible){for(u(C,(function(t){return t[0]===b}))||C.push([b,O]),l=0;l<m;)n=v(t,h[l],h.length),p.push(n.columnTitle||n),e&&d.push(n.topLevelColumnTitle||n),l++;var w={chart:t.chart,autoIncrement:t.autoIncrement,options:t.options,pointArrayMap:t.pointArrayMap};t.options.data.forEach((function(e,n){a&&(y=x(t,h,n));var r={series:w};t.pointClass.prototype.applyOptions.apply(r,[e]),e=r.x;var d=t.data[n]&&t.data[n].name;for(l=0,(!c||"name"===t.exportKey||!a&&c&&c.hasNames&&d)&&(e=d),g&&(g[e]&&(e+="|"+n),g[e]=!0),s[e]||(s[e]=[],s[e].xValues=[]),s[e].x=r.x,s[e].name=d,s[e].xValues[b]=r.x;l<m;)s[e][O+l]=f(y.categoryMap[n=h[l]][d=r[n]],y.dateTimeValueAxisMap[n]?o.dateFormat(i.dateFormat,d):null,d),l++})),O+=l}})),s)Object.hasOwnProperty.call(s,w)&&l.push(s[w]);var w=e?[d,p]:[p];for(O=C.length;O--;){var T=C[O][0],S=C[O][1],D=r[T];l.sort((function(t,e){return t.xValues[T]-e.xValues[T]})),g=v(D),w[0].splice(S,0,g),e&&w[1]&&w[1].splice(S,0,g),l.forEach((function(t){var e=t.name;D&&!c(e)&&(D.dateTime?(t.x instanceof Date&&(t.x=t.x.getTime()),e=o.dateFormat(i.dateFormat,t.x)):e=D.categories?f(D.names[t.x],D.categories[t.x],t.x):t.x),t.splice(S,0,e)}))}return w=w.concat(l),h(this,"exportData",{dataRows:w}),w},e.prototype.getCSV=function(t){var e="",n=this.getDataRows(),a=this.options.exporting.csv,o=f(a.decimalPoint,","!==a.itemDelimiter&&t?1.1.toLocaleString()[1]:"."),i=f(a.itemDelimiter,","===o?";":","),r=a.lineDelimiter;return n.forEach((function(t,a){for(var s,l=t.length;l--;)"string"==typeof(s=t[l])&&(s='"'+s+'"'),"number"==typeof s&&"."!==o&&(s=s.toString().replace(".",o)),t[l]=s;e+=t.join(i),a<n.length-1&&(e+=r)})),e},e.prototype.getTable=function(t){var e='<table id="highcharts-data-table-'+this.index+'">',n=this.options,a=t?1.1.toLocaleString()[1]:".",o=f(n.exporting.useMultiLevelHeaders,!0);t=this.getDataRows(o);var i=0,r=o?t.shift():null,s=t.shift(),l=function(t,e,n,o){var i=f(o,"");return e="text"+(e?" "+e:""),"number"==typeof i?(i=i.toString(),","===a&&(i=i.replace(".",a)),e="number"):o||(e="empty"),"<"+t+(n?" "+n:"")+' class="'+e+'">'+i+"</"+t+">"};!1!==n.exporting.tableCaption&&(e+='<caption class="highcharts-table-caption">'+f(n.exporting.tableCaption,n.title.text?n.title.text.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):"Chart")+"</caption>");for(var c=0,d=t.length;c<d;++c)t[c].length>i&&(i=t[c].length);return e+=function(t,e,a){var i="<thead>",r=0;a=a||e&&e.length;var s,c=0;if(s=o&&t&&e){t:if(s=t.length,e.length===s){for(;s--;)if(t[s]!==e[s]){s=!1;break t}s=!0}else s=!1;s=!s}if(s){for(i+="<tr>";r<a;++r){var d=t[r+1];(s=t[r])===d?++c:c?(i+=l("th","highcharts-table-topheading",'scope="col" colspan="'+(c+1)+'"',s),c=0):(s===e[r]?n.exporting.useRowspanHeaders?(d=2,delete e[r]):(d=1,e[r]=""):d=1,i+=l("th","highcharts-table-topheading",'scope="col"'+(1<d?' valign="top" rowspan="'+d+'"':""),s))}i+="</tr>"}if(e){for(i+="<tr>",r=0,a=e.length;r<a;++r)void 0!==e[r]&&(i+=l("th",null,'scope="col"',e[r]));i+="</tr>"}return i+"</thead>"}(r,s,Math.max(i,s.length)),e+="<tbody>",t.forEach((function(t){e+="<tr>";for(var n=0;n<i;n++)e+=l(n?"td":"th",null,n?"":'scope="row"',t[n]);e+="</tr>"})),h(this,"afterGetTable",t={html:e+="</tbody></table>"}),t.html},e.prototype.downloadCSV=function(){var t=this.getCSV(!0);g(i(t,"text/csv")||"data:text/csv,\ufeff"+encodeURIComponent(t),this.getFilename()+".csv")},e.prototype.downloadXLS=function(){var t='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head>\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>Ark1</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e<style>td{border:none;font-family: Calibri, sans-serif;} .number{mso-number-format:"0.00";} .text{ mso-number-format:"@";}</style><meta name=ProgId content=Excel.Sheet><meta charset=UTF-8></head><body>'+this.getTable(!0)+"</body></html>";g(i(t,"application/vnd.ms-excel")||"data:application/vnd.ms-excel;base64,"+l.btoa(unescape(encodeURIComponent(t))),this.getFilename()+".xls")},e.prototype.viewData=function(){this.dataTableDiv||(this.dataTableDiv=r.createElement("div"),this.dataTableDiv.className="highcharts-data-table",this.renderTo.parentNode.insertBefore(this.dataTableDiv,this.renderTo.nextSibling),this.dataTableDiv.innerHTML=this.getTable()),""!==this.dataTableDiv.style.display&&"none"!==this.dataTableDiv.style.display||(this.dataTableDiv.style.display="block"),this.isDataTableVisible=!0,h(this,"afterViewData",this.dataTableDiv)},e.prototype.hideData=function(){this.dataTableDiv&&"block"===this.dataTableDiv.style.display&&(this.dataTableDiv.style.display="none"),this.isDataTableVisible=!1},e.prototype.toggleDataTable=function(){var t=this.exportDivElements,e=this.options.exporting;e=e&&e.buttons&&e.buttons.contextButton.menuItems;var n=this.options.lang;this.isDataTableVisible?this.hideData():this.viewData(),null!=b&&b.menuItemDefinitions&&null!=n&&n.viewData&&n.hideData&&e&&t&&t.length&&(t[e.indexOf("viewData")].innerHTML=this.isDataTableVisible?n.hideData:n.viewData)};var b=p().exporting;b&&(d(b.menuItemDefinitions,{downloadCSV:{textKey:"downloadCSV",onclick:function(){this.downloadCSV()}},downloadXLS:{textKey:"downloadXLS",onclick:function(){this.downloadXLS()}},viewData:{textKey:"viewData",onclick:function(){this.toggleDataTable()}}}),b.buttons&&b.buttons.contextButton.menuItems.push("separator","downloadCSV","downloadXLS","viewData")),s.map&&(s.map.prototype.exportKey="name"),s.mapbubble&&(s.mapbubble.prototype.exportKey="name"),s.treemap&&(s.treemap.prototype.exportKey="name")})),e(t,"masters/modules/export-data.src.js",[],(function(){}))},t.exports?(i.default=i,t.exports=i):(a=[n("6n/F"),n("AxlJ")],void 0===(o=(function(t){return i(t),i.Highcharts=t,i}).apply(e,a))||(t.exports=o))},"4u/o":function(e,a,o){"use strict";o.d(a,"a",(function(){return p}));var i=o("z6cu"),r=o("lJxs"),s=o("JIr8"),l=o("sXtk"),c=o("fXoL"),d=o("tk/3"),u=o("ofXK"),h=o("b6Qw"),p=function(){var e=function(){function e(n,a,o,i){t(this,e),this.httpClient=n,this.titlecasePipe=a,this.cookieService=o,this.envService=i,this.baseUrl="",this.clientId=Number(this.cookieService.get("globalClientId")),this.baseUrl=i.backend}return n(e,[{key:"getDatas",value:function(t){return this.httpClient.get(this.baseUrl+t)}},{key:"getById",value:function(t,e){return this.httpClient.get(this.baseUrl+t+e)}},{key:"postData",value:function(t,e){return this.httpClient.post(this.baseUrl+t,e)}},{key:"putData",value:function(t,e){return this.httpClient.put(this.baseUrl+t,e)}},{key:"patchData",value:function(t,e){return this.httpClient.patch(this.baseUrl+t,e)}},{key:"getData",value:function(t){return this.httpClient.get(this.baseUrl+t).pipe(Object(r.a)((function(t){return t})),Object(s.a)((function(t){return Object(i.a)("Something went wrong!")})))}},{key:"setPieChart",value:function(t){return{chart:{type:"pie"},title:{text:null},credits:{enabled:!1},exporting:{enabled:!1},xAxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},legend:{floating:!0,align:"left",verticalAlign:"top",layout:"vertical",x:0,y:50},plotOptions:{series:{shadow:!0}},series:[{type:"pie",allowPointSelect:!0,dataLabels:{enabled:!0},keys:["name","y","selected","sliced"],data:t.chartValues,showInLegend:!0}]}}},{key:"setBarChart",value:function(t){return{chart:{height:325,type:"column"},credits:{enabled:!1},title:{text:null},subtitle:{text:null},xAxis:{categories:t.labels},yAxis:{min:0,title:{text:"Invoice Statistics"}},legend:{layout:"horizontal",align:"center",verticalAlign:"top",x:0,y:0,floating:!1,shadow:!1},tooltip:{formatter:function(){return this.x+": "+this.y}},plotOptions:{column:{pointPadding:.2,borderWidth:0,pointWidth:15}},series:[{name:"Invoice Data",data:t.datas,type:"column"}]}}},{key:"setLineChart",value:function(t){return{chart:{type:"spline"},title:{text:t.chartName},subtitle:{text:t.subTitle},xAxis:{categories:this.formatLabel(t.label),title:{text:t.xTitle}},yAxis:{title:{text:t.yTitle}},tooltip:{shared:!0,useHTML:!0,backgroundColor:"#0000008f",borderWidth:0,style:{fontFamily:"comic sans ms",color:"white",opacity:1}},plotOptions:{spline:{marker:{fillColor:"#FFFFFF",lineWidth:2,lineColor:null}},series:{shadow:!0,point:{events:{}}}},credits:{enabled:!1},series:t.data,exporting:{enabled:!1}}}},{key:"formatLabel",value:function(t){var e=this;return t.map((function(t){return t.length>7&&(t=t.slice(0,5)+".."),e.titlecasePipe.transform(t)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Xb(d.c),c.Xb(u.x),c.Xb(h.a),c.Xb(l.a))},e.\u0275prov=c.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},Xhjs:function(e,a,o){"use strict";o.r(a),o.d(a,"GeneraldashboardModule",(function(){return $}));var i=o("ofXK"),r=o("tyNb"),s=o("4u/o"),l=o("cFdI"),c=o("6n/F"),d=o("AxlJ"),u=o.n(d),h=o("iTcJ"),p=o.n(h),m=o("1op0"),f=o.n(m),g=o("M8aS"),b=o.n(g),y=o("cIyM"),v=o("K+kB"),x=o("wd/R"),C=o("Z9Wc"),O=o.n(C),w=o("rjUY"),T=o.n(w),S=o("zSPf"),D=o("KHMF"),P=o("a8hA"),k=o("sXtk"),F=o("fXoL"),A=o("dNgK"),R=o("b6Qw"),M=o("XiUz"),I=o("Wp6s"),E=o("/t3+"),L=o("kmnG"),N=o("d3UM"),B=o("3Pt+"),U=o("FKr1");function W(t,e){if(1&t){var n=F.Ub();F.Tb(0,"button",24),F.bc("click",(function(t){return F.Ec(n),F.fc().showQuarterData(t)})),F.Rc(1),F.Sb()}if(2&t){var a=e.$implicit;F.nc("id",a),F.Cb(1),F.Tc(" ",a.replace("Q","Quarter")," ")}}function j(t,e){if(1&t){var n=F.Ub();F.Tb(0,"button",24),F.bc("click",(function(t){return F.Ec(n),F.fc().showRevenueData(t)})),F.Rc(1),F.Sb()}if(2&t){var a=e.$implicit;F.nc("id",a),F.Cb(1),F.Tc(" ",a," ")}}function V(t,e){if(1&t&&(F.Tb(0,"mat-option",25),F.Rc(1),F.Sb()),2&t){var n=e.$implicit;F.mc("value",n.id),F.Cb(1),F.Sc(n.description)}}O()(c),u()(c),T()(c),o("Tos5")(c),p()(c),f()(c),b()(c);var z,_,G,Q=[{path:"",component:(z=function(){function e(n,a,o,i,r,s,l,d,u,h,p,m,f,g){t(this,e),this.pagesService=n,this.data=a,this.decimalPipe=o,this.generalDashBoardService=i,this.currency=r,this.menuItemService=s,this.route=l,this.snackbar=d,this.router=u,this.date=h,this.cookieService=p,this.masterService=m,this.clientSelectionService=f,this.envService=g,this.hideTextOnTile=!1,this.gain=0,this.isGain=!1,this.toolTip="",this.outstandingPercentage=0,this.isOutstandingIncreased=!1,this.overallConsumptionNodata=!0,this.meterNodata=!0,this.unitNodata=!0,this.revenueNodata=!0,this.invoiceNodata=!0,this.consolidated=!1,this.contractsAboutToExpire=0,this.numberOfOpenTickets=0,this.utilityType=0,this.lstutilityType=[],this.invoiceDate="",this.currencyType=Object(D.e)("Currency"),this.roundFormat=Object(D.e)("RoundOff"),this.consumptionRoundOffFormat=Object(D.e)("ConsumptionRoundOff"),this.Highcharts1=c,this.chartConstructor1="chart",this.barChartOptions={},this.pieChartOptions={},this.dailyRevenueOptions={},this.quarterWiseColumnChartOptions={},this.quarters=["Q1","Q2","Q3","Q4"],this.revenueTypes=["CurrentMonth","PreviousMonth","CurrentYear"],this.allQuarterData=[],this.currentQuarterData=[],this.lineChartOptions={},this.unitConsumptionbarChartOptions={},this.dashboardTitle="Dashboard",this.consumptionTitle="Overall Consumption",this.updateFlag1=!1,this.oneToOneFlag1=!0,this.runOutsideAngular1=!1,this.dashboardParameters={},this.invoiceData=[],this.manageParams={},this.expiryReminder=!1,this.fromQuickPanel=!1,this.parameterValue=!1}return n(e,[{key:"ngOnInit",value:function(){var t=this;this.currencySymbol=Object(i.A)(this.currencyType,"narrow"),this.masterService.getParameterValue("TicketTile").subscribe((function(e){e&&(t.parameterValue=e)})),this.cookieService.set("ownerId","0"),this.clientId=Number(this.cookieService.get("globalClientId")),this.cookieService.get("external_role")&&(this.cookieService.delete("external_role","/",this.envService.cookieDomain),this.menuItemService.setIsAuthenticatedUser(!0)),this.clientSelectionService.setIsClientVisible(!1),this.getFilterParams(),this.getUtilities(),this.getCountOfContractsAboutToExpire(),this.getNumberOfOpenTickets()}},{key:"getFilterParams",value:function(){var t=this;this.invoiceDate="";var e=this.cookieService.get("filterData");if(e){if(this.manageParams=JSON.parse(e),this.clientId=this.manageParams.clientId,""==this.manageParams.strClientId)this.fromQuickPanel=!1;else{this.fromQuickPanel=!0;var n=this.manageParams.strClientId.split(",");n&&1==n.length&&(this.clientId=Number(this.manageParams.strClientId))}if(this.clientId){var a=localStorage.getItem("userClients"),o=JSON.parse(a).find((function(e){return e.clientId==t.clientId}));if(o){this.dashboardTitle="Dashboard -  "+o.clientName,this.consumptionTitle="Overall Consumption -  "+o.clientName,this.hideMoreInfo=!0,this.manageParams.strClientId=this.clientId.toString();var r=x();this.masterService.getClientDataFormats(o.clientId).subscribe((function(e){var n,a,o;e&&(localStorage.setItem("data_formats",JSON.stringify(e)),t.roundFormat=null===(n=e.find((function(t){return"RoundOff"==t.roundOffType})))||void 0===n?void 0:n.roundOff,t.consumptionRoundOffFormat=null===(a=e.find((function(t){return"ConsumptionRoundOff"==t.roundOffType})))||void 0===a?void 0:a.roundOff,t.currencyType=null===(o=e.find((function(t){return"Currency"==t.roundOffType})))||void 0===o?void 0:o.roundOff,t.currencySymbol=Object(i.A)(t.currencyType,"narrow"),t.roundFormat&&""!=t.roundFormat&&(t.amountdecimalPlaces=parseInt(t.roundFormat.substring(t.roundFormat.indexOf("-")+1,t.roundFormat.length))),t.consumptionRoundOffFormat&&""!=t.consumptionRoundOffFormat&&(t.consumptiondecimalPlaces=parseInt(t.consumptionRoundOffFormat.substring(t.consumptionRoundOffFormat.indexOf("-")+1,t.consumptionRoundOffFormat.length))))})),this.invoiceDate="("+this.date.transform(r.add("month",-1),"yyyy-MM-dd")+" - "+this.date.transform(x(),"yyyy-MM-dd")+")"}}else this.dashboardTitle="Dashboard",this.consumptionTitle="Overall Consumption",this.hideMoreInfo=!1,""==this.manageParams.strClientId&&(this.manageParams.strClientId="0"),this.masterService.getDefaultDataFormats().subscribe((function(e){var n,a,o;e&&(localStorage.setItem("data_formats",JSON.stringify(e)),t.roundFormat=null===(n=e.find((function(t){return"RoundOff"==t.roundOffType})))||void 0===n?void 0:n.roundOff,t.consumptionRoundOffFormat=null===(a=e.find((function(t){return"ConsumptionRoundOff"==t.roundOffType})))||void 0===a?void 0:a.roundOff,t.currencyType=null===(o=e.find((function(t){return"Currency"==t.roundOffType})))||void 0===o?void 0:o.roundOff,t.currencySymbol=Object(i.A)(t.currencyType,"narrow"),t.roundFormat&&""!=t.roundFormat&&(t.amountdecimalPlaces=parseInt(t.roundFormat.substring(t.roundFormat.indexOf("-")+1,t.roundFormat.length))),t.consumptionRoundOffFormat&&""!=t.consumptionRoundOffFormat&&(t.consumptiondecimalPlaces=parseInt(t.consumptionRoundOffFormat.substring(t.consumptionRoundOffFormat.indexOf("-")+1,t.consumptionRoundOffFormat.length))))})),this.invoiceDate="("+this.date.transform(this.manageParams.fromDate,"yyyy-MM-dd")+" - "+this.date.transform(this.manageParams.toDate,"yyyy-MM-dd")+")"}}},{key:"getData",value:function(){var t=this;this.meterNodata=!0,this.unitNodata=!0,this.revenueNodata=!0,this.invoiceNodata=!0,this.overallConsumptionNodata=!0,this.manageParams.clientId=this.clientId,this.manageParams.utilityTypeId=this.utilityType.toString(),this.dashboardParameters.ClientId=this.manageParams.strClientId,this.dashboardParameters.FromDate=this.manageParams.fromDate,this.dashboardParameters.ToDate=this.manageParams.toDate;var e={chartName:[],chartValues:[]};this.meterBarChartOptions=this.setMeterPieChart(e,"Meter Status");var n=document.getElementById("gdacontainer3");n&&c.chart("gdacontainer3",this.meterBarChartOptions),this.generalDashBoardService.getMeterData(this.dashboardParameters).subscribe((function(a){Object.keys(a).map((function(t){e.chartValues.push([a[t].dataType,Number(a[t].dataCount)])})),t.meterBarChartOptions=t.setMeterPieChart(e,"Meter Status"),(n=document.getElementById("gdacontainer3"))&&c.chart("gdacontainer3",t.meterBarChartOptions)}),(function(e){t.notificationMessage("Error in MeterData","red-snackbar")}));var a={chartName:[],chartValues:[]};this.unitBarChartOptions=this.setUnitPieChart(a,"Occupancy Status");var o=document.getElementById("gdacontainer4");o&&c.chart("gdacontainer4",this.unitBarChartOptions),this.generalDashBoardService.getUnitData(this.dashboardParameters).subscribe((function(e){Object.keys(e).map((function(t){a.chartValues.push([e[t].dataType,Number(e[t].dataCount)])})),t.unitBarChartOptions=t.setUnitPieChart(a,"Occupancy Status"),(o=document.getElementById("gdacontainer4"))&&c.chart("gdacontainer4",t.unitBarChartOptions)}),(function(e){t.unitNodata=!0,t.notificationMessage("Error in UnitData","red-snackbar")}));var i={labels:[],datas:[]};this.dailyRevenueOptions=this.setDailyRevenueChart(i),document.getElementById("gdacontainer2")&&c.chart("gdacontainer2",this.dailyRevenueOptions),this.dashboardParameters.ReportType=this.revenueTypes[0];var r=document.getElementById(this.revenueTypes[0]);document.querySelectorAll(".revbuttons button.active").forEach((function(t){t.className=""})),r.className="active",this.makeRevenueDataChart(i);var s=this.getCurrentQuarter(),l=document.getElementById(s);this.dashboardParameters.Quarter=s,document.querySelectorAll(".buttons button.active").forEach((function(t){t.className=""})),l.className="active",this.makeQuarteWiseChart({labels:[],datas:[],totalInvoice:[],totalReceived:[],totalOutStanding:[]})}},{key:"makeRevenueDataChart",value:function(t){var e=this;this.dailyRevenueOptions=this.setDailyRevenueChart(t),document.getElementById("gdacontainer2")&&c.chart("gdacontainer2",this.dailyRevenueOptions),this.generalDashBoardService.getDailyRevenueData(this.dashboardParameters).subscribe((function(n){var a=n.revenueDailyDatas;e.totalMonthCollectionForTile$=n.totalCurrentMonthPaymentAmount.toFixed(e.amountdecimalPlaces),e.totalOutStandingForTile$=n.totalCurrentMonthOutStandingAmount.toFixed(e.amountdecimalPlaces);var o=(n.totalCurrentMonthPaymentAmount-n.totalPreviousMonthPaymentAmount)/n.totalPreviousMonthPaymentAmount*100;isNaN(o)?(e.gain=0,e.isGain=!1,e.toolTip=e.gain+"% when compared with Previous Month Collection"):o==1/0?(e.gain=100,e.isGain=!0,e.toolTip=e.gain+"% increase when compared with Previous Month Collection"):o>=0?(e.gain=parseFloat(e.decimalPipe.transform(o,e.roundFormat)),e.isGain=!0,e.toolTip=e.gain+"% increase when compared with Previous Month Collection"):(e.gain=parseFloat(e.decimalPipe.transform(o,e.roundFormat)),e.isGain=!1,e.toolTip=e.gain+"% decrease when compared with Previous Month Collection"),Object.keys(a).map((function(e){t.labels.push(a[e].dayId),t.datas.push(Number(a[e].paymentAmount))})),e.revenueNodata=!1,e.dailyRevenueOptions=e.setDailyRevenueChart(t),document.getElementById("gdacontainer2")&&c.chart("gdacontainer2",e.dailyRevenueOptions)}))}},{key:"makeQuarteWiseChart",value:function(t){var e=this;this.quarterWiseColumnChartOptions=this.setQuarterWiseColumnChart(t);var n=document.getElementById("gdacontainer1");n&&c.chart("gdacontainer1",this.quarterWiseColumnChartOptions),this.generalDashBoardService.getQuarterRevenueData(this.dashboardParameters).subscribe((function(a){e.currentQuarterData=a,Object.keys(e.currentQuarterData).map((function(n){t.labels.push(e.currentQuarterData[n].monthName),t.totalInvoice.push(e.currentQuarterData[n].totalInvoice),t.totalReceived.push(e.currentQuarterData[n].totalReceived),t.totalOutStanding.push(e.currentQuarterData[n].totalOutStanding)})),e.quarterWiseColumnChartOptions=e.setQuarterWiseColumnChart(t),(n=document.getElementById("gdacontainer1"))&&c.chart("gdacontainer1",e.quarterWiseColumnChartOptions)}))}},{key:"getCurrentQuarter",value:function(){var t=(new Date).getMonth();return"Q"+Math.floor(t/3+1)}},{key:"showRevenueData",value:function(t){var e=(t.target||t.srcElement||t.currentTarget).attributes.id.nodeValue,n=document.getElementById(e);document.querySelectorAll(".revbuttons button.active").forEach((function(t){t.className=""})),n.className="active",this.dashboardParameters.ReportType=e,this.makeRevenueDataChart({labels:[],datas:[]})}},{key:"showQuarterData",value:function(t){var e=(t.target||t.srcElement||t.currentTarget).attributes.id.nodeValue,n=document.getElementById(e);document.querySelectorAll(".buttons button.active").forEach((function(t){t.className=""})),n.className="active",this.dashboardParameters.Quarter=e,this.makeQuarteWiseChart({labels:[],datas:[],totalInvoice:[],totalReceived:[],totalOutStanding:[]})}},{key:"notificationMessage",value:function(t,e){this.snackbar.open(t,null,{duration:5e3,verticalPosition:"top",horizontalPosition:"end",panelClass:[e]})}},{key:"getUtilities",value:function(){var t=this;this.generalDashBoardService.getUtilities(this.clientId).subscribe((function(e){e?(t.lstutilityType=[],t.lstutilityType=e,t.lstutilityType&&t.lstutilityType.length>0&&(t.utilityType=t.lstutilityType[0].id),null==t.utilityType&&(t.utilityType=0),t.getData(),t.getUnitConsumption()):(t.getData(),t.getUnitConsumption())}),(function(e){t.getData(),t.getUnitConsumption()}))}},{key:"onDropdownChange",value:function(){this.getUnitConsumption()}},{key:"getUnitConsumption",value:function(){var t=this;this.overallConsumptionNodata=!0,this.manageParams.clientId=this.clientId,this.manageParams.utilityTypeId=this.utilityType.toString(),this.dashboardParameters.ClientId=this.manageParams.strClientId,this.dashboardParameters.FromDate=this.manageParams.fromDate,this.dashboardParameters.ToDate=this.manageParams.toDate,this.dashboardParameters.UtilityTypeId=parseInt(this.manageParams.utilityTypeId);var e={labels:[],datas:[]};this.consumptionUnit="Unit Consumption ";var n="";this.consumptionRoundOffFormat=Object(D.e)("ConsumptionRoundOff",0==this.clientId?0:this.dashboardParameters.UtilityTypeId),this.consumptionRoundOffFormat&&""!=this.consumptionRoundOffFormat&&(this.consumptiondecimalPlaces=parseInt(this.consumptionRoundOffFormat.substring(this.consumptionRoundOffFormat.indexOf("-")+1,this.consumptionRoundOffFormat.length))),this.unitConsumptionbarChartOptions=this.setUnitConsumptionBarChart(e),document.getElementById("gdacontainer6")&&c.chart("gdacontainer6",this.unitConsumptionbarChartOptions),this.generalDashBoardService.getBarChartData(this.dashboardParameters).subscribe((function(a){var o,i=a;n=null===(o=i[0])||void 0===o?void 0:o.unit,t.consumptionUnit+=n,Object.keys(i).map((function(t){e.labels.push(i[t].month),e.datas.push(Number(i[t].unitConsumption))})),t.overallConsumptionNodata=!1,t.unitConsumptionbarChartOptions=t.setUnitConsumptionBarChart(e,n),document.getElementById("gdacontainer6")&&c.chart("gdacontainer6",t.unitConsumptionbarChartOptions)}),(function(n){t.unitConsumptionbarChartOptions=t.setUnitConsumptionBarChart(e),document.getElementById("gdacontainer6")&&c.chart("gdacontainer6",t.unitConsumptionbarChartOptions)}))}},{key:"setChart",value:function(t){c.chart("gdacontainer1",{chart:{type:"pie"},title:{text:null},credits:{enabled:!1},xAxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},legend:{align:"right",verticalAlign:"top",layout:"vertical",x:0,y:50},plotOptions:{series:{shadow:!0}},series:[{type:"pie",allowPointSelect:!0,dataLabels:{enabled:!0},keys:["name","y","selected","sliced"],data:t.chartValues,showInLegend:!0}],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]}})}},{key:"setMeterBarChart",value:function(t){return{chart:{height:325,type:"column"},credits:{enabled:!1},title:{text:null},subtitle:{text:null},xAxis:{categories:t.labels},yAxis:{min:0,title:{text:"Meter Statistics",style:{fontSize:"12px",fontFamily:"Roboto"}}},legend:{itemStyle:{color:"#000000",fontWeight:"normal"},layout:"horizontal",align:"center",verticalAlign:"top",x:0,y:0,floating:!1,shadow:!1},tooltip:{formatter:function(){return this.x+": "+this.y}},plotOptions:{column:{pointPadding:.2,borderWidth:0,pointWidth:40,color:"rgb(63, 81, 181)"}},lang:{noData:"No data to display"},noData:{style:{fontWeight:"bold",fontSize:"15px"}},series:[{name:"Meter Status",data:t.datas,type:"column"}]}}},{key:"setUnitBarChart",value:function(t){return{chart:{height:325,type:"column"},credits:{enabled:!1},title:null,subtitle:{text:null},xAxis:{categories:t.labels},yAxis:{min:0,title:{text:"Unit Statistics",style:{fontSize:"12px",fontFamily:"Roboto"}}},legend:{itemStyle:{color:"#000000",fontWeight:"normal"},layout:"horizontal",align:"center",verticalAlign:"top",x:0,y:0,floating:!1,shadow:!1},tooltip:{formatter:function(){return this.x+": "+this.y}},plotOptions:{column:{pointPadding:.2,borderWidth:0,pointWidth:40,color:"#00bcd4"}},lang:{noData:"No data to display"},noData:{style:{fontWeight:"bold",fontSize:"15px"}},series:[{name:"Occupancy Status",data:t.datas,type:"column"}]}}},{key:"setPieChart",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a={chart:{height:325,type:"pie"},title:{text:e,style:{fontFamily:"Roboto"}},credits:{enabled:!1},exporting:{enabled:!0},noData:{style:{fontWeight:"bold",fontSize:"15px",color:"#CD534C"}},xAxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},legend:{floating:!1,align:"center",verticalAlign:"top",layout:"horizontal",x:0,y:-15,fontFamily:"Roboto",labelFormatter:function(){return this.name.split(" ").slice(0,2).join("").replace(":","")}},plotOptions:{series:{shadow:!0},pie:{colors:["#EFC000","#0073C2"]}},series:[{name:null==this.currencyType?"Amount":"Amount in "+this.currencySymbol,type:"pie",allowPointSelect:!0,dataLabels:{enabled:!0},keys:["name","y","selected","sliced"],data:t.chartValues,showInLegend:!0}]},o=a.series[0].data;return o.forEach((function(t){t[0]=t[0]+": "+(n||"")+" "+t[1]})),a.series[0].data=o,a}},{key:"setDailyRevenueChart",value:function(t){var e=this.currencySymbol,n=this.amountdecimalPlaces;return{chart:{height:387,type:"line"},credits:{enabled:!1},title:{text:"Collection Summary",style:{fontFamily:"Roboto",fontWeight:"bold"}},subtitle:{text:null},xAxis:{categories:this.formatLabel(t.labels)},yAxis:{min:0,title:{text:null==this.currencyType?"Amount":"Amount in "+this.currencySymbol,style:{fontSize:"12px",fontFamily:"Roboto"}}},tooltip:{formatter:function(){return this.x+": "+e+this.y.toFixed(n)}},colors:["#3366CC"],plotOptions:{column:{pointPadding:.2,borderWidth:0,pointWidth:8,color:"rgb(63, 81, 181)"}},lang:{noData:"No data to display"},noData:{style:{fontWeight:"bold",fontSize:"15px"}},series:[{name:"CurrentYear"==this.dashboardParameters.ReportType?"Monthly Revenue":"Day Wise Revenue",data:t.datas}]}}},{key:"setMeterPieChart",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a={chart:{height:325,type:"pie",options3d:{enabled:!0,alpha:45}},title:{text:e,style:{fontFamily:"Roboto",fontWeight:"bold"}},credits:{enabled:!1},exporting:{enabled:!0},noData:{style:{fontWeight:"bold",fontSize:"15px"}},xAxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},legend:{floating:!1,align:"center",verticalAlign:"top",layout:"horizontal",x:0,y:-15,fontFamily:"Roboto",labelFormatter:function(){return this.name.split(" ").slice(0,2).join("").replace(":","")}},plotOptions:{series:{shadow:!0},pointPadding:.25,pie:{innerSize:100,depth:45,colors:["#663399","#DFD8EB"]}},series:[{name:"Count: ",type:"pie",allowPointSelect:!0,dataLabels:{enabled:!0},keys:["name","y","selected","sliced"],data:t.chartValues,showInLegend:!0}]},o=a.series[0].data;return o.forEach((function(t){t[0]=t[0]+": "+(n||"")+" "+t[1]})),a.series[0].data=o,a}},{key:"setUnitPieChart",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a={chart:{height:325,type:"pie",options3d:{enabled:!0,alpha:45}},title:{text:e,style:{fontFamily:"Roboto",fontWeight:"bold"}},credits:{enabled:!1},exporting:{enabled:!0},noData:{style:{fontWeight:"bold",fontSize:"15px"}},xAxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},legend:{floating:!1,align:"center",verticalAlign:"top",layout:"horizontal",x:0,y:-15,fontFamily:"Roboto",labelFormatter:function(){return this.name.split(" ").slice(0,2).join("").replace(":","")}},plotOptions:{series:{shadow:!0},pointPadding:.25,pie:{innerSize:100,depth:45,colors:["#454F8C","#FF9E01"]}},series:[{name:"Count: ",type:"pie",allowPointSelect:!0,dataLabels:{enabled:!0},keys:["name","y","selected","sliced"],data:t.chartValues,showInLegend:!0}]},o=a.series[0].data;return o.forEach((function(t){t[0]=t[0]+": "+(n||"")+" "+t[1]})),a.series[0].data=o,a}},{key:"setLineChart",value:function(t){return{legend:{itemStyle:{color:"#000000",fontWeight:"normal"}},chart:{type:"spline",height:340,width:1100},title:{text:t.chartName},subtitle:{text:t.subTitle},xAxis:{categories:this.formatLabel(t.label),title:{text:t.xTitle}},yAxis:{title:{text:t.yTitle}},tooltip:{shared:!0,useHTML:!0,backgroundColor:"#0000008f",borderWidth:0,style:{fontFamily:"comic sans ms",color:"white",opacity:1}},plotOptions:{spline:{marker:{fillColor:"#FFFFFF",lineWidth:2,lineColor:null}},series:{shadow:!0,point:{events:{}}}},credits:{enabled:!1},series:t.data,exporting:{enabled:!0}}}},{key:"setBarChart",value:function(t){return{lang:{noData:"No data to display"},noData:{style:{fontWeight:"bold",fontSize:"15px"}},chart:{height:325,type:"column"},credits:{enabled:!1},export:{enabled:!0},title:{text:"Invoice and Receipt Details "+this.invoiceDate,style:{fontFamily:"Roboto",fontWeight:10}},subtitle:{text:null},xAxis:{categories:t.labels},yAxis:{min:0,title:{text:"Invoice Statistics "+this.currencySymbol,style:{fontSize:"12px",fontFamily:"Roboto"}}},legend:{itemStyle:{color:"#000000",fontWeight:"normal",fontFamily:"Roboto"},layout:"horizontal",align:"center",verticalAlign:"top",x:0,y:0,floating:!1,shadow:!1},tooltip:{formatter:function(){return this.x+": "+this.y}},plotOptions:{column:{pointPadding:.2,borderWidth:0,pointWidth:40,colorByPoint:!0}},colors:["#016BA5","#ABABAB","#ff800f"],series:[{name:"Invoice Data",data:t.datas,type:"column"}]}}},{key:"setQuarterWiseColumnChart",value:function(t){return{chart:{type:"column",height:387},title:{text:"Bills & Payment Summary",style:{fontFamily:"Roboto",fontWeight:"bold"}},credits:{enabled:!1},xAxis:{categories:t.labels,crosshair:!0},yAxis:{min:0,title:{text:null==this.currencyType?"Amount":"Amount in "+this.currencySymbol,style:{fontSize:"12px",fontFamily:"Roboto"}}},tooltip:{headerFormat:'<span style = "font-size:10px">{point.key}</span><table>',pointFormat:'<tr><td style = "color:{series.color};padding:0">{series.name}: </td><td style = "padding:0"><b>'+this.currencySymbol+"{point.y:."+this.amountdecimalPlaces+"f} </b></td></tr>",footerFormat:"</table>",shared:!0,useHTML:!0},colors:["#3366CC","#10C8CD","#DC0A59"],plotOptions:{column:{pointPadding:.2,borderWidth:0,pointWidth:29},colors:["#3366CC","#10C8CD","#DC0A59"]},series:[{type:"column",name:"Total Invoice",data:t.totalInvoice},{type:"column",name:"Total Received",data:t.totalReceived},{type:"column",name:"Total OutStanding",data:t.totalOutStanding}]}}},{key:"formatLabel",value:function(t){return t.map((function(t){return t.length>7&&(t=t.slice(0,5)+".."),t}))}},{key:"setHighPieChart",value:function(){var t=this,e={chartName:"",chartValues:[]};this.pagesService.getData("/invoiceData").subscribe((function(n){n&&(t.invoiceData=n,Object.keys(t.invoiceData).map((function(n){e.chartValues.push([t.invoiceData[n].dataType,Number(t.invoiceData[n].dataCount),!0])})),t.barChartOptions={chart:{type:"pie"},exporting:{enabled:!0},legend:{align:"right",verticalAlign:"top",layout:"vertical",x:0,y:50},title:{text:e.chartName},credits:{enabled:!1},plotOptions:{series:{point:{events:{}}},pie:{dataLabels:{enabled:!1}}},series:[{name:"value",type:"pie",allowPointSelect:!0,keys:["name","y","selected","sliced"],data:[["GDP value wise",29.9,!1],["GDW Value wise",71.5,!1],["Mobile",106.4,!1],["ACC ZRD",129.2,!1],["ACC BGN",144,!1],["Peaches",176,!1],["Prunes",135.6,!0,!0],["Avocados",148.5,!1]],showInLegend:!0,point:{events:{}}}]})}),(function(t){}))}},{key:"setUnitConsumptionBarChart",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.consumptiondecimalPlaces;return{chart:{height:325,type:"column",exportChart:{type:"application/pdf"}},credits:{enabled:!1},export:{enabled:!0},exporting:{fallbackToExportServer:!1},time:{moment:x},global:{},title:{text:"Overall Consumption",style:{fontFamily:"Roboto",display:"none"}},subtitle:{text:null},xAxis:{categories:t.labels},yAxis:{min:0,title:{text:this.consumptionUnit,style:{fontFamily:"Roboto"}},stackLabels:{style:{color:"#000",fontWeight:"bold"},enabled:!0,verticalAlign:"center"}},legend:{layout:"horizontal",align:"center",verticalAlign:"top",x:0,y:0,floating:!1,shadow:!1},tooltip:{enabled:!1,formatter:function(){return this.x+": "+this.y.toFixed(n)+" "+e}},plotOptions:{column:{pointPadding:.1,borderWidth:0,pointWidth:30,color:"#663399",stacking:"normal"}},lang:{noData:"No data to display"},noData:{style:{fontWeight:"bold",fontSize:"15px"}},series:[{name:"Unit Consumption",data:t.datas,type:"column"}]}}},{key:"getCountOfContractsAboutToExpire",value:function(){var t=this;if(this.dashboardParameters.ClientId=this.manageParams.strClientId,this.fromQuickPanel)this.dashboardParameters.FromDate=this.date.transform(this.manageParams.fromDate,"yyyy-MM-dd"),this.dashboardParameters.ToDate=this.date.transform(this.manageParams.toDate,"yyyy-MM-dd");else{var e=x();this.dashboardParameters.FromDate=this.date.transform(e,"yyyy-MM-dd"),this.dashboardParameters.ToDate=this.date.transform(e.add("month",1),"yyyy-MM-dd")}this.generalDashBoardService.getCountOfContractsAboutToExpire(this.dashboardParameters).subscribe({next:function(e){t.contractsAboutToExpire=parseInt(e.toString())},error:function(e){t.contractsAboutToExpire=0}})}},{key:"getNumberOfOpenTickets",value:function(){var t=this;this.dashboardParameters.ClientId=this.manageParams.strClientId,this.fromQuickPanel?(this.dashboardParameters.FromDate=this.manageParams.fromDate,this.dashboardParameters.ToDate=this.manageParams.toDate):(this.dashboardParameters.FromDate="",this.dashboardParameters.ToDate=""),this.generalDashBoardService.getNumberOfOpenTickets(this.dashboardParameters).subscribe({next:function(e){t.numberOfOpenTickets=parseInt(e.toString())},error:function(e){t.numberOfOpenTickets=0}})}},{key:"contractReminder",value:function(){this.data.setMessage(!0),this.router.navigate(["/owner-tenant/create-contract"])}},{key:"openTickets",value:function(){this.router.navigate(["/tickets/list"])}}]),e}(),z.\u0275fac=function(t){return new(t||z)(F.Nb(s.a),F.Nb(v.a),F.Nb(i.g),F.Nb(l.a),F.Nb(i.d),F.Nb(y.a),F.Nb(r.a),F.Nb(A.b),F.Nb(r.f),F.Nb(i.f),F.Nb(R.a),F.Nb(S.a),F.Nb(P.a),F.Nb(k.a))},z.\u0275cmp=F.Hb({type:z,selectors:[["fury-generaldashboard"]],features:[F.Bb([s.a,i.x])],decls:32,vars:6,consts:[[1,"container"],[1,"utype",2,"padding","1.25% 1% 1% 1%"],[1,"toolBar"],["fxLayout","row","fxLayout.xs","row","fxLayout.sm","row","fxLayoutGap","6px",1,"content",2,"padding","1% 1% 1% 1%"],["fxFlex","50%"],[1,"mat-elevation-z4"],[1,"buttons"],[3,"id","click",4,"ngFor","ngForOf"],["id","gdacontainer1"],[1,"revbuttons"],["id","gdacontainer2"],["fxFlex","50%",1,"mat-elevation-z4"],["id","gdacontainer3"],["id","gdacontainer4"],[1,"utype",2,"padding","1% 1% 1% 1%"],["color","primary","fxLayout","row"],[1,"toolbar-spacer"],["fxFlex","20%",1,"dropdown"],["fxFlex",""],["name","utilityType","id","utilityTypeId","placeholder","Utility Type",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","row","fxLayout.xs","row","fxLayout.sm","row",1,"content",2,"padding","0% 1% 0% 1%"],["fxFlex","100%"],["id","gdacontainer6"],[3,"id","click"],[3,"value"]],template:function(t,e){1&t&&(F.Tb(0,"div",0),F.Tb(1,"div",1),F.Tb(2,"span",2),F.Rc(3),F.Sb(),F.Sb(),F.Tb(4,"div",3),F.Tb(5,"div",4),F.Tb(6,"mat-card",5),F.Tb(7,"div",6),F.Pc(8,W,2,2,"button",7),F.Sb(),F.Ob(9,"div",8),F.Sb(),F.Sb(),F.Tb(10,"div",4),F.Tb(11,"mat-card",5),F.Tb(12,"div",9),F.Pc(13,j,2,2,"button",7),F.Sb(),F.Ob(14,"div",10),F.Sb(),F.Sb(),F.Sb(),F.Tb(15,"div",3),F.Tb(16,"mat-card",11),F.Ob(17,"div",12),F.Sb(),F.Tb(18,"mat-card",11),F.Ob(19,"div",13),F.Sb(),F.Sb(),F.Tb(20,"div",14),F.Tb(21,"mat-toolbar",15),F.Tb(22,"span"),F.Rc(23),F.Sb(),F.Ob(24,"span",16),F.Tb(25,"div",17),F.Tb(26,"mat-form-field",18),F.Tb(27,"mat-select",19),F.bc("ngModelChange",(function(t){return e.utilityType=t}))("ngModelChange",(function(){return e.onDropdownChange()})),F.Pc(28,V,2,2,"mat-option",20),F.Sb(),F.Sb(),F.Sb(),F.Sb(),F.Sb(),F.Tb(29,"div",21),F.Tb(30,"mat-card",22),F.Ob(31,"div",23),F.Sb(),F.Sb(),F.Sb()),2&t&&(F.Cb(3),F.Sc(e.dashboardTitle),F.Cb(5),F.mc("ngForOf",e.quarters),F.Cb(5),F.mc("ngForOf",e.revenueTypes),F.Cb(10),F.Sc(e.consumptionTitle),F.Cb(4),F.mc("ngModel",e.utilityType),F.Cb(1),F.mc("ngForOf",e.lstutilityType))},directives:[M.d,M.e,M.b,I.a,i.n,E.a,L.d,N.a,B.q,B.t,U.n],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.utype[_ngcontent-%COMP%]{width:100%}.mat-card[_ngcontent-%COMP%]{min-height:25%!important}.toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.dropdown[_ngcontent-%COMP%]{background-color:#fff;color:#000;height:78%}.img-style[_ngcontent-%COMP%]{width:32px}.chkspace[_ngcontent-%COMP%]{padding-right:20px}.pointer[_ngcontent-%COMP%]{cursor:pointer;text-align:right}.contractReminder[_ngcontent-%COMP%]{background:#3f51b5;color:#fff;max-width:100%}.MonthCollection[_ngcontent-%COMP%]{background:#03a9f4;color:#fff;max-width:100%}.OutStanding[_ngcontent-%COMP%]{background:#dc0a59;color:#fff;max-width:100%}.openTickets[_ngcontent-%COMP%]{background:#10c8cd;color:#fff}.fontSize[_ngcontent-%COMP%]{font-size:medium;vertical-align:middle;font-weight:400}.contractscounter[_ngcontent-%COMP%], .ticketscounter[_ngcontent-%COMP%]{font-size:xx-large;vertical-align:middle;margin:0;font-weight:700}.buttons[_ngcontent-%COMP%]{min-width:310px;text-align:center;font-size:0}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;border:none;border-radius:16px;background-color:#f8f8f8 0 0 no-repeat padding-box;font-size:1rem;padding:.5rem;outline:none;transition-duration:.3s;margin:4px auto}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#9e9fa3;outline:none}.buttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#0051b4;color:#fff}.revbuttons[_ngcontent-%COMP%]{min-width:310px;text-align:center;font-size:0}.revbuttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;border:none;border-radius:16px;background-color:#f8f8f8 0 0 no-repeat padding-box;font-size:1rem;padding:.5rem;outline:none;transition-duration:.3s;margin:4px auto}.revbuttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#9e9fa3;outline:none}.revbuttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#0051b4;color:#fff}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.bottomPadding[_ngcontent-%COMP%]{padding-bottom:20px}.alignRight[_ngcontent-%COMP%]{float:right}.toolBar[_ngcontent-%COMP%]{font-size:x-large;font-weight:700;line-height:50px}"]}),z)}],J=((_=function e(){t(this,e)}).\u0275mod=F.Lb({type:_}),_.\u0275inj=F.Kb({factory:function(t){return new(t||_)},imports:[[r.j.forChild(Q)],r.j]}),_),H=o("kAVD"),K=o("a0Xn"),X=o("WCGO"),q=o("KthW"),$=((G=function e(){t(this,e)}).\u0275mod=F.Lb({type:G}),G.\u0275inj=F.Kb({factory:function(t){return new(t||G)},providers:[i.g],imports:[[i.c,J,H.a,K.a,I.g,X.a,q.a,B.w,N.b,U.o,B.l,E.b]]}),G)},iTcJ:function(t,e,n){var a,o,i;i=function(t){function e(t,e,n,a){t.hasOwnProperty(e)||(t[e]=a.apply(null,n))}e(t=t?t._modules:{},"Extensions/DownloadURL.js",[t["Core/Globals.js"]],(function(t){var e=t.win,n=e.navigator,a=e.document,o=e.URL||e.webkitURL||e,i=/Edge\/\d+/.test(n.userAgent),r=t.dataURLtoBlob=function(t){if((t=t.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/))&&3<t.length&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&e.Blob&&o.createObjectURL){var n=e.atob(t[3]),a=new e.ArrayBuffer(n.length);a=new e.Uint8Array(a);for(var i=0;i<a.length;++i)a[i]=n.charCodeAt(i);return t=new e.Blob([a],{type:t[1]}),o.createObjectURL(t)}};return t=t.downloadURL=function(t,o){var s=a.createElement("a");if("string"==typeof t||t instanceof String||!n.msSaveOrOpenBlob){if(t=""+t,(i||2e6<t.length)&&!(t=r(t)||""))throw Error("Failed to convert to blob");if(void 0!==s.download)s.href=t,s.download=o,a.body.appendChild(s),s.click(),a.body.removeChild(s);else try{if(null==e.open(t,"chart"))throw Error("Failed to open window")}catch(l){e.location.href=t}}else n.msSaveOrOpenBlob(t,o)},{dataURLtoBlob:r,downloadURL:t}})),e(t,"Extensions/OfflineExporting.js",[t["Core/Chart/Chart.js"],t["Core/Globals.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"],t["Extensions/DownloadURL.js"]],(function(t,e,n,a,o){function i(t,e){var n=d.getElementsByTagName("head")[0],a=d.createElement("script");a.type="text/javascript",a.src=t,a.onload=e,a.onerror=function(){h("Error loading script "+t)},n.appendChild(a)}function r(t){var e=-1<y.userAgent.indexOf("WebKit")&&0>y.userAgent.indexOf("Chrome");try{if(!e&&0>y.userAgent.toLowerCase().indexOf("firefox"))return b.createObjectURL(new c.Blob([t],{type:"image/svg+xml;charset-utf-16"}))}catch(n){}return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(t)}function s(t,e,n,a,o,i,r,s,l){var u=new c.Image,h=function(){setTimeout((function(){var i=d.createElement("canvas"),s=i.getContext&&i.getContext("2d");try{if(s){i.height=u.height*a,i.width=u.width*a,s.drawImage(u,0,0,i.width,i.height);try{var c=i.toDataURL(e);o(c,e,n,a)}catch(h){m(t,e,n,a)}}else r(t,e,n,a)}finally{l&&l(t,e,n,a)}}),x)},p=function(){s(t,e,n,a),l&&l(t,e,n,a)},m=function(){u=new c.Image,m=i,u.crossOrigin="Anonymous",u.onload=h,u.onerror=p,u.src=t};u.onload=h,u.onerror=p,u.src=t}function l(t,e,n,a){function o(t,e){var n=t.width.baseVal.value+2*e;return n=new c.jsPDF((e=t.height.baseVal.value+2*e)>n?"p":"l","pt",[n,e]),[].forEach.call(t.querySelectorAll('*[visibility="hidden"]'),(function(t){t.parentNode.removeChild(t)})),c.svg2pdf(t,n,{removeInvalid:!0}),n.output("datauristring")}function l(){p.innerHTML=t;var e,i=p.getElementsByTagName("text");[].forEach.call(i,(function(t){["font-family","font-size"].forEach((function(e){for(var n=t;n&&n!==p;){if(n.style[e]){t.style[e]=n.style[e];break}n=n.parentNode}})),t.style["font-family"]=t.style["font-family"]&&t.style["font-family"].split(" ").splice(-1),e=t.getElementsByTagName("title"),[].forEach.call(e,(function(e){t.removeChild(e)}))})),i=o(p.firstChild,0);try{g(i,v),a&&a()}catch(r){n(r)}}var u=!0,h=e.libURL||m().exporting.libURL,p=d.createElement("div"),f=e.type||"image/png",v=(e.filename||"chart")+"."+("image/svg+xml"===f?"svg":f.split("/")[1]),x=e.scale||1;if(h="/"!==h.slice(-1)?h+"/":h,"image/svg+xml"===f)try{if(void 0!==y.msSaveOrOpenBlob){var C=new MSBlobBuilder;C.append(t);var O=C.getBlob("image/svg+xml")}else O=r(t);g(O,v),a&&a()}catch(T){n(T)}else if("application/pdf"===f)c.jsPDF&&c.svg2pdf?l():(u=!0,i(h+"jspdf.js",(function(){i(h+"svg2pdf.js",(function(){l()}))})));else{O=r(t);var w=function(){try{b.revokeObjectURL(O)}catch(T){}};s(O,f,{},x,(function(t){try{g(t,v),a&&a()}catch(e){n(e)}}),(function(){var e=d.createElement("canvas"),o=e.getContext("2d"),r=t.match(/^<svg[^>]*width\s*=\s*"?(\d+)"?[^>]*>/)[1]*x,s=t.match(/^<svg[^>]*height\s*=\s*"?(\d+)"?[^>]*>/)[1]*x,l=function(){o.drawSvg(t,0,0,r,s);try{g(y.msSaveOrOpenBlob?e.msToBlob():e.toDataURL(f),v),a&&a()}catch(i){n(i)}finally{w()}};e.width=r,e.height=s,c.canvg?l():(u=!0,i(h+"rgbcolor.js",(function(){i(h+"canvg.js",(function(){l()}))})))}),n,n,(function(){u&&w()}))}}var c=e.win,d=e.doc,u=a.addEvent,h=a.error,p=a.extend,m=a.getOptions,f=a.merge,g=o.downloadURL,b=c.URL||c.webkitURL||c,y=c.navigator,v=/Edge\/|Trident\/|MSIE /.test(y.userAgent),x=v?150:0;e.CanVGRenderer={},t.prototype.getSVGForLocalExport=function(t,e,n,a){var o,i,r,l,c=this,d=0,h=function(){d===m.length&&a(c.sanitizeSVG(o.innerHTML,i))},p=function(t,e,n){++d,n.imageElement.setAttributeNS("http://www.w3.org/1999/xlink","href",t),h()};c.unbindGetSVG=u(c,"getSVG",(function(t){i=t.chartCopy.options,o=t.chartCopy.container.cloneNode(!0)})),c.getSVGForExport(t,e);var m=o.getElementsByTagName("image");try{if(!m.length)return void a(c.sanitizeSVG(o.innerHTML,i));var f=0;for(r=m.length;f<r;++f){var g=m[f];(l=g.getAttributeNS("http://www.w3.org/1999/xlink","href"))?s(l,"image/png",{imageElement:g},t.scale,p,n,n,n):(++d,g.parentNode.removeChild(g),h())}}catch(b){n(b)}c.unbindGetSVG()},t.prototype.exportChartLocal=function(t,e){var a=this,o=f(a.options.exporting,t),i=function(t){!1===o.fallbackToExportServer?o.error?o.error(o,t):h(28,!0):a.exportChart(o)};t=function(){return[].some.call(a.container.getElementsByTagName("image"),(function(t){return""!==(t=t.getAttribute("href"))&&0!==t.indexOf("data:")}))},v&&a.styledMode&&(n.prototype.inlineWhitelist=[/^blockSize/,/^border/,/^caretColor/,/^color/,/^columnRule/,/^columnRuleColor/,/^cssFloat/,/^cursor/,/^fill$/,/^fillOpacity/,/^font/,/^inlineSize/,/^length/,/^lineHeight/,/^opacity/,/^outline/,/^parentRule/,/^rx$/,/^ry$/,/^stroke/,/^textAlign/,/^textAnchor/,/^textDecoration/,/^transform/,/^vectorEffect/,/^visibility/,/^x$/,/^y$/]),v&&("application/pdf"===o.type||a.container.getElementsByTagName("image").length&&"image/svg+xml"!==o.type)||"application/pdf"===o.type&&t()?i("Image type not supported for this chart/browser."):a.getSVGForLocalExport(o,e,i,(function(t){-1<t.indexOf("<foreignObject")&&"image/svg+xml"!==o.type?i("Image type not supportedfor charts with embedded HTML"):l(t,p({filename:a.getFilename()},o),i)}))},f(!0,m().exporting,{libURL:"https://code.highcharts.com/8.2.2/lib/",menuItemDefinitions:{downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChartLocal()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChartLocal({type:"image/jpeg"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChartLocal({type:"image/svg+xml"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChartLocal({type:"application/pdf"})}}}}),e.downloadSVGLocal=l})),e(t,"masters/modules/offline-exporting.src.js",[],(function(){}))},t.exports?(i.default=i,t.exports=i):(a=[n("6n/F"),n("AxlJ")],void 0===(o=(function(t){return i(t),i.Highcharts=t,i}).apply(e,a))||(t.exports=o))}}])}();