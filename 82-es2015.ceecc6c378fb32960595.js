(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{KNmm:function(t,e,s){"use strict";s.r(e),s.d(e,"CreateClientModule",(function(){return de}));var a=s("ofXK"),i=s("3Pt+"),o=s("q8Jb"),r=s("0jmt"),n=s("KthW"),c=s("tyNb"),l=s("M9IT"),d=s("Dh3D"),u=s("+0xr"),m=s("jtHE"),b=s("pLZG"),h=s("0IaG"),p=s("zyfE"),f=s("sOHO"),g=s("qIvx"),T=s("seMb"),C=s("UcNE"),S=s("jhGZ");class y{constructor(t){this.clientId=t.clientId||0,this.utilityTypeId=t.utilityTypeId||0}}class v{constructor(t){this.id=t.id||0,this.clientNumber=t.clientNumber||"",this.clientName=t.clientName||"",this.titleId=t.titleId||"",this.title=t.title||"",this.firstName=t.firstName||"",this.lastName=t.lastName||"",this.accountNumber=t.accountNumber||"",this.phoneNo=t.phoneNo||"",this.email=t.email||"",this.companyName=t.companyName||"",this.photo=t.photo||"",this.businessStartDate=t.businessStartDate||"",this.businessEndDate=t.businessEndDate||"",this.trnNo=t.trnNo||"",this.statusId=t.statusId||"",this.status=t.status||"",this.website=t.website||"",this.workingHours=t.workingHours||"",this.addresses=(t.addresses||[]).map(t=>new p.a(t)),this.bankDetails=(t.bankDetails||[]).map(t=>new g.a(t)),this.documents=(t.documents||[]).map(t=>new S.a(t)),this.utilities=(t.utilities||[]).map(t=>new y(t)),this.imageProperties=t.imageProperties||[],this.termsConditions=t.TermsConditions||[]}get fullName(){let t="";return this.title&&""!==this.title&&(t+=this.title+" "),this.firstName&&""!==this.firstName&&(t+=this.firstName+" "),this.lastName&&""!==this.lastName&&(t+=this.lastName),t}}var N=s("/D9e"),I=s("tB66"),D=s("Iab2"),k=s("nST0"),w=s("zSPf"),O=s("sXtk"),P=s("fXoL"),A=s("tk/3");let x=(()=>{class t{constructor(t,e){this.http=t,this.envService=e,this.baseUrl="",this.baseUrl=e.backend}getClients(){return this.http.get(this.baseUrl+"/clients")}createClient(t){return this.http.post(this.baseUrl+"/clients",t)}updateClientbyId(t,e){return this.http.put(this.baseUrl+"/clients/"+t,e)}deleteClientbyId(t){return this.http.delete(this.baseUrl+"/clients/"+t)}getClientNames(){return this.http.get(this.baseUrl+"/clients/clientNames")}}return t.\u0275fac=function(e){return new(e||t)(P.Xb(A.c),P.Xb(O.a))},t.\u0275prov=P.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var R=s("Vvus"),M=s("xXXn"),U=s("zP6O"),E=s("dNgK"),V=s("/t3+"),z=s("bTqV"),L=s("NFeN"),F=s("MutI"),$=s("4FRi"),j=s("wZkO"),B=s("XiUz"),q=s("kmnG"),_=s("d3UM"),H=s("qFsG"),G=s("/1cH"),Q=s("YaQ2"),X=s("FKr1"),K=s("iadO"),J=s("znSr"),Y=s("bSwM");const Z=["fileInput"],W=["fileInputDocument"],tt=["allSelected"];function et(t,e){if(1&t&&(P.Tb(0,"mat-option",98),P.Rc(1),P.Sb()),2&t){const t=e.$implicit;P.mc("value",t.description),P.Cb(1),P.Tc(" ",t.description,"")}}function st(t,e){if(1&t&&(P.Tb(0,"mat-hint",99),P.Rc(1),P.Sb()),2&t){const t=P.fc();P.Cb(1),P.Sc(t.errorMessage)}}function at(t,e){if(1&t&&(P.Tb(0,"mat-option",98),P.Rc(1),P.Sb()),2&t){const t=e.$implicit;P.mc("value",t.description),P.Cb(1),P.Tc("",t.description," ")}}function it(t,e){if(1&t){const t=P.Ub();P.Tb(0,"mat-option",100),P.bc("click",(function(){P.Ec(t);const e=P.fc(),s=P.Ac(79);return e.togglePerOne(s.viewValue)})),P.Rc(1),P.Sb()}if(2&t){const t=e.$implicit;P.mc("disabled","1"==t.defaultValue)("optionSelected",t.selected)("value",t.id),P.Cb(1),P.Tc(" ",t.description," ")}}function ot(t,e){1&t&&(P.Tb(0,"small",31),P.Rc(1,"Business End date should be greater than Business Start date."),P.Sb())}function rt(t,e){if(1&t&&(P.Tb(0,"mat-option",98),P.Rc(1),P.Sb()),2&t){const t=e.$implicit;P.mc("value",t.description),P.Cb(1),P.Tc("",t.description," ")}}function nt(t,e){if(1&t&&(P.Tb(0,"mat-option",98),P.Rc(1),P.Sb()),2&t){const t=e.$implicit;P.mc("value",t.description),P.Cb(1),P.Tc(" ",t.description," ")}}function ct(t,e){if(1&t&&(P.Tb(0,"mat-option",98),P.Rc(1),P.Sb()),2&t){const t=e.$implicit;P.mc("value",t.description),P.Cb(1),P.Tc(" ",t.description,"")}}function lt(t,e){if(1&t&&(P.Tb(0,"mat-option",98),P.Rc(1),P.Sb()),2&t){const t=e.$implicit;P.mc("value",t.description),P.Cb(1),P.Tc(" ",t.description,"")}}function dt(t,e){if(1&t&&(P.Tb(0,"mat-option",98),P.Rc(1),P.Sb()),2&t){const t=e.$implicit;P.mc("value",t.description),P.Cb(1),P.Tc(" ",t.description,"")}}function ut(t,e){if(1&t&&(P.Tb(0,"mat-option",98),P.Rc(1),P.Sb()),2&t){const t=e.$implicit;P.mc("value",t.description),P.Cb(1),P.Tc(" ",t.description,"")}}function mt(t,e){if(1&t&&(P.Tb(0,"mat-hint",101),P.Rc(1),P.Sb()),2&t){const t=P.fc();P.Cb(1),P.Sc(t.validationMessage)}}function bt(t,e){if(1&t&&(P.Tb(0,"mat-hint",99),P.Rc(1),P.Sb()),2&t){const t=P.fc();P.Cb(1),P.Sc(t.errorMessage)}}function ht(t,e){if(1&t){const t=P.Ub();P.Tb(0,"th",102),P.Tb(1,"mat-checkbox",103),P.bc("click",(function(e){return P.Ec(t),e.stopPropagation()})),P.Sb(),P.Sb()}}function pt(t,e){if(1&t){const t=P.Ub();P.Tb(0,"td",104),P.Tb(1,"mat-checkbox",103),P.bc("click",(function(e){return P.Ec(t),e.stopPropagation()})),P.Sb(),P.Sb()}}function ft(t,e){1&t&&P.Ob(0,"th",105)}function gt(t,e){if(1&t&&(P.Tb(0,"td",106),P.Ob(1,"img",107),P.Sb()),2&t){const t=e.$implicit;P.Cb(1),P.oc("src","http://i.pravatar.cc/30?u=",t.name,"",P.Gc)}}function Tt(t,e){1&t&&(P.Tb(0,"td",104),P.Tb(1,"mat-icon"),P.Rc(2,"more_horiz"),P.Sb(),P.Sb())}function Ct(t,e){if(1&t&&(P.Tb(0,"th",111),P.Rc(1),P.Sb()),2&t){const t=P.fc(2).$implicit;P.Cb(1),P.Tc(" ",t.name,"")}}function St(t,e){if(1&t&&(P.Tb(0,"td",112),P.Rc(1),P.Sb()),2&t){const t=e.$implicit,s=P.fc(2).$implicit;P.Cb(1),P.Tc(" ",t[s.property]," ")}}function yt(t,e){if(1&t&&(P.Rb(0,109),P.Pc(1,Ct,2,1,"th",110),P.Pc(2,St,2,1,"td",90),P.Qb()),2&t){const t=P.fc().$implicit;P.mc("matColumnDef",t.property)}}function vt(t,e){if(1&t&&(P.Rb(0),P.Pc(1,yt,3,1,"ng-container",108),P.Qb()),2&t){const t=e.$implicit;P.Cb(1),P.mc("ngIf",t.isModelProperty)}}function Nt(t,e){1&t&&(P.Tb(0,"th",113),P.Rc(1,"File Name"),P.Sb())}function It(t,e){if(1&t){const t=P.Ub();P.Tb(0,"td",112),P.Tb(1,"span",114),P.bc("click",(function(){P.Ec(t);const s=e.$implicit;return P.fc().downloadDocument(s)})),P.Rc(2),P.Sb(),P.Sb()}if(2&t){const t=e.$implicit;P.Cb(2),P.Sc(t.document)}}function Dt(t,e){1&t&&(P.Tb(0,"th",102),P.Rc(1,"Action"),P.Sb())}function kt(t,e){if(1&t){const t=P.Ub();P.Tb(0,"td",115),P.bc("click",(function(){P.Ec(t);const s=e.$implicit;return P.fc().deleteDocument(s)})),P.Tb(1,"mat-icon",116),P.Rc(2,"delete"),P.Sb(),P.Sb()}}function wt(t,e){1&t&&P.Ob(0,"tr",117)}function Ot(t,e){1&t&&P.Ob(0,"tr",118)}function Pt(t,e){if(1&t&&(P.Tb(0,"button",119),P.Rc(1,"CREATE CLIENT"),P.Sb()),2&t){const t=P.fc();P.mc("disabled",t.form.invalid||!t.isValidDate||t.form.controls.address.invalid||t.form.controls.bank.invalid||""!=t.duplicateTRN)}}function At(t,e){if(1&t&&(P.Tb(0,"button",119),P.Rc(1,"UPDATE CLIENT"),P.Sb()),2&t){const t=P.fc();P.mc("disabled",t.form.invalid||!t.isValidDate||t.form.controls.address.invalid||t.form.controls.bank.invalid||""!=t.duplicateTRN)}}let xt=(()=>{class t{constructor(t,e,s,a,i,o,r,n,c,l,d,u,b,h){this.defaults=t,this.snackbar=e,this.tenantService=s,this.dialogRef=a,this.fb=i,this.metadataService=o,this.ownerService=r,this.dialog=n,this.fv=c,this.constantsService=l,this.clientService=d,this.fileService=u,this.masterService=b,this.envService=h,this.baseUrl="",this.mode="create",this.fileSize=0,this.isValidDate=!0,this.duplicateTRN="",this.addressTypeId=30,this.selectedUtilities=[],this.selectedClientUtilities=[],this.isCancel=!1,this.selectedClientName="",this.documents=[],this.isDuplicate=!1,this.validationMessage="",this.uploadSuccess=!0,this.isUploadSuccess=!0,this.errorMessage="",this.isDocumentUploadSuccess=!0,this.subject$=new m.a(1),this.data$=this.subject$.asObservable(),this.downloadVar="",this.columns=[{name:"Document Type",property:"documentType",visible:!0,isModelProperty:!0},{name:"Path",property:"documentPath",visible:!1},{name:"File Name",property:"document",visible:!0},{name:"Modify",property:"actions",visible:!0}],this.pageSize=10,this.fileSize=Math.floor(h.MaxBytes/1e6),this.baseUrl=h.backendForFiles,a.disableClose=!0}set content(t){this.sort=t,this.sort&&(this.dataSource.sort=this.sort)}get visibleColumns(){return this.columns.filter(t=>t.visible).map(t=>t.property)}ngOnInit(){if(this.defaults){this.mode="update";for(let t=0;t<this.defaults.utilities.length;t++)this.selectedUtilities[t]=this.defaults.utilities[t].utilityTypeId;this.documents=this.defaults.documents}else this.defaults=new v({});this.address=this.defaults.addresses.filter(t=>t.addressTypeId===this.addressTypeId)[0]||new p.a({}),this.bankDetails=this.defaults.bankDetails[0]||new g.a({}),this.masterService.getSystemMasterdata(15,0).subscribe(t=>{this.metadataCountries=t,this.filteredCountries=t}),this.getDocumentTypes(),this.masterService.getSystemMasterdata(26,0).subscribe(t=>{this.metadataTitles=t,this.filteredTitles=t}),this.masterService.getSystemMasterdata(22,0).subscribe(t=>{t&&(this.metadataAddressTypes=t,this.metadataAddressTypes=this.metadataAddressTypes.filter(t=>"PermanentAddress"==t.description),this.filteredAddressTypes=this.metadataAddressTypes,this.addressType=this.metadataAddressTypes[0].description,this.addressTypeId=this.metadataAddressTypes[0].id,this.changeAddressType(null,"PermanentAddress"))}),this.masterService.getSystemMasterdata(42,0).subscribe(t=>{this.metadataStatus=t,this.filteredStatus=t}),this.clientService.getUtilityTypes(this.defaults.id).subscribe(t=>{this.metadataUtilityType=t}),this.tenantService.getClientNames().subscribe(t=>{this.lstClientNames=t}),this.metadataAddressTypes&&this.metadataAddressTypes.forEach(t=>{t.id===this.addressTypeId&&(this.addressType=t.description)}),this.image=this.baseUrl+"/uploads/"+this.defaults.photo,""==this.defaults.photo&&(this.image="assets/img/avatars/two.png"),this.response=this.defaults.photo,this.form=this.fb.group({id:[this.defaults.id||0],title:[this.defaults.title||"",i.y.required],titleId:[this.defaults.titleId||"",i.y.required],firstName:[this.defaults.firstName||"",this.fv.nameValidators],lastName:[this.defaults.lastName||"",this.fv.nameValidators],accountNumber:[this.defaults.accountNumber||"",this.fv.requiredAlphanumericNoSpaces],phoneNo:[this.defaults.phoneNo||"",this.fv.mobileNumberValidators],email:[this.defaults.email||"",this.fv.emailValidators],clientName:[this.defaults.clientName||"",this.fv.nameValidators],photo:[this.defaults.photo||""],businessStartDate:[this.defaults.businessStartDate&&new Date(this.defaults.businessStartDate).toISOString().substr(0,10)||"",i.y.required],businessEndDate:[this.defaults.businessEndDate&&"0001-01-01T00:00:00"!=this.defaults.businessEndDate.toString()?new Date(this.defaults.businessEndDate).toISOString().substr(0,10):"",i.y.required],trnNo:[this.defaults.trnNo||"",i.y.required],statusId:[this.defaults.statusId||0,i.y.required],status:[this.defaults.status||"",i.y.required],utilities:[this.defaults.utilities],utilityList:[this.defaults.utilities,i.y.required],addressType:this.addressTypeId,address:this.fb.group({city:[this.address.city||""],zipPostalCode:[this.address.zipPostalCode||""],address1:[this.address.address1||""],address2:[this.address.address2||""],country:[this.address.country||""],countryId:[this.address.countryId||0],addressType:[this.address.addressType||""],addressTypeId:[this.address.addressTypeId||""],areaId:[this.address.areaId||0],area:[this.address.area||""],locationId:[this.address.locationId||0],location:[this.address.location||""],email:[this.address.email],phoneNumber:[this.address.phoneNumber]}),bank:this.fb.group({accountName:[this.bankDetails.accountName||""],accountNo:[this.bankDetails.accountNo||""],bankName:[this.bankDetails.bankName||""],bankAddress:[this.bankDetails.bankAddress||""],swiftCode:[this.bankDetails.swiftCode||""],ibanNumber:[this.bankDetails.ibanNumber||""]}),documentType:"",documentTypeId:0}),this.address&&(this.selectCountry(null,this.address.countryId),this.selectLocation(null,this.address.locationId),this.locationName=this.address.location,this.areaName=this.address.area,this.form.controls.address.get("countryId").setValue(this.address.countryId),this.form.controls.address.get("locationId").setValue(this.address.locationId),this.form.controls.address.get("areaId").setValue(this.address.areaId)),this.enableAddressValidators(),this.selectedClientName=this.defaults.clientName,this.documents=this.defaults.documents||[],this.documents.forEach(t=>{let e=t.documentPath.indexOf(",");e>0&&(t.document=t.documentPath.substr(e+1,t.documentPath.length),t.documentPath=t.documentPath.substr(0,e))}),this.subject$.next(this.documents),this.dataSource=new u.k,this.data$.pipe(Object(b.a)(t=>!!t)).subscribe(t=>{this.documents=t,this.dataSource.data=t}),this.form.controls.title.valueChanges.subscribe(t=>{this.filteredTitles=this.filterTitle(t)}),this.form.controls.status.valueChanges.subscribe(t=>{this.filteredStatus=this.filterStatus(t)}),this.form.controls.address.get("addressType").valueChanges.subscribe(t=>{this.filteredAddressTypes=this.filterAddressType(t)}),this.form.controls.address.get("country").valueChanges.subscribe(t=>{this.filteredCountries=this.filterCountries(t)}),this.form.controls.documentType.valueChanges.subscribe(t=>{this.filteredDocumentTypes=this.filterDocumentTypes(t)});const t=[],e=this.form.controls;for(const s in e)e[s].invalid&&t.push(s);this.form.invalid&&this.form.setErrors({required:!0})}getDocumentTypes(){this.masterService.getUserMasterdata(20,0).subscribe(t=>{this.metadataDocumentTypes=t,this.filteredDocumentTypes=t})}getFilteredCountry(){let t=this.form.controls.address.get("country").value;""==t&&(this.countryId=0,this.locationId=0,this.areaId=0,this.form.controls.address.get("locationId").setValue(0),this.form.controls.address.get("location").setValue(""),this.form.controls.address.get("areaId").setValue(0),this.form.controls.address.get("area").setValue(""),this.selectCountry(null,this.countryId)),this.filteredCountries=this.filterCountries(t)}getFilteredAddress(){let t=this.form.controls.address.get("addressType").value;this.filteredAddressTypes=this.filterAddressType(t)}filterTitle(t){return this.metadataTitles.filter(e=>0===e.description.toLowerCase().indexOf(t.toLowerCase()))}filterStatus(t){return this.metadataStatus.filter(e=>0===e.description.toLowerCase().indexOf(t.toLowerCase()))}filterAddressType(t){if(this.metadataAddressTypes)return this.metadataAddressTypes.filter(e=>0===e.description.toLowerCase().indexOf(t.toLowerCase()))}filterCountries(t){return null!=t||null!=t||""!=t?this.metadataCountries.filter(e=>0===e.description.toLowerCase().indexOf(t.toLowerCase())):this.metadataCountries}filterDocumentTypes(t){return this.metadataDocumentTypes.filter(e=>0===e.description.toLowerCase().indexOf(t.toLowerCase()))}ngAfterViewInit(){null!=this.paginator&&null!=this.dataSource&&(this.dataSource.paginator=this.paginator),null!=this.sort&&null!=this.dataSource&&(this.dataSource.sort=this.sort)}save(){this.updateAddress(),this.updateBankDetails(),this.documents.forEach(t=>{t.documentPath=t.documentPath+","+t.document}),this.defaults.documents=this.documents,"create"===this.mode?this.createClient():"update"===this.mode&&this.updateClient()}createClient(){Object.assign(this.defaults,this.form.value);for(let t=0;t<this.selectedUtilities.length;t++)0!=this.selectedUtilities[t]&&this.selectedClientUtilities.push({clientId:this.defaults.id,utilityTypeId:this.selectedUtilities[t]});this.defaults.trnNo=this.form.controls.trnNo.value.toString(),this.defaults.utilities=this.selectedClientUtilities,this.defaults.photo=this.response,this.defaults.documents=this.documents,this.isCancel?(this.isCancel=!1,this.dialog.open(M.a,{data:{label:"Are you sure you want to Cancel?",selected:!1}}).afterClosed().subscribe(t=>{t&&this.dialogRef.close()})):this.form.valid&&this.dialogRef.close(new v(this.defaults))}updateClient(){Object.assign(this.defaults,this.form.value);for(let t=0;t<this.selectedUtilities.length;t++)0!=this.selectedUtilities[t]&&this.selectedClientUtilities.push({clientId:this.defaults.id,utilityTypeId:this.selectedUtilities[t]});this.defaults.trnNo=this.form.controls.trnNo.value.toString(),this.defaults.utilities=this.selectedClientUtilities,void 0!==this.response&&(this.defaults.photo=this.response),this.defaults.documents=this.documents,this.isCancel?(this.isCancel=!1,this.dialog.open(M.a,{data:{label:"Are you sure you want to Cancel?",selected:!1}}).afterClosed().subscribe(t=>{t&&this.dialogRef.close()})):this.dialogRef.close(this.defaults)}isCreateMode(){return"create"===this.mode}isUpdateMode(){return"update"===this.mode}changeAddressType(t,e=""){this.addressType=null==t&&""!=e?e:t.option.value,this.metadataAddressTypes.forEach(t=>{this.addressType===t.description&&(this.addressTypeId=t.id)}),this.address=this.defaults.addresses.filter(t=>t.addressTypeId===this.addressTypeId)[0]||new p.a({}),this.address&&(this.form.controls.address=this.fb.group({city:[this.address.city||""],zipPostalCode:[this.address.zipPostalCode||""],address1:[this.address.address1||""],address2:[this.address.address2||""],country:[this.address.country||""],countryId:[this.address.countryId||0],addressType:[this.address.addressType||this.addressType],addressTypeId:[this.address.addressTypeId||this.addressTypeId],areaId:[this.address.areaId||0],area:[this.address.area||""],locationId:[this.address.locationId||0],location:[this.address.location||""],email:[this.address.email],phoneNumber:[this.address.phoneNumber]}),this.selectCountry(null,this.address.countryId),this.selectLocation(null,this.address.locationId)),this.enableAddressValidators()}updateAddress(){if(this.form.controls.address.valid){let t=!1;if(this.defaults.addresses.forEach(e=>{e.addressTypeId!==this.addressTypeId&&0!=this.addressTypeId||(t=!0,Object.assign(e,this.form.controls.address.value),e.addressType=this.addressType)}),!t){let t={addressTypeId:this.addressTypeId};Object.assign(t,this.form.controls.address.value),Object.assign(t,{addressType:this.addressType}),this.defaults.addresses.push(new p.a(t))}}}updateBankDetails(){this.form.controls.bank.valid&&(this.defaults.bankDetails[0]?Object.assign(this.defaults.bankDetails[0],this.form.controls.bank.value):this.defaults.bankDetails.push(new g.a(this.form.controls.bank.value)))}uploadPhoto(t){this.image="assets/img/avatars/two.png",this.errorMessage="",this.fileService.upload(t.target.files[0],"image").subscribe({next:t=>{this.response=t,this.image=this.baseUrl+"/uploads/"+t,this.isUploadSuccess=!0},error:t=>{this.isUploadSuccess=!1,this.errorMessage=null==t.error.message?t.error.Message:t.error.message,"Request body too large."==this.errorMessage&&(this.errorMessage="Max. allowed File size is "+this.fileSize+"MB. Please upload file with smaller size.")}})}notificationMessage(t,e){this.snackbar.open(t,null,{duration:5e3,verticalPosition:"top",horizontalPosition:"end",panelClass:[e]})}selectDocument(t){this.uploadSuccess=!0,this.fileService.upload(t.target.files[0]).subscribe({next:e=>{this.documentResponse=e,this.selectedDocument=t.target.files[0],this.isDocumentUploadSuccess=!0},error:t=>{this.isDocumentUploadSuccess=!1,this.uploadSuccess=!1,this.errorMessage=null==t.error.message?t.error.Message:t.error.message,"Request body too large."==this.errorMessage&&(this.errorMessage="Max. allowed File size is "+this.fileSize+"MB. Please upload file with smaller size.")}})}uploadDocument(){this.form.controls.documentType.value&&""!==this.form.controls.documentType.value&&this.selectedDocument&&!this.isDuplicate&&this.uploadSuccess&&(this.documents.push({documentTypeId:this.form.controls.documentTypeId.value,documentType:this.form.controls.documentType.value,documentPath:this.documentResponse,document:this.selectedDocument.name}),this.subject$.next(this.documents),this.form.controls.documentType.setValue(""),this.form.controls.documentTypeId.setValue(0),this.fileInputDocument.nativeElement.value="",this.selectedDocument=null)}downloadDocument(t){let e="",s=t.documentPath.indexOf(",");e=s>0?t.documentPath.substr(0,s):t.documentPath,this.downloadVar=this.baseUrl+"/uploads/"+e,D.saveAs(this.downloadVar,e)}deleteDocument(t){this.dialog.open(I.a).afterClosed().subscribe(e=>{if(e){let e=this.documents.findIndex(e=>e.documentType===t.documentType);e>=0&&(this.documents.splice(e,1),this.subject$.next(this.documents))}})}enableAddressValidators(){let t;const e=this.form.controls.address;this.metadataCountries&&this.metadataCountries.forEach(s=>{s.description==e.value.country&&(t=s.id)}),""!=e.value.address1||""!=e.value.address2||""!=e.value.city||""!=e.value.zipPostalCode||""!=e.value.country||""!=e.value.location||""!=e.value.area||""!=e.value.email||""!=e.value.phoneNumber?(this.form.controls.address=this.fb.group({city:[e.value.city||"",this.fv.addressValidators],zipPostalCode:[e.value.zipPostalCode||"",this.fv.postalCodeValidators],address1:[e.value.address1||"",this.fv.addressValidators],address2:[e.value.address2||"",this.fv.optionsAddressValidators],country:[e.value.country||"",i.y.required],countryId:[e.value.countryId||0],addressType:[e.value.addressType||"",i.y.required],addressTypeId:[e.value.addressTypeId||0,i.y.required],areaId:[e.value.areaId||0],area:[e.value.area||"",i.y.required],locationId:[e.value.locationId||0],location:[e.value.location||"",i.y.required],phoneNumber:[e.value.phoneNumber||"",this.fv.mobileNumberValidators],email:[e.value.email||"",this.fv.emailValidators]}),""!=this.form.controls.address.get("city").value&&this.form.controls.address.get("city").invalid&&(this.form.controls.address.get("city").setErrors({incorrect:!0}),this.form.controls.address.get("city").markAsTouched()),""!=this.form.controls.address.get("zipPostalCode").value&&this.form.controls.address.get("zipPostalCode").invalid&&(this.form.controls.address.get("zipPostalCode").setErrors({incorrect:!0}),this.form.controls.address.get("zipPostalCode").markAsTouched()),""!=this.form.controls.address.get("address1").value&&this.form.controls.address.get("address1").invalid&&(this.form.controls.address.get("address1").setErrors({incorrect:!0}),this.form.controls.address.get("address1").markAsTouched()),""!=this.form.controls.address.get("address2").value&&this.form.controls.address.get("address2").invalid&&(this.form.controls.address.get("address2").setErrors({incorrect:!0}),this.form.controls.address.get("address2").markAsTouched()),""!=this.form.controls.address.get("email").value&&this.form.controls.address.get("email").invalid&&(this.form.controls.address.get("email").setErrors({incorrect:!0}),this.form.controls.address.get("email").markAsTouched()),""!=this.form.controls.address.get("phoneNumber").value&&this.form.controls.address.get("phoneNumber").invalid&&(this.form.controls.address.get("phoneNumber").setErrors({incorrect:!0}),this.form.controls.address.get("phoneNumber").markAsTouched())):this.form.controls.address=this.fb.group({city:[e.value.city||""],zipPostalCode:[e.value.zipPostalCode||""],address1:[e.value.address1||""],address2:[e.value.address2||""],country:[e.value.country||""],countryId:[e.value.countryId||0],addressType:[e.value.addressType||""],addressTypeId:[e.value.addressTypeId||0],areaId:[e.value.areaId||0],area:[e.value.area||""],locationId:[e.value.locationId||0],location:[e.value.location||""],email:[e.value.email||""],phoneNumber:[e.value.phoneNumber||""]})}enabledBankValidators(){const t=this.form.controls.bank;this.form.controls.bank=this.fb.group(""!==t.value.accountName||""!==t.value.accountNo||""!==t.value.bankName||""!==t.value.bankAddress||""!==t.value.swiftCode||""!==t.value.ibanNumber?{accountName:[t.value.accountName||"",this.fv.nameValidators],accountNo:[t.value.accountNo||"",this.fv.requiredAlphanumericNoSpaces],bankName:[t.value.bankName||"",this.fv.nameValidators],bankAddress:[t.value.bankAddress||"",this.fv.optionsAddressValidators],swiftCode:[t.value.swiftCode||"",this.fv.requiredAlphanumericNoSpaces],ibanNumber:[t.value.ibanNumber||"",this.fv.requiredAlphanumericNoSpaces]}:{accountName:[t.value.accountName||""],accountNo:[t.value.accountNo||""],bankName:[t.value.bankName||""],bankAddress:[t.value.bankAddress||""],swiftCode:[t.value.swiftCode||""],ibanNumber:[t.value.ibanNumber||""]})}selectTitle(t){this.metadataTitles.forEach(e=>{t.option.value==e.description&&this.form.controls.titleId.setValue(e.id)})}selectDocumentType(t){this.fileInputDocument.nativeElement.value="",this.checkForDuplication(t),this.isDuplicate||this.metadataDocumentTypes.forEach(e=>{t.option.value==e.description&&this.form.controls.documentTypeId.setValue(e.id)})}checkForDuplication(t){return this.isDuplicate=!1,this.documents.forEach(e=>{t.option.value==e.documentType&&(this.isDuplicate=!0,this.validationMessage=t.option.value+" already uploaded")}),this.isDuplicate}selectStatus(t){this.metadataStatus.forEach(e=>{t.option.value==e.description&&this.form.controls.statusId.setValue(e.id)})}toggleAllSelection(){this.form.controls.utilityList.patchValue(this.allSelected.selected?[...this.metadataUtilityType.map(t=>t.id),0]:[])}togglePerOne(t){if(this.allSelected.selected)return this.allSelected.deselect(),!1;this.form.controls.utilityList.value.length==this.metadataUtilityType.length&&this.allSelected.select()}selectCountry(t,e=0){this.location=[],this.area=[],this.locationId=0,this.areaId=0,e?this.masterService.getUserMasterdata(6,e).subscribe(t=>{this.location=t}):this.metadataCountries&&this.metadataCountries.forEach(e=>{t&&t.option.value==e.description&&(this.form.controls.address.get("countryId").setValue(e.id),this.countryId=e.id,this.masterService.getUserMasterdata(6,e.id).subscribe(t=>{this.location=t}))}),this.enableAddressValidators()}selectLocation(t,e=0){this.area=[],this.areaId=0,e?this.masterService.getUserMasterdata(7,e).subscribe(t=>{this.area=t}):null==this.location&&null==this.location||this.location.forEach(e=>{t&&t.value==e.description&&(this.form.controls.address.get("locationId").setValue(e.id),this.locationId=e.id,this.masterService.getUserMasterdata(7,e.id).subscribe(t=>{this.area=t}))})}selectArea(t){this.area.forEach(e=>{t.value==e.description&&(this.areaId=e.id,this.form.controls.address.get("areaId").setValue(e.id))})}getAddressType(t){""==t&&(this.addressType="",this.addressTypeId=0),this.filteredAddressTypes=this.filterAddressType(t)}addAddress(){const t={};if(Object.assign(t,this.form.controls.address.value),""!=t.city&&""!=t.zipPostalCode&&""!=t.address1&&""!=t.address2&&""!=t.country&&""!=t.addressType&&""!=t.phoneNumber&&""!=t.email){if(this.defaults.addresses&&this.defaults.addresses.length){const e=this.defaults.addresses.findIndex(e=>e.addressTypeId==t.addressTypeId);e>-1&&this.defaults.addresses.splice(e,1)}this.defaults.addresses.push(t)}}validatePattern(t){var e;return 32==(e=t.charCode)?32!=e:e>64&&e<91||e>96&&e<123||8==e||e>=48&&e<=57}checkTRNDuplication(){this.duplicateTRN="";let t=this.form.controls.trnNo.value;""==t&&null==t||this.ownerService.checkTRNDuplication(2,t,this.defaults.id).subscribe(t=>{t&&t>0&&(this.duplicateTRN="TRN already exists.")})}close(){this.dialogRef.close()}closeDialog(){this.isCancel=!0}setBusinessEndDate(){let t=this.form.controls.businessStartDate.value;if(t&&""!=t){var e=new Date(t),s=e.getFullYear(),a=e.getMonth(),i=e.getDate(),o=new Date(s+10,a,i);this.form.controls.businessEndDate.setValue(o)}}validateDates(){this.isValidDate=!0;let t=this.form.controls.businessStartDate.value,e=this.form.controls.businessEndDate.value;var s=new Date(t).getFullYear(),a=new Date(e).getFullYear();1970!=s&&1970!=a&&(s<a?this.isValidDate=!0:(s>a||null!=t&&null!=e&&e<t)&&(this.isValidDate=!1))}createLocation(){this.dialog.open(U.a,{data:[this.countryId,6]}).afterClosed().subscribe(t=>{t&&"Success"==t&&this.selectCountry(null,this.countryId)})}createArea(){this.dialog.open(U.a,{data:[this.locationId,7]}).afterClosed().subscribe(t=>{t&&"Success"==t&&this.selectLocation(null,this.locationId)})}createDocumentType(){this.dialog.open(U.a,{data:[0,20]}).afterClosed().subscribe(t=>{t&&"Success"==t&&this.getDocumentTypes()})}}return t.\u0275fac=function(e){return new(e||t)(P.Nb(h.a),P.Nb(E.b),P.Nb(x),P.Nb(h.h),P.Nb(i.f),P.Nb(f.a),P.Nb(R.a),P.Nb(h.b),P.Nb(T.a),P.Nb(C.a),P.Nb(k.a),P.Nb(N.a),P.Nb(w.a),P.Nb(O.a))},t.\u0275cmp=P.Hb({type:t,selectors:[["client-create-update"]],viewQuery:function(t,e){var s;1&t&&(P.Vc(Z,!0),P.Vc(W,!0),P.Vc(tt,!0),P.Jc(l.a,!0),P.Vc(d.a,!0)),2&t&&(P.zc(s=P.cc())&&(e.fileInput=s.first),P.zc(s=P.cc())&&(e.fileInputDocument=s.first),P.zc(s=P.cc())&&(e.allSelected=s.first),P.zc(s=P.cc())&&(e.paginator=s.first),P.zc(s=P.cc())&&(e.content=s.first))},inputs:{columns:"columns"},decls:274,vars:66,consts:[["mat-dialog-title",""],["role","toolbar",1,"task-header"],[1,"fx-spacer"],["mat-icon-button","",3,"click"],["title","Close","mat-list-icon",""],[3,"formGroup","ngSubmit"],["label","General"],[1,"padding-top"],[1,"person"],["fxLayout","column","fxLayout.gt-sm","row","fxLayoutGap.gt-sm","24px"],["fxFlex","",1,"titleSelector"],["formControlName","clientName",3,"ngModel","disabled","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"profile"],["fxLayout","column"],["fxLayout","column","fxLayout.gt-sm","row"],[1,"profileImage",3,"src"],["type","file","accept","image/*",1,"profileButton",3,"change"],["class","errorMessage",4,"ngIf"],["fxLayout","column","fxLayout.gt-sm","row","fxLayoutGap.gt-sm","48px"],["matInput","","formControlName","title",3,"matAutocomplete"],[3,"optionSelected"],["title","matAutocomplete"],[3,"ctrl"],["fxFlex",""],["type","text","formControlName","firstName","matInput",""],["type","text","formControlName","lastName","matInput",""],["type","text","formControlName","email","matInput",""],["type","text","formControlName","phoneNo","matInput",""],["type","text","formControlName","accountNumber","matInput",""],["type","number","formControlName","trnNo","matInput","","maxlength","15","oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);if(this.value <= 0) this.value = ''",3,"change","keyup"],[1,"duplicate"],["multiple","","formControlName","utilityList",3,"ngModel","ngModelChange"],[3,"value","click"],["allSelected",""],[3,"disabled","optionSelected","value","click",4,"ngFor","ngForOf"],["formControlName","businessStartDate","matInput","",3,"matDatepicker","click","focus","dateChange"],["matSuffix","",3,"for"],["formDatepickerRef1",""],["formControlName","businessEndDate","matInput","",3,"matDatepicker","click","focus","ngModelChange"],["formDatepickerRef2",""],["class","duplicate",4,"ngIf"],["matInput","","formControlName","status",3,"matAutocomplete"],["statusId","matAutocomplete"],["label","Address Details"],[3,"formGroup","keyup"],["matInput","","formControlName","addressType",3,"matAutocomplete","ngModel","ngModelChange","input"],["addressTypes","matAutocomplete"],["type","text","formControlName","city","matInput",""],["type","text","formControlName","address1","matInput",""],["type","text","formControlName","zipPostalCode","matInput",""],["type","text","formControlName","address2","matInput",""],["matInput","","formControlName","country",3,"matAutocomplete","keyup","selectionChange"],["country","matAutocomplete"],[2,"width","87%"],["formControlName","location",3,"ngModel","ngModelChange","selectionChange"],["type","button","mat-mini-fab","","color","primary",1,"create",2,"height","30px","width","30px","margin-right","0px","margin-left","5px","padding-top","-5px",3,"click"],[2,"height","10px","width","10px","padding-top","-5px","margin-top","-25px","margin-left","-13px"],["formControlName","area",3,"ngModel","ngModelChange","selectionChange"],["type","text","formControlName","phoneNumber","matInput",""],["label","Bank Details"],[3,"formGroup"],["type","text","formControlName","accountName","matInput",""],["type","text","formControlName","accountNo","matInput",""],["type","text","formControlName","bankName","matInput",""],["type","text","formControlName","bankAddress","matInput",""],["type","text","formControlName","swiftCode","matInput",""],["type","text","formControlName","ibanNumber","matInput",""],["label","Document Details"],[1,"person",2,"width","750px"],["fxFlex","40%"],[1,"titleSelector",2,"width","85%","margin-right","0px"],["matInput","","formControlName","documentType",3,"matAutocomplete"],["documentTypes","matAutocomplete"],["class","hintSize",4,"ngIf"],[1,"document"],["type","file",1,"selectDocument",3,"change"],["fileInputDocument",""],[3,"ngClass","click"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","checkbox"],["class","actions-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],["matColumnDef","image"],["class","image-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","image-cell","mat-cell","",4,"matCellDef"],["matColumnDef","delete"],[4,"ngFor","ngForOf"],["matColumnDef","document"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["class","actions-cell","mat-cell","",3,"click",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",4,"matRowDef","matRowDefColumns"],["fxLayout","row","fxLayoutAlign","end center"],["mat-button","",3,"click"],["mat-button","",3,"disabled",4,"ngIf"],[3,"value"],[1,"errorMessage"],[3,"disabled","optionSelected","value","click"],[1,"hintSize"],["mat-header-cell","",1,"actions-cell"],["color","primary",3,"click"],["mat-cell","",1,"actions-cell"],["mat-header-cell","",1,"image-cell"],["mat-cell","",1,"image-cell"],[3,"src"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"under-line",3,"click"],["mat-cell","",1,"actions-cell",3,"click"],[1,"deleteIcon"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements"],["mat-button","",3,"disabled"]],template:function(t,e){if(1&t){const t=P.Ub();P.Tb(0,"div",0),P.Tb(1,"mat-toolbar",1),P.Tb(2,"span"),P.Rc(3,"Client"),P.Sb(),P.Ob(4,"span",2),P.Tb(5,"button",3),P.bc("click",(function(){return e.close()})),P.Tb(6,"mat-icon",4),P.Rc(7,"close"),P.Sb(),P.Sb(),P.Sb(),P.Sb(),P.Tb(8,"form",5),P.bc("ngSubmit",(function(){return e.save()})),P.Tb(9,"mat-dialog-content"),P.Tb(10,"fury-card"),P.Tb(11,"mat-tab-group"),P.Tb(12,"mat-tab",6),P.Tb(13,"fury-card-content",7),P.Tb(14,"div",8),P.Tb(15,"div",9),P.Tb(16,"mat-form-field",10),P.Tb(17,"mat-label"),P.Rc(18,"Client Name"),P.Sb(),P.Tb(19,"mat-select",11),P.bc("ngModelChange",(function(t){return e.selectedClientName=t})),P.Pc(20,et,2,2,"mat-option",12),P.Sb(),P.Sb(),P.Tb(21,"div",13),P.Tb(22,"div",14),P.Tb(23,"div",15),P.Ob(24,"img",16),P.Tb(25,"input",17),P.bc("change",(function(t){return e.uploadPhoto(t)})),P.Sb(),P.Sb(),P.Pc(26,st,2,1,"mat-hint",18),P.Sb(),P.Sb(),P.Sb(),P.Sb(),P.Tb(27,"div",8),P.Tb(28,"div",19),P.Tb(29,"mat-form-field",10),P.Tb(30,"mat-label"),P.Rc(31,"Title"),P.Sb(),P.Ob(32,"input",20),P.Tb(33,"mat-autocomplete",21,22),P.bc("optionSelected",(function(t){return e.selectTitle(t)})),P.Pc(35,at,2,2,"mat-option",12),P.Sb(),P.Ob(36,"app-show-errors",23),P.Sb(),P.Tb(37,"mat-form-field",24),P.Tb(38,"mat-label"),P.Rc(39,"First Name"),P.Sb(),P.Ob(40,"input",25),P.Ob(41,"app-show-errors",23),P.Sb(),P.Sb(),P.Sb(),P.Tb(42,"div",8),P.Tb(43,"div",19),P.Tb(44,"mat-form-field",24),P.Tb(45,"mat-label"),P.Rc(46,"Last Name"),P.Sb(),P.Ob(47,"input",26),P.Ob(48,"app-show-errors",23),P.Sb(),P.Tb(49,"mat-form-field",24),P.Tb(50,"mat-label"),P.Rc(51,"Email"),P.Sb(),P.Ob(52,"input",27),P.Ob(53,"app-show-errors",23),P.Sb(),P.Sb(),P.Sb(),P.Tb(54,"div",8),P.Tb(55,"div",19),P.Tb(56,"mat-form-field",24),P.Tb(57,"mat-label"),P.Rc(58,"Mobile"),P.Sb(),P.Ob(59,"input",28),P.Ob(60,"app-show-errors",23),P.Sb(),P.Tb(61,"mat-form-field",24),P.Tb(62,"mat-label"),P.Rc(63,"Account Number"),P.Sb(),P.Ob(64,"input",29),P.Ob(65,"app-show-errors",23),P.Sb(),P.Sb(),P.Sb(),P.Tb(66,"div",8),P.Tb(67,"div",19),P.Tb(68,"mat-form-field",24),P.Tb(69,"mat-label"),P.Rc(70,"TRN Number"),P.Sb(),P.Tb(71,"input",30),P.bc("change",(function(){return e.checkTRNDuplication()}))("keyup",(function(){return e.checkTRNDuplication()})),P.Sb(),P.Tb(72,"mat-hint",31),P.Rc(73),P.Sb(),P.Sb(),P.Tb(74,"mat-form-field",24),P.Tb(75,"mat-label"),P.Rc(76,"Utilities"),P.Sb(),P.Tb(77,"mat-select",32),P.bc("ngModelChange",(function(t){return e.selectedUtilities=t})),P.Tb(78,"mat-option",33,34),P.bc("click",(function(){return e.toggleAllSelection()})),P.Rc(80,"Select All"),P.Sb(),P.Pc(81,it,2,4,"mat-option",35),P.Sb(),P.Sb(),P.Sb(),P.Sb(),P.Tb(82,"div",8),P.Tb(83,"div",19),P.Tb(84,"mat-form-field",24),P.Tb(85,"mat-label"),P.Rc(86,"Business Start Date"),P.Sb(),P.Tb(87,"input",36),P.bc("click",(function(){return P.Ec(t),P.Ac(90).open()}))("focus",(function(){return P.Ec(t),P.Ac(90).open()}))("dateChange",(function(){return e.setBusinessEndDate()})),P.Sb(),P.Ob(88,"mat-datepicker-toggle",37),P.Ob(89,"mat-datepicker",null,38),P.Ob(91,"app-show-errors",23),P.Sb(),P.Tb(92,"mat-form-field",24),P.Tb(93,"mat-label"),P.Rc(94,"Business End Date"),P.Sb(),P.Tb(95,"input",39),P.bc("click",(function(){return P.Ec(t),P.Ac(98).open()}))("focus",(function(){return P.Ec(t),P.Ac(98).open()}))("ngModelChange",(function(){return e.validateDates()})),P.Sb(),P.Ob(96,"mat-datepicker-toggle",37),P.Ob(97,"mat-datepicker",null,40),P.Ob(99,"app-show-errors",23),P.Pc(100,ot,2,0,"small",41),P.Sb(),P.Tb(101,"mat-form-field",24),P.Tb(102,"mat-label"),P.Rc(103,"Status"),P.Sb(),P.Ob(104,"input",42),P.Tb(105,"mat-autocomplete",21,43),P.bc("optionSelected",(function(t){return e.selectStatus(t)})),P.Pc(107,rt,2,2,"mat-option",12),P.Sb(),P.Ob(108,"app-show-errors",23),P.Sb(),P.Sb(),P.Sb(),P.Sb(),P.Sb(),P.Tb(109,"mat-tab",44),P.Tb(110,"fury-card-content",7),P.Tb(111,"div",45),P.bc("keyup",(function(){return e.enableAddressValidators()})),P.Tb(112,"div",8),P.Tb(113,"div",19),P.Tb(114,"mat-form-field",24),P.Tb(115,"mat-label"),P.Rc(116,"Address Type"),P.Sb(),P.Tb(117,"input",46),P.bc("ngModelChange",(function(t){return e.addressType=t}))("input",(function(t){return e.getAddressType(t.target.value)})),P.Sb(),P.Tb(118,"mat-autocomplete",21,47),P.bc("optionSelected",(function(t){return e.changeAddressType(t)})),P.Pc(120,nt,2,2,"mat-option",12),P.Sb(),P.Ob(121,"app-show-errors",23),P.Sb(),P.Tb(122,"mat-form-field",24),P.Tb(123,"mat-label"),P.Rc(124,"City"),P.Sb(),P.Ob(125,"input",48),P.Ob(126,"app-show-errors",23),P.Sb(),P.Sb(),P.Sb(),P.Tb(127,"div",8),P.Tb(128,"div",19),P.Tb(129,"mat-form-field",24),P.Tb(130,"mat-label"),P.Rc(131,"Address 1"),P.Sb(),P.Ob(132,"input",49),P.Ob(133,"app-show-errors",23),P.Sb(),P.Tb(134,"mat-form-field",24),P.Tb(135,"mat-label"),P.Rc(136,"Postal Code"),P.Sb(),P.Ob(137,"input",50),P.Ob(138,"app-show-errors",23),P.Sb(),P.Sb(),P.Sb(),P.Tb(139,"div",8),P.Tb(140,"div",19),P.Tb(141,"mat-form-field",24),P.Tb(142,"mat-label"),P.Rc(143,"Address 2"),P.Sb(),P.Ob(144,"input",51),P.Ob(145,"app-show-errors",23),P.Sb(),P.Tb(146,"mat-form-field",24),P.Tb(147,"mat-label"),P.Rc(148,"Country"),P.Sb(),P.Tb(149,"input",52),P.bc("keyup",(function(){return e.getFilteredCountry()}))("selectionChange",(function(t){return e.selectCountry(t)})),P.Sb(),P.Tb(150,"mat-autocomplete",21,53),P.bc("optionSelected",(function(t){return e.selectCountry(t)})),P.Pc(152,ct,2,2,"mat-option",12),P.Sb(),P.Ob(153,"app-show-errors",23),P.Sb(),P.Sb(),P.Sb(),P.Tb(154,"div",8),P.Tb(155,"div",19),P.Tb(156,"div",24),P.Tb(157,"mat-form-field",54),P.Tb(158,"mat-label"),P.Rc(159,"Location"),P.Sb(),P.Tb(160,"mat-select",55),P.bc("ngModelChange",(function(t){return e.locationName=t}))("selectionChange",(function(t){return e.selectLocation(t)})),P.Pc(161,lt,2,2,"mat-option",12),P.Sb(),P.Ob(162,"app-show-errors",23),P.Sb(),P.Tb(163,"button",56),P.bc("click",(function(){return e.createLocation()})),P.Tb(164,"mat-icon",57),P.Rc(165,"add"),P.Sb(),P.Sb(),P.Sb(),P.Tb(166,"div",24),P.Tb(167,"mat-form-field",54),P.Tb(168,"mat-label"),P.Rc(169,"Area"),P.Sb(),P.Tb(170,"mat-select",58),P.bc("ngModelChange",(function(t){return e.areaName=t}))("selectionChange",(function(t){return e.selectArea(t)})),P.Pc(171,dt,2,2,"mat-option",12),P.Sb(),P.Ob(172,"app-show-errors",23),P.Sb(),P.Tb(173,"button",56),P.bc("click",(function(){return e.createArea()})),P.Tb(174,"mat-icon",57),P.Rc(175,"add"),P.Sb(),P.Sb(),P.Sb(),P.Sb(),P.Sb(),P.Tb(176,"div",8),P.Tb(177,"div",19),P.Tb(178,"mat-form-field",24),P.Tb(179,"mat-label"),P.Rc(180,"Email"),P.Sb(),P.Ob(181,"input",27),P.Ob(182,"app-show-errors",23),P.Sb(),P.Tb(183,"mat-form-field",24),P.Tb(184,"mat-label"),P.Rc(185,"Phone No"),P.Sb(),P.Ob(186,"input",59),P.Ob(187,"app-show-errors",23),P.Sb(),P.Sb(),P.Sb(),P.Sb(),P.Sb(),P.Sb(),P.Tb(188,"mat-tab",60),P.Tb(189,"fury-card-content",7),P.Tb(190,"div",61),P.Tb(191,"div",8),P.Tb(192,"div",19),P.Tb(193,"mat-form-field",24),P.Tb(194,"mat-label"),P.Rc(195,"Account Name"),P.Sb(),P.Ob(196,"input",62),P.Ob(197,"app-show-errors",23),P.Sb(),P.Tb(198,"mat-form-field",24),P.Tb(199,"mat-label"),P.Rc(200,"Bank Account Number"),P.Sb(),P.Ob(201,"input",63),P.Ob(202,"app-show-errors",23),P.Sb(),P.Sb(),P.Sb(),P.Tb(203,"div",8),P.Tb(204,"div",19),P.Tb(205,"mat-form-field",24),P.Tb(206,"mat-label"),P.Rc(207,"Bank Name"),P.Sb(),P.Ob(208,"input",64),P.Ob(209,"app-show-errors",23),P.Sb(),P.Tb(210,"mat-form-field",24),P.Tb(211,"mat-label"),P.Rc(212,"Bank Branch"),P.Sb(),P.Ob(213,"input",65),P.Ob(214,"app-show-errors",23),P.Sb(),P.Sb(),P.Sb(),P.Tb(215,"div",8),P.Tb(216,"div",19),P.Tb(217,"mat-form-field",24),P.Tb(218,"mat-label"),P.Rc(219,"Swift Code"),P.Sb(),P.Ob(220,"input",66),P.Ob(221,"app-show-errors",23),P.Sb(),P.Tb(222,"mat-form-field",24),P.Tb(223,"mat-label"),P.Rc(224,"IBAN"),P.Sb(),P.Ob(225,"input",67),P.Ob(226,"app-show-errors",23),P.Sb(),P.Sb(),P.Sb(),P.Sb(),P.Sb(),P.Sb(),P.Tb(227,"mat-tab",68),P.Tb(228,"fury-card-content",7),P.Tb(229,"div",69),P.Tb(230,"div",15),P.Tb(231,"div",70),P.Tb(232,"mat-form-field",71),P.Tb(233,"mat-label"),P.Rc(234,"Document Type"),P.Sb(),P.Ob(235,"input",72),P.Tb(236,"mat-autocomplete",21,73),P.bc("optionSelected",(function(t){return e.selectDocumentType(t)})),P.Pc(238,ut,2,2,"mat-option",12),P.Sb(),P.Pc(239,mt,2,1,"mat-hint",74),P.Sb(),P.Tb(240,"button",56),P.bc("click",(function(){return e.createDocumentType()})),P.Tb(241,"mat-icon",57),P.Rc(242,"add"),P.Sb(),P.Sb(),P.Sb(),P.Tb(243,"div",75),P.Tb(244,"input",76,77),P.bc("change",(function(t){return e.selectDocument(t)})),P.Sb(),P.Tb(246,"span",78),P.bc("click",(function(){return e.uploadDocument()})),P.Rc(247,"UPLOAD"),P.Sb(),P.Sb(),P.Sb(),P.Pc(248,bt,2,1,"mat-hint",18),P.Sb(),P.Tb(249,"table",79),P.Rb(250,80),P.Pc(251,ht,2,0,"th",81),P.Pc(252,pt,2,0,"td",82),P.Qb(),P.Rb(253,83),P.Pc(254,ft,1,0,"th",84),P.Pc(255,gt,2,1,"td",85),P.Qb(),P.Rb(256,86),P.Tb(257,"th"),P.Rc(258,"Action"),P.Sb(),P.Pc(259,Tt,3,0,"td",82),P.Qb(),P.Pc(260,vt,2,1,"ng-container",87),P.Rb(261,88),P.Pc(262,Nt,2,0,"th",89),P.Pc(263,It,3,1,"td",90),P.Qb(),P.Rb(264,91),P.Pc(265,Dt,2,0,"th",81),P.Pc(266,kt,3,0,"td",92),P.Qb(),P.Pc(267,wt,1,0,"tr",93),P.Pc(268,Ot,1,0,"tr",94),P.Sb(),P.Sb(),P.Sb(),P.Sb(),P.Sb(),P.Sb(),P.Tb(269,"mat-dialog-actions",95),P.Tb(270,"button",96),P.bc("click",(function(){return e.closeDialog()})),P.Rc(271,"CANCEL"),P.Sb(),P.Pc(272,Pt,2,1,"button",97),P.Pc(273,At,2,1,"button",97),P.Sb(),P.Sb()}if(2&t){const t=P.Ac(34),s=P.Ac(90),a=P.Ac(98),i=P.Ac(106),o=P.Ac(119),r=P.Ac(151),n=P.Ac(237);P.Cb(8),P.mc("formGroup",e.form),P.Cb(11),P.mc("ngModel",e.selectedClientName)("disabled","update"==e.mode),P.Cb(1),P.mc("ngForOf",e.lstClientNames),P.Cb(4),P.nc("src",e.image,P.Gc),P.Cb(2),P.mc("ngIf",0==e.isUploadSuccess),P.Cb(6),P.mc("matAutocomplete",t),P.Cb(3),P.mc("ngForOf",e.filteredTitles),P.Cb(1),P.mc("ctrl",e.form.get("title")),P.Cb(5),P.mc("ctrl",e.form.get("firstName")),P.Cb(7),P.mc("ctrl",e.form.get("lastName")),P.Cb(5),P.mc("ctrl",e.form.get("email")),P.Cb(7),P.mc("ctrl",e.form.get("phoneNo")),P.Cb(5),P.mc("ctrl",e.form.get("accountNumber")),P.Cb(8),P.Sc(e.duplicateTRN),P.Cb(4),P.mc("ngModel",e.selectedUtilities),P.Cb(1),P.mc("value",0),P.Cb(3),P.mc("ngForOf",e.metadataUtilityType),P.Cb(6),P.mc("matDatepicker",s),P.Cb(1),P.mc("for",s),P.Cb(3),P.mc("ctrl",e.form.get("businessStartDate")),P.Cb(4),P.mc("matDatepicker",a),P.Cb(1),P.mc("for",a),P.Cb(3),P.mc("ctrl",e.form.get("businessEndDate")),P.Cb(1),P.mc("ngIf",!e.isValidDate),P.Cb(4),P.mc("matAutocomplete",i),P.Cb(3),P.mc("ngForOf",e.filteredStatus),P.Cb(1),P.mc("ctrl",e.form.get("status")),P.Cb(3),P.mc("formGroup",e.form.controls.address),P.Cb(6),P.mc("matAutocomplete",o)("ngModel",e.addressType),P.Cb(3),P.mc("ngForOf",e.filteredAddressTypes),P.Cb(1),P.mc("ctrl",e.form.controls.address.get("addressTypeId")),P.Cb(5),P.mc("ctrl",e.form.controls.address.get("city")),P.Cb(7),P.mc("ctrl",e.form.controls.address.get("address1")),P.Cb(5),P.mc("ctrl",e.form.controls.address.get("zipPostalCode")),P.Cb(7),P.mc("ctrl",e.form.controls.address.get("address2")),P.Cb(4),P.mc("matAutocomplete",r),P.Cb(3),P.mc("ngForOf",e.filteredCountries),P.Cb(1),P.mc("ctrl",e.form.controls.address.get("countryId")),P.Cb(7),P.mc("ngModel",e.locationName),P.Cb(1),P.mc("ngForOf",e.location),P.Cb(1),P.mc("ctrl",e.form.controls.address.get("locationId")),P.Cb(8),P.mc("ngModel",e.areaName),P.Cb(1),P.mc("ngForOf",e.area),P.Cb(1),P.mc("ctrl",e.form.controls.address.get("areaId")),P.Cb(10),P.mc("ctrl",e.form.controls.address.get("email")),P.Cb(5),P.mc("ctrl",e.form.controls.address.get("phoneNumber")),P.Cb(3),P.mc("formGroup",e.form.controls.bank),P.Cb(7),P.mc("ctrl",e.form.controls.bank.get("accountName")),P.Cb(5),P.mc("ctrl",e.form.controls.bank.get("accountNo")),P.Cb(7),P.mc("ctrl",e.form.controls.bank.get("bankName")),P.Cb(5),P.mc("ctrl",e.form.controls.bank.get("bankAddress")),P.Cb(7),P.mc("ctrl",e.form.controls.bank.get("swiftCode")),P.Cb(5),P.mc("ctrl",e.form.controls.bank.get("ibanNumber")),P.Cb(9),P.mc("matAutocomplete",n),P.Cb(3),P.mc("ngForOf",e.filteredDocumentTypes),P.Cb(1),P.mc("ngIf",e.isDuplicate),P.Cb(7),P.mc("ngClass",""!==e.form.controls.documentType.value&&e.selectedDocument&&!e.isDuplicate&&e.uploadSuccess?"uploadButton":"uploadButtonDisabled"),P.Cb(2),P.mc("ngIf",0==e.isDocumentUploadSuccess),P.Cb(1),P.mc("dataSource",e.dataSource),P.Cb(11),P.mc("ngForOf",e.columns),P.Cb(7),P.mc("matHeaderRowDef",e.visibleColumns),P.Cb(1),P.mc("matRowDefColumns",e.visibleColumns),P.Cb(4),P.mc("ngIf",e.isCreateMode()),P.Cb(1),P.mc("ngIf",e.isUpdateMode())}},directives:[h.i,V.a,z.a,L.a,F.c,i.z,i.r,i.k,h.f,$.a,j.b,j.a,$.c,B.d,B.e,q.d,B.b,q.h,_.a,i.q,i.i,a.n,a.o,H.b,i.c,G.c,G.a,Q.a,i.u,i.m,q.g,X.n,K.b,K.d,q.j,K.a,a.m,J.a,u.j,d.a,u.c,u.e,u.b,u.g,u.i,h.c,B.c,u.d,Y.a,u.a,d.b,u.f,u.h],styles:[".titleSelector[_ngcontent-%COMP%]{margin-top:auto;margin-right:24px}.profile[_ngcontent-%COMP%]{width:50%;display:flex}.profileImage[_ngcontent-%COMP%]{height:100px;margin-left:24px;margin-right:10px;padding:10px}.profileButton[_ngcontent-%COMP%]{align-self:center;padding:3px 15px}.document[_ngcontent-%COMP%]{width:80%;display:flex}.errorMessage[_ngcontent-%COMP%]{color:red;font-size:smaller;width:350px;margin-left:24px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}.selectDocument[_ngcontent-%COMP%]{width:inherit;margin-right:30px;align-self:center;padding:3px 15px;overflow:hidden}.uploadButton[_ngcontent-%COMP%]{align-self:center;padding:5px 15px;border:1px solid grey;border-radius:3px;box-shadow:1px 1px 1px grey;cursor:pointer}.uploadButtonDisabled[_ngcontent-%COMP%]{align-self:center;padding:5px 15px;border:1px solid rgba(0,0,0,.26);border-radius:3px;box-shadow:1px 1px 1px rgba(0,0,0,.26);color:rgba(0,0,0,.26)}.deleteIcon[_ngcontent-%COMP%]{cursor:pointer}.company[_ngcontent-%COMP%]{align-self:center;margin-left:24px}.companyName[_ngcontent-%COMP%]{margin-left:24px;margin-right:24px}.under-line[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer}.hintSize[_ngcontent-%COMP%]{font-size:small;color:red}.documentSelector[_ngcontent-%COMP%]{margin-top:auto;margin-right:10px;width:50px}.duplicateMessage[_ngcontent-%COMP%]{color:red;font-size:small}.duplicate[_ngcontent-%COMP%]{color:red}.task-header[_ngcontent-%COMP%]{background-color:transparent;padding:0 5px;height:20px}.fx-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),t})();var Rt=s("Ku73"),Mt=s("nStZ"),Ut=s("a8hA"),Et=s("xBcV"),Vt=s("Hbgg"),zt=s("rnAf"),Lt=s("rvYj"),Ft=s("a+RD"),$t=s("STbY");function jt(t,e){if(1&t){const t=P.Ub();P.Tb(0,"th",18),P.Tb(1,"mat-checkbox",19),P.bc("click",(function(e){return P.Ec(t),e.stopPropagation()})),P.Sb(),P.Sb()}}function Bt(t,e){if(1&t){const t=P.Ub();P.Tb(0,"td",20),P.Tb(1,"mat-checkbox",19),P.bc("click",(function(e){return P.Ec(t),e.stopPropagation()})),P.Sb(),P.Sb()}}function qt(t,e){1&t&&P.Ob(0,"th",21)}function _t(t,e){if(1&t&&(P.Tb(0,"td",22),P.Ob(1,"img",23),P.Sb()),2&t){const t=e.$implicit;P.Cb(1),P.oc("src","http://i.pravatar.cc/30?u=",t.name,"",P.Gc)}}function Ht(t,e){if(1&t&&(P.Tb(0,"th",28),P.Rc(1),P.Sb()),2&t){const t=P.fc(2).$implicit;P.Cb(1),P.Tc(" ",t.name,"")}}function Gt(t,e){if(1&t&&(P.Tb(0,"td",29),P.Rc(1),P.Sb()),2&t){const t=e.$implicit,s=P.fc(2).$implicit;P.Cb(1),P.Tc(" ",t[s.property]," ")}}function Qt(t,e){if(1&t&&(P.Rb(0,25),P.Pc(1,Ht,2,1,"th",26),P.Pc(2,Gt,2,1,"td",27),P.Qb()),2&t){const t=P.fc().$implicit;P.mc("matColumnDef",t.property)}}function Xt(t,e){if(1&t&&(P.Rb(0),P.Pc(1,Qt,3,1,"ng-container",24),P.Qb()),2&t){const t=e.$implicit;P.Cb(1),P.mc("ngIf",t.isModelProperty)}}function Kt(t,e){1&t&&P.Ob(0,"th",30)}function Jt(t,e){if(1&t){const t=P.Ub();P.Tb(0,"td",20),P.Tb(1,"button",31),P.bc("click",(function(e){return P.Ec(t),e.stopPropagation()})),P.Tb(2,"mat-icon"),P.Rc(3,"more_horiz"),P.Sb(),P.Sb(),P.Tb(4,"mat-menu",32,33),P.Tb(6,"button",34),P.bc("click",(function(){P.Ec(t);const s=e.$implicit;return P.fc().updateClient(s)})),P.Tb(7,"span"),P.Rc(8,"Modify"),P.Sb(),P.Sb(),P.Sb(),P.Sb()}if(2&t){const t=P.Ac(5);P.Cb(1),P.mc("matMenuTriggerFor",t)}}function Yt(t,e){1&t&&P.Ob(0,"tr",35)}function Zt(t,e){if(1&t){const t=P.Ub();P.Tb(0,"tr",36),P.bc("click",(function(){P.Ec(t);const s=e.$implicit;return P.fc().updateClient(s)})),P.Sb()}}const Wt=function(){return[]},te=[{path:"",component:(()=>{class t{constructor(t,e,s,a,i){this.dialog=t,this.tenantService=e,this.snackBar=s,this.clientSelectionService=a,this.router=i,this.subject$=new m.a(1),this.data$=this.subject$.asObservable(),this.columns=[{name:"Client Name",property:"clientName",visible:!0,isModelProperty:!0},{name:"Mobile",property:"phoneNo",visible:!0,isModelProperty:!0},{name:"Email",property:"email",visible:!0,isModelProperty:!0},{name:"Account Number",property:"accountNumber",visible:!0,isModelProperty:!0},{name:"Status",property:"status",visible:!0,isModelProperty:!0},{name:"Actions",property:"actions",visible:!0}],this.pageSize=10}set content(t){this.sort=t,this.sort&&(this.dataSource.sort=this.sort)}get visibleColumns(){return this.columns.filter(t=>t.visible).map(t=>t.property)}ngOnInit(){this.clientSelectionService.setIsClientVisible(!1),this.getAllClients()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}createClient(){this.dialog.open(xt).afterClosed().subscribe(t=>{t&&this.tenantService.createClient(t).subscribe(t=>{this.snackBar.open("Client created successfully",null,{duration:5e3,verticalPosition:"top",horizontalPosition:"center",panelClass:["green-snackbar"]}),this.getAllClients()})}),this.getAllClients()}updateClient(t){this.dialog.open(xt,{data:t}).afterClosed().subscribe(t=>{t&&this.tenantService.updateClientbyId(t.id,t).subscribe(t=>{this.snackBar.open("Client updated successfully",null,{duration:5e3,verticalPosition:"top",horizontalPosition:"center",panelClass:["green-snackbar"]}),this.getAllClients()})}),this.getAllClients()}deleteClient(t){this.dialog.open(I.a).afterClosed().subscribe(e=>{e&&(this.tenantService.deleteClientbyId(t.id).subscribe(()=>{this.clients.splice(this.clients.findIndex(e=>e.id===t.id),1),this.subject$.next(this.clients)}),this.getAllClients())}),this.getAllClients()}onFilterChange(t){this.dataSource&&(t=(t=t.trim()).toLowerCase(),this.dataSource.filter=t)}getAllClients(){this.tenantService.getClients().subscribe(t=>{this.subject$.next(t)}),this.dataSource=new u.k,this.data$.pipe(Object(b.a)(t=>!!t)).subscribe(t=>{this.clients=t,this.dataSource.data=t}),this.ngAfterViewInit()}ngOnDestroy(){}tenantDetails(t){this.router.navigate(["/owner-tenant/create-client/"+t.id])}}return t.\u0275fac=function(e){return new(e||t)(P.Nb(h.b),P.Nb(x),P.Nb(E.b),P.Nb(Ut.a),P.Nb(c.f))},t.\u0275cmp=P.Hb({type:t,selectors:[["create-client"]],viewQuery:function(t,e){var s;1&t&&(P.Jc(l.a,!0),P.Vc(d.a,!0)),2&t&&(P.zc(s=P.cc())&&(e.paginator=s.first),P.zc(s=P.cc())&&(e.content=s.first))},inputs:{columns:"columns"},decls:23,vars:10,consts:[["mode","card"],["current","Create Clients",3,"crumbs"],["name","Create Clients",3,"columns","filterChange"],[1,"actions"],["type","button","mat-mini-fab","","color","primary",1,"create",3,"click"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","checkbox"],["class","actions-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],["matColumnDef","image"],["class","image-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","image-cell","mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"paginator",3,"pageSize"],["mat-header-cell","",1,"actions-cell"],["color","primary",3,"click"],["mat-cell","",1,"actions-cell"],["mat-header-cell","",1,"image-cell"],["mat-cell","",1,"image-cell"],[3,"src"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"actions-cell"],["type","button","mat-icon-button","",3,"matMenuTriggerFor","click"],["yPosition","below","xPosition","before"],["actionsMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements",3,"click"]],template:function(t,e){1&t&&(P.Tb(0,"fury-page-layout",0),P.Tb(1,"fury-page-layout-header"),P.Ob(2,"fury-breadcrumbs",1),P.Sb(),P.Tb(3,"fury-page-layout-content"),P.Tb(4,"fury-list",2),P.bc("filterChange",(function(t){return e.onFilterChange(t)})),P.Tb(5,"div",3),P.Tb(6,"button",4),P.bc("click",(function(){return e.createClient()})),P.Tb(7,"mat-icon"),P.Rc(8,"add"),P.Sb(),P.Sb(),P.Sb(),P.Tb(9,"table",5),P.Rb(10,6),P.Pc(11,jt,2,0,"th",7),P.Pc(12,Bt,2,0,"td",8),P.Qb(),P.Rb(13,9),P.Pc(14,qt,1,0,"th",10),P.Pc(15,_t,2,1,"td",11),P.Qb(),P.Pc(16,Xt,2,1,"ng-container",12),P.Rb(17,13),P.Pc(18,Kt,1,0,"th",14),P.Pc(19,Jt,9,1,"td",8),P.Qb(),P.Pc(20,Yt,1,0,"tr",15),P.Pc(21,Zt,1,0,"tr",16),P.Sb(),P.Ob(22,"mat-paginator",17),P.Sb(),P.Sb(),P.Sb()),2&t&&(P.Cb(2),P.mc("@fadeInRight",void 0)("crumbs",P.qc(9,Wt)),P.Cb(1),P.mc("@fadeInUp",void 0),P.Cb(1),P.mc("columns",e.columns),P.Cb(5),P.mc("dataSource",e.dataSource),P.Cb(7),P.mc("ngForOf",e.columns),P.Cb(4),P.mc("matHeaderRowDef",e.visibleColumns),P.Cb(1),P.mc("matRowDefColumns",e.visibleColumns),P.Cb(1),P.mc("pageSize",e.pageSize))},directives:[Et.a,Vt.a,zt.a,Lt.a,Ft.a,z.a,L.a,u.j,d.a,u.c,u.e,u.b,a.n,u.g,u.i,l.a,u.d,Y.a,u.a,a.o,d.b,$t.d,$t.e,$t.b,u.f,u.h],styles:[".clickable[_ngcontent-%COMP%]{cursor:pointer}"],data:{animation:[Rt.a,Mt.a]}}),t})()}];let ee=(()=>{class t{}return t.\u0275mod=P.Lb({type:t}),t.\u0275inj=P.Kb({factory:function(e){return new(e||t)},imports:[[c.j.forChild(te)],c.j]}),t})();var se=s("YUcS"),ae=s("VE2z"),ie=s("QibW"),oe=s("GiUZ"),re=s("2+hO"),ne=s("jJIU");let ce=(()=>{class t{}return t.\u0275mod=P.Lb({type:t}),t.\u0275inj=P.Kb({factory:function(e){return new(e||t)},imports:[[a.c,i.l,ae.a,r.a,i.w,se.a,n.a,h.g,H.c,z.b,L.b,ie.c,_.b,j.c,oe.a,re.a,ne.a]]}),t})();var le=s("WCGO");let de=(()=>{class t{}return t.\u0275mod=P.Lb({type:t}),t.\u0275inj=P.Kb({factory:function(e){return new(e||t)},imports:[[a.c,ee,i.l,n.a,le.a,r.a,ce,o.a]]}),t})()},nST0:function(t,e,s){"use strict";s.d(e,"a",(function(){return r}));var a=s("tk/3"),i=s("sXtk"),o=s("fXoL");let r=(()=>{class t{constructor(t,e){this.http=t,this.envService=e,this.baseUrl="",this.baseUrl=e.backend}getClients(){return this.http.get(this.baseUrl+"/clients")}getRoles(){return this.http.get(this.baseUrl+"/clients/roles")}saveUserClients(t){return this.http.post(this.baseUrl+"/clients/userclients",t)}getClientImageProperties(t){let e=new a.f;return e=e.append("clientId",""+t),this.http.get(this.baseUrl+"/clients/image/properties",{params:e})}getUtilityTypes(t){let e=new a.f;return e=e.append("clientId",""+t),this.http.get(this.baseUrl+"/clients/utilityType",{params:e})}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(a.c),o.Xb(i.a))},t.\u0275prov=o.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);