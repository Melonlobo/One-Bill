(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{SqAu:function(t,o,s){"use strict";s.r(o),s.d(o,"ResetPasswordModule",(function(){return v}));var i=s("ofXK"),e=s("3Pt+"),r=s("KthW"),n=s("tyNb"),a=s("nStZ"),c=s("+Kgr"),d=s("fXoL"),b=s("dNgK"),m=s("XiUz"),l=s("kmnG"),u=s("qFsG"),f=s("bTqV"),w=s("Qu3c"),h=s("NFeN");function p(t,o){1&t&&(d.Tb(0,"mat-icon"),d.Rc(1,"visibility"),d.Sb())}function g(t,o){1&t&&(d.Tb(0,"mat-icon"),d.Rc(1,"visibility_off"),d.Sb())}function P(t,o){1&t&&(d.Tb(0,"mat-error"),d.Rc(1,"Password should contain 1 Uppercase, 1 Special character and minimum 8 charaters long."),d.Sb())}function y(t,o){1&t&&(d.Tb(0,"mat-icon"),d.Rc(1,"visibility"),d.Sb())}function k(t,o){1&t&&(d.Tb(0,"mat-icon"),d.Rc(1,"visibility_off"),d.Sb())}function C(t,o){1&t&&(d.Tb(0,"mat-error"),d.Rc(1,"Password should contain 1 Uppercase, 1 Special character and minimum 8 charaters long."),d.Sb())}function T(t,o){1&t&&(d.Tb(0,"mat-error"),d.Rc(1," Password does not match, Please check again !!. "),d.Sb())}const x=[{path:"confirm/:username/:email/:token",component:(()=>{class t{constructor(t,o,s,i,r,n){this.router=t,this.fb=o,this.authenticationService=s,this.snackbar=i,this.route=r,this.cd=n,this.newPasswordInputType="password",this.newPasswordVisible=!1,this.confirmPasswordInputType="password",this.confirmPasswordVisible=!1,this.passwordMatch=!0,this.form=this.fb.group({newPassword:["",e.y.compose([e.y.required,e.y.pattern("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*#?&])[A-Za-zd$@$!%*#?&].{8,}")])],confirmPassword:["",e.y.compose([e.y.required,e.y.pattern("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*#?&])[A-Za-zd$@$!%*#?&].{8,}")])]})}ngOnInit(){this.route&&this.route.paramMap.subscribe(t=>{t&&(this.userName=t.get("username"),this.email=t.get("email"),this.token=t.get("token"))})}toggleNewPasswordVisibility(){this.newPasswordVisible?(this.newPasswordInputType="password",this.newPasswordVisible=!1,this.cd.markForCheck()):(this.newPasswordInputType="text",this.newPasswordVisible=!0,this.cd.markForCheck())}toggleConfirmPasswordVisibility(){this.confirmPasswordVisible?(this.confirmPasswordInputType="password",this.confirmPasswordVisible=!1,this.cd.markForCheck()):(this.confirmPasswordInputType="text",this.confirmPasswordVisible=!0,this.cd.markForCheck())}confirm(){this.form.valid?this.changePassword():this.validateAllFormFields(this.form)}changePassword(){if(this.newPassword!=this.confirmPassword)return this.passwordMatch=!1,void this.notificationMessage("New Password and Confirm Password does not match","red-snackbar");this.authenticationService.resetPassword({userName:this.userName,email:this.email,password:this.newPassword,token:this.token}).subscribe({next:t=>{"Success"==t.status?(this.notificationMessage("Password changed successfully.You can login with your new password","green-snackbar"),this.router.navigate(["/login"])):this.notificationMessage("Password reset failed","red-snackbar")},error:t=>{this.notificationMessage("Password reset failed","red-snackbar")}})}notificationMessage(t,o){this.snackbar.open(t,null,{duration:5e3,verticalPosition:"top",horizontalPosition:"end",panelClass:[o]})}validateAllFormFields(t){Object.keys(t.controls).forEach(o=>{const s=t.get(o);s instanceof e.g?s.markAsTouched({onlySelf:!0}):s instanceof e.j&&this.validateAllFormFields(s)})}}return t.\u0275fac=function(o){return new(o||t)(d.Nb(n.f),d.Nb(e.f),d.Nb(c.a),d.Nb(b.b),d.Nb(n.a),d.Nb(d.h))},t.\u0275cmp=d.Hb({type:t,selectors:[["fury-forgot-password"]],decls:30,vars:14,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"page"],[1,"card","border-radius","elevation"],["fxLayout","column","fxLayoutAlign","center center",1,"header","padding"],["src","assets/img/smartBill.png","width","290px","height","90px"],["fxLayout","column","fxLayoutGap","16px",1,"padding",3,"formGroup"],["fxFlex","auto","fxLayout","column"],["fxFlex","grow"],["matInput","","required","","formControlName","newPassword",3,"type","ngModel","ngModelChange"],["type","button","mat-icon-button","","matSuffix","","matTooltip","Toggle Visibility",3,"click"],[4,"ngIf"],["fxFlex","grow",1,"topBottomPadding"],["matInput","","required","","formControlName","confirmPassword",3,"type","ngModel","ngModelChange"],["type","button","color","primary","mat-raised-button","",3,"disabled","click"]],template:function(t,o){1&t&&(d.Tb(0,"div",0),d.Tb(1,"div",1),d.Tb(2,"div",2),d.Tb(3,"div"),d.Ob(4,"img",3),d.Sb(),d.Sb(),d.Tb(5,"div",4),d.Tb(6,"div",5),d.Tb(7,"mat-form-field",6),d.Tb(8,"mat-label"),d.Rc(9,"New Password"),d.Sb(),d.Tb(10,"input",7),d.bc("ngModelChange",(function(t){return o.newPassword=t})),d.Sb(),d.Tb(11,"button",8),d.bc("click",(function(){return o.toggleNewPasswordVisibility()})),d.Pc(12,p,2,0,"mat-icon",9),d.Pc(13,g,2,0,"mat-icon",9),d.Sb(),d.Tb(14,"mat-hint"),d.Rc(15,"Enter your new password."),d.Sb(),d.Pc(16,P,2,0,"mat-error",9),d.Sb(),d.Tb(17,"mat-form-field",10),d.Tb(18,"mat-label"),d.Rc(19,"Confirm Password"),d.Sb(),d.Tb(20,"input",11),d.bc("ngModelChange",(function(t){return o.confirmPassword=t})),d.Sb(),d.Tb(21,"button",8),d.bc("click",(function(){return o.toggleConfirmPasswordVisibility()})),d.Pc(22,y,2,0,"mat-icon",9),d.Pc(23,k,2,0,"mat-icon",9),d.Sb(),d.Tb(24,"mat-hint"),d.Rc(25,"Re-enter new password."),d.Sb(),d.Pc(26,C,2,0,"mat-error",9),d.Pc(27,T,2,0,"mat-error",9),d.Sb(),d.Sb(),d.Tb(28,"button",12),d.bc("click",(function(){return o.confirm()})),d.Rc(29," Confirm "),d.Sb(),d.Sb(),d.Sb(),d.Sb()),2&t&&(d.Cb(1),d.mc("@fadeInUp",void 0),d.Cb(4),d.mc("formGroup",o.form),d.Cb(5),d.mc("type",o.newPasswordInputType)("ngModel",o.newPassword),d.Cb(2),d.mc("ngIf",o.newPasswordVisible),d.Cb(1),d.mc("ngIf",!o.newPasswordVisible),d.Cb(3),d.mc("ngIf",o.form.get("newPassword").hasError("pattern")),d.Cb(4),d.mc("type",o.confirmPasswordInputType)("ngModel",o.confirmPassword),d.Cb(2),d.mc("ngIf",o.confirmPasswordVisible),d.Cb(1),d.mc("ngIf",!o.confirmPasswordVisible),d.Cb(3),d.mc("ngIf",o.form.get("confirmPassword").hasError("pattern")),d.Cb(1),d.mc("ngIf",!o.passwordMatch),d.Cb(1),d.mc("disabled",o.form.invalid))},directives:[m.d,m.c,m.e,e.r,e.k,m.b,l.d,l.h,u.b,e.c,e.x,e.q,e.i,f.a,l.j,w.a,i.o,l.g,h.a,l.c],styles:[".page[_ngcontent-%COMP%]{display:block;height:100%;width:100%;background-color:#fff;background-image:url(bg2.244996fb1d2175aa7b80.jpeg);background-position:50%;background-repeat:no-repeat;background-size:100% 100%}.card[_ngcontent-%COMP%]{width:380px;box-shadow:0 1px 3px rgba(0,0,0,.3),0 1px 3px rgba(0,0,0,.3);transition:all .3s cubic-bezier(.35,.8,.35,1)}@media screen and (max-width:599px){.card[_ngcontent-%COMP%]{width:300px}}.card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{border-top-left-radius:8px;border-top-right-radius:8px}.logo[_ngcontent-%COMP%]{width:80px;height:80px}.topBottomPadding[_ngcontent-%COMP%]{padding:20px 0}"],data:{animation:[a.a]}}),t})()}];let S=(()=>{class t{}return t.\u0275mod=d.Lb({type:t}),t.\u0275inj=d.Kb({factory:function(o){return new(o||t)},imports:[[n.j.forChild(x)],n.j]}),t})(),v=(()=>{class t{}return t.\u0275mod=d.Lb({type:t}),t.\u0275inj=d.Kb({factory:function(o){return new(o||t)},imports:[[i.c,S,r.a,e.w]]}),t})()}}]);