(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{"/ptB":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));class a{constructor(t){this.id=t.id||0,this.description=t.description||"",this.defaultValue=t.defaultValue||"1",this.parentId=t.parentId||0,this.parentName=t.parentName||"",this.mode=t.mode||0,this.modeName=t.modeName||"",this.sequence=t.sequence||0}}},JrfF:function(t,e,n){"use strict";n.r(e),n.d(e,"TelephonecallModule",(function(){return et}));var a=n("ofXK"),i=n("tyNb"),o=n("3Pt+"),r=n("zSPf"),s=n("sXtk"),c=n("fXoL"),l=n("tk/3");let d=(()=>{class t{constructor(t,e){this.httpClient=t,this.envService=e,this.baseUrl="",this.baseUrl=e.backend}updateTelephonecallById(t){return this.httpClient.post(this.baseUrl+"/telephoneCalls/",t)}getCalls(t){return this.httpClient.get(this.baseUrl+"/telephoneCalls/"+t)}}return t.\u0275fac=function(e){return new(e||t)(c.Xb(l.c),c.Xb(s.a))},t.\u0275prov=c.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=n("zP6O"),p=n("a8hA"),u=n("dNgK"),m=n("0IaG"),b=n("b6Qw"),f=n("Wp6s"),g=n("XiUz"),x=n("/t3+"),C=n("bTqV"),y=n("NFeN"),S=n("Qu3c"),M=n("kmnG"),v=n("d3UM"),w=n("FKr1");function P(t,e){if(1&t&&(c.Tb(0,"mat-option",17),c.Rc(1),c.Sb()),2&t){const t=e.$implicit;c.mc("value",t.id),c.Cb(1),c.Sc(t.description)}}let T=(()=>{class t{constructor(t,e,n,a,i,o,r,s){this.fb=t,this.snackbar=e,this.masterService=n,this.telephoneCallService=a,this.router=i,this.dialog=o,this.clientSelectionService=r,this.cookieService=s,this.lstCallType=[],this.callType="",this.textData=""}ngOnInit(){this.clientSelectionService.setIsClientVisible(!0),this.txtForm=this.fb.group({callType:[null,o.y.compose([o.y.required])],textData:[null,o.y.compose([o.y.required])]}),this.getCallTypes()}getCallTypes(){this.lstCallType=[],this.masterService.getUserMasterdata(57,0).subscribe(t=>{this.lstCallType=t})}popupMsg(t,e){let n;"error"==t?n="red-snackbar":"success"==t&&(n="green-snackbar"),this.snackbar.open(e,null,{duration:5e3,verticalPosition:"top",horizontalPosition:"center",panelClass:[n]})}saveData(){let t={};t.callTypeId=this.callType,t.textdata=this.textData,t.datetime=new Date,t.userId=this.cookieService.get("userId"),t.tenantId=parseInt(this.cookieService.get("ownerId")),this.telephoneCallService.updateTelephonecallById(t).subscribe(t=>{this.popupMsg("success","Call log entry saved successfully"),this.cancelData(),this.router.navigateByUrl("telephonecall/view-call-logs")})}cancelData(){this.callType="",this.textData="",this.txtForm=this.fb.group({callType:[null,o.y.compose([o.y.required])],textData:[null,o.y.compose([o.y.required])]})}createCallType(){this.dialog.open(h.a,{data:[0,57]}).afterClosed().subscribe(t=>{t&&"Success"==t&&this.getCallTypes()})}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(o.f),c.Nb(u.b),c.Nb(r.a),c.Nb(d),c.Nb(i.f),c.Nb(m.b),c.Nb(p.a),c.Nb(b.a))},t.\u0275cmp=c.Hb({type:t,selectors:[["fury-telephone-call-update"]],decls:25,vars:7,consts:[["fxLayout","column","fxLayoutGap","20px",2,"padding","27px 27px 27px 27px"],["color","primary",1,"position-fixed"],["src","assets/img/fav-icon.png",1,"img-style"],[1,"toolbar-spacer"],["mat-icon-button","","aria-label","Example icon-button with menu icon",1,"example-icon",3,"disabled","click"],["matTooltip","Reset",1,"icon-color"],["matTooltip","Save",1,"icon-color"],["fxLayout","row","fxLayoutGap","20px"],["fxFlex",""],[2,"width","40%"],["name","callType","id","callTypeId","placeholder","Call Type",3,"ngModel","formControl","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","button","mat-mini-fab","","color","primary",1,"create",2,"height","30px","width","30px","margin-right","0px","margin-left","5px","padding-top","-20px",3,"click"],[2,"height","10px","width","10px","padding-top","-5px","margin-top","-25px","margin-left","-13px"],["fxLayout","row"],["rows","10","cols","130","placeholder","Enter text here....",1,"textId",3,"ngModel","formControl","ngModelChange"],["textId",""],[3,"value"]],template:function(t,e){1&t&&(c.Tb(0,"mat-card",0),c.Tb(1,"mat-toolbar",1),c.Ob(2,"img",2),c.Tb(3,"span"),c.Rc(4,"Call Log Entry"),c.Sb(),c.Ob(5,"span",3),c.Tb(6,"button",4),c.bc("click",(function(){return e.cancelData()})),c.Tb(7,"mat-icon",5),c.Rc(8,"refresh"),c.Sb(),c.Sb(),c.Tb(9,"button",4),c.bc("click",(function(){return e.saveData()})),c.Tb(10,"mat-icon",6),c.Rc(11,"save"),c.Sb(),c.Sb(),c.Sb(),c.Tb(12,"div",7),c.Tb(13,"div",8),c.Tb(14,"mat-form-field",9),c.Tb(15,"mat-select",10),c.bc("ngModelChange",(function(t){return e.callType=t})),c.Tb(16,"mat-option"),c.Rc(17,"None"),c.Sb(),c.Pc(18,P,2,2,"mat-option",11),c.Sb(),c.Sb(),c.Tb(19,"button",12),c.bc("click",(function(){return e.createCallType()})),c.Tb(20,"mat-icon",13),c.Rc(21,"add"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Tb(22,"div",14),c.Tb(23,"textarea",15,16),c.bc("ngModelChange",(function(t){return e.textData=t})),c.Sb(),c.Sb(),c.Sb()),2&t&&(c.Cb(6),c.mc("disabled",e.txtForm.pristine),c.Cb(3),c.mc("disabled",e.txtForm.invalid),c.Cb(6),c.mc("ngModel",e.callType)("formControl",e.txtForm.controls.callType),c.Cb(3),c.mc("ngForOf",e.lstCallType),c.Cb(5),c.mc("ngModel",e.textData)("formControl",e.txtForm.controls.textData))},directives:[f.a,g.d,g.e,x.a,C.a,y.a,S.a,g.b,M.d,v.a,o.q,o.h,w.n,a.n,o.c],styles:[".heading[_ngcontent-%COMP%]{background:#1976d2;font-size:17px;height:0}.toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.icon-color[_ngcontent-%COMP%]{color:#fff}.img-style[_ngcontent-%COMP%]{width:32px}@media only screen and (max-width:375px){hr[_ngcontent-%COMP%]{width:255px}}@media only screen and (max-width:425px){hr[_ngcontent-%COMP%]{width:361px}}@media only screen and (min-width:768px){hr[_ngcontent-%COMP%]{width:705px}}@media only screen and (min-width:1024px){hr[_ngcontent-%COMP%]{width:1021px}}@media only screen and (min-width:1440px){hr[_ngcontent-%COMP%]{width:1095px}.textId[_ngcontent-%COMP%]{width:2000px}}@media only screen and (min-width:2560px){hr[_ngcontent-%COMP%]{width:2210px}.textId[_ngcontent-%COMP%]{width:2500px}}.position-fixed[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:0;z-index:5}"]}),t})();var O=n("M9IT"),_=n("Dh3D"),k=n("+0xr");let D=(()=>{class t{constructor(t){this.txtContent=t.dialogData}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(m.a))},t.\u0275cmp=c.Hb({type:t,selectors:[["fury-view-text"]],decls:2,vars:1,template:function(t,e){1&t&&(c.Tb(0,"p"),c.Rc(1),c.Sb()),2&t&&(c.Cb(1),c.Sc(e.txtContent))},styles:[""]}),t})();var I=n("EUZL"),N=n("KHMF"),F=n("xBcV"),R=n("Hbgg"),E=n("rnAf"),L=n("rvYj"),A=n("a+RD");function z(t,e){if(1&t&&(c.Tb(0,"th",17),c.Rc(1),c.Sb()),2&t){const t=c.fc(2).$implicit;c.Cb(1),c.Tc(" ",t.name,"")}}function U(t,e){if(1&t&&(c.Tb(0,"td",18),c.Rc(1),c.Sb()),2&t){const t=e.$implicit,n=c.fc(2).$implicit;c.Cb(1),c.Tc(" ",t[n.property]," ")}}function q(t,e){if(1&t&&(c.Rb(0,14),c.Pc(1,z,2,1,"th",15),c.Pc(2,U,2,1,"td",16),c.Qb()),2&t){const t=c.fc().$implicit;c.mc("matColumnDef",t.property)}}function V(t,e){if(1&t&&(c.Rb(0),c.Pc(1,q,3,1,"ng-container",13),c.Qb()),2&t){const t=e.$implicit;c.Cb(1),c.mc("ngIf",t.isModelProperty)}}function $(t,e){1&t&&c.Ob(0,"th",19)}function H(t,e){if(1&t){const t=c.Ub();c.Tb(0,"td",20),c.Tb(1,"button",21),c.bc("click",(function(){c.Ec(t);const n=e.$implicit;return c.fc().openDialog(n.textdata)})),c.Tb(2,"mat-icon"),c.Rc(3,"remove_red_eye"),c.Sb(),c.Sb(),c.Sb()}}function X(t,e){1&t&&c.Ob(0,"tr",22)}function j(t,e){1&t&&c.Ob(0,"tr",23)}const G=function(){return[]},K=[{path:"create-call-logs",component:T},{path:"view-call-logs",component:(()=>{class t{constructor(t,e,n,a,i,o,r,s){var c;this.telephoneCallService=t,this.router=e,this.dialog=n,this.date=a,this.cookieService=i,this.clientSelectionService=o,this.snackbar=r,this.envService=s,this.exportedData=[],this.ownerId=0,this.pageSize=10,this.dateFormat="",this.columns=[{name:"Date",property:"datetime",visible:!0,isModelProperty:!0},{name:"Call Type",property:"callType",visible:!0,isModelProperty:!0},{name:"Tenant Name",property:"tenantName",visible:!0,isModelProperty:!0},{name:"Text",property:"textdata",visible:!0,isModelProperty:!0},{name:"Actions",property:"actions",visible:!0}],this.dateFormat=null!==(c=Object(N.e)("DateFormat"))&&void 0!==c?c:s.dateFormat}set content(t){this.sort=t,this.sort&&(this.dataSource.sort=this.sort)}ngOnInit(){this.clientSelectionService.setIsClientVisible(!0),this.userId=this.cookieService.get("userId"),this.getData()}openDialog(t){const e=new m.e;e.disableClose=!1,e.autoFocus=!0,e.data={dialogData:t},this.dialog.open(D,e)}ngAfterViewInit(){this.dataSource.sortingDataAccessor=(t,e)=>{switch(e){case"datetime":return new Date(t.datetime);default:return t[e]}},this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}createCall(){this.router.navigateByUrl("telephonecallupdate/telephonecall")}get visibleColumns(){return this.columns.filter(t=>t.visible).map(t=>t.property)}onFilterChange(t){this.dataSource&&(t=(t=t.trim()).toLowerCase(),this.dataSource.filter=t)}getData(){this.ownerId=parseInt(this.cookieService.get("ownerId")),this.dataSource=new k.k(this.lstData),this.dateFormat=Object(N.e)("DateFormat"),this.telephoneCallService.getCalls(this.ownerId).subscribe(t=>{t&&(this.lstData=t,this.lstData.forEach(t=>{t.datetime=this.date.transform(t.datetime.toString(),this.dateFormat.toString())}),this.dataSource=new k.k(this.lstData),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.dataSource.sortingDataAccessor=(t,e)=>{switch(e){case"datetime":return new Date(t.datetime);default:return t[e]}})})}getJsonData(){this.exportedData=[],null!=this.lstData&&this.lstData.forEach(t=>{let e={Date:this.date.transform(t.datetime,"yyyy-MM-dd"),CallType:t.callType,TenantName:t.tenantName,Text:t.textdata};this.exportedData.push(e)})}notificationMessage(t,e){this.snackbar.open(t,null,{duration:5e3,verticalPosition:"top",horizontalPosition:"end",panelClass:[e]})}onExport(){if(this.lstData&&this.lstData.length>0){if(this.getJsonData(),null!=this.exportedData&&this.exportedData.length>0){const t=I.utils.json_to_sheet(this.exportedData),e=I.utils.book_new();I.utils.book_append_sheet(e,t,"Sheet1"),I.writeFile(e,"CallLogHistory.xlsx")}}else this.notificationMessage("No Data to Export","yellow-snackbar")}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(d),c.Nb(i.f),c.Nb(m.b),c.Nb(a.f),c.Nb(b.a),c.Nb(p.a),c.Nb(u.b),c.Nb(s.a))},t.\u0275cmp=c.Hb({type:t,selectors:[["fury-telephone-calls-list"]],viewQuery:function(t,e){var n;1&t&&(c.Jc(O.a,!0),c.Vc(_.a,!0)),2&t&&(c.zc(n=c.cc())&&(e.paginator=n.first),c.zc(n=c.cc())&&(e.content=n.first))},inputs:{columns:"columns"},decls:17,vars:8,consts:[["mode","card"],["current","Call Log History",3,"crumbs"],["name","Call Log History",3,"columns","filterChange"],[1,"actions"],["matTooltip","Export","mat-icon-button","","aria-label","Example icon-button with menu icon",1,"example-icon",3,"click"],["mat-table","","matSort","",3,"dataSource"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",4,"matRowDef","matRowDefColumns"],[1,"paginator",3,"pageSize"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"actions-cell"],["mat-cell","",1,"actions-cell"],["type","button","mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements"]],template:function(t,e){1&t&&(c.Tb(0,"fury-page-layout",0),c.Tb(1,"fury-page-layout-header"),c.Ob(2,"fury-breadcrumbs",1),c.Sb(),c.Tb(3,"fury-page-layout-content"),c.Tb(4,"fury-list",2),c.bc("filterChange",(function(t){return e.onFilterChange(t)})),c.Tb(5,"div",3),c.Tb(6,"button",4),c.bc("click",(function(){return e.onExport()})),c.Tb(7,"mat-icon"),c.Rc(8,"import_export"),c.Sb(),c.Sb(),c.Sb(),c.Tb(9,"table",5),c.Pc(10,V,2,1,"ng-container",6),c.Rb(11,7),c.Pc(12,$,1,0,"th",8),c.Pc(13,H,4,0,"td",9),c.Qb(),c.Pc(14,X,1,0,"tr",10),c.Pc(15,j,1,0,"tr",11),c.Sb(),c.Ob(16,"mat-paginator",12),c.Sb(),c.Sb(),c.Sb()),2&t&&(c.Cb(2),c.mc("crumbs",c.qc(7,G)),c.Cb(2),c.mc("columns",e.columns),c.Cb(5),c.mc("dataSource",e.dataSource),c.Cb(1),c.mc("ngForOf",e.columns),c.Cb(4),c.mc("matHeaderRowDef",e.visibleColumns),c.Cb(1),c.mc("matRowDefColumns",e.visibleColumns),c.Cb(1),c.mc("pageSize",e.pageSize))},directives:[F.a,R.a,E.a,L.a,A.a,C.a,S.a,y.a,k.j,_.a,a.n,k.c,k.e,k.b,k.g,k.i,O.a,a.o,k.d,_.b,k.a,k.f,k.h],styles:[".heading[_ngcontent-%COMP%]{background:#1976d2;font-size:17px;height:0}.child-1[_ngcontent-%COMP%]{font-weight:500;font-size:large}.child-1[_ngcontent-%COMP%], .child-2[_ngcontent-%COMP%]{background:#fff;min-height:85px;border:thin solid #ddd;padding:30px}img[_ngcontent-%COMP%]:hover, mat-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.custom-modalbox[_ngcontent-%COMP%]   mat-dialog-container[_ngcontent-%COMP%]{overflow:initial!important;padding:42px}.header[_ngcontent-%COMP%]{height:64px;min-height:64px;max-height:64px;padding-left:24px;padding-right:24px}.mail-list[_ngcontent-%COMP%]{height:100%}.border-bottom[_ngcontent-%COMP%]{display:flex}.content[_ngcontent-%COMP%]   .mail[_ngcontent-%COMP%]{height:54px;min-height:54px;max-height:54px;padding-left:24px;padding-right:12px;position:relative;transition:all .4s cubic-bezier(.25,.8,.25,1);cursor:pointer;outline:none;font:var(--font-body-1)}@media screen and (max-width:599px){.content[_ngcontent-%COMP%]   .mail[_ngcontent-%COMP%]{height:auto;max-height:none;padding-top:12px;padding-bottom:12px}}@media screen and (min-width:599px) and (max-width:959px){.content[_ngcontent-%COMP%]   .mail[_ngcontent-%COMP%]{height:auto;max-height:none;padding-top:12px;padding-bottom:12px}}.content[_ngcontent-%COMP%]   .mail.background-hover[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .mail.background-hover[_ngcontent-%COMP%]   .from[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .mail.background-hover[_ngcontent-%COMP%]   .subject[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .mail.background-hover[_ngcontent-%COMP%]   .when[_ngcontent-%COMP%]{font-weight:400}.content[_ngcontent-%COMP%]   .mail[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]{height:30px;width:30px;border-radius:50%}.content[_ngcontent-%COMP%]   .mail[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis}.content[_ngcontent-%COMP%]   .mail[_ngcontent-%COMP%]   .from[_ngcontent-%COMP%]{margin-left:5px}.content[_ngcontent-%COMP%]   .mail[_ngcontent-%COMP%]   .content1[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .mail[_ngcontent-%COMP%]   .from[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .mail[_ngcontent-%COMP%]   .subject[_ngcontent-%COMP%]{white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis;font-weight:500}.content[_ngcontent-%COMP%]   .mail[_ngcontent-%COMP%]   .content1[_ngcontent-%COMP%]{background-color:#1976d2}.content[_ngcontent-%COMP%]   .mail[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .mail[_ngcontent-%COMP%]   .when[_ngcontent-%COMP%]{white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis;font-weight:500}"]}),t})()}];let J=(()=>{class t{}return t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({factory:function(e){return new(e||t)},imports:[[i.j.forChild(K)],i.j]}),t})();var Q=n("YUcS"),B=n("KthW"),Y=n("WCGO"),Z=n("0jmt"),W=n("q8Jb"),tt=n("jJIU");let et=(()=>{class t{}return t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({factory:function(e){return new(e||t)},imports:[[a.c,J,o.l,M.f,o.w,Q.a,v.b,w.o,B.a,tt.a,o.l,B.a,Y.a,Z.a,W.a,m.g]]}),t})()},O3qS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n("sXtk"),i=n("fXoL"),o=n("tk/3");let r=(()=>{class t{constructor(t,e){this.http=t,this.envService=e,this.baseUrl="",this.baseUrl=e.backend}getMasterDetails(){return this.http.get(this.baseUrl+"/masterdetails")}getMasterDetailsById(t){return this.http.get(this.baseUrl+"/masterdetails/"+t)}getModes(){return this.http.get(this.baseUrl+"/masterdetails/getModes")}getParentModes(t){return this.http.get(this.baseUrl+"/masterdetails/getparentmodes/"+t)}createMasterDetails(t){return this.http.post(this.baseUrl+"/masterdetails/",t)}updateMasterDetails(t,e){return this.http.put(this.baseUrl+"/masterdetails/"+t,e)}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(o.c),i.Xb(a.a))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},YaQ2:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n("fXoL"),i=n("ofXK");function o(t,e){if(1&t&&(a.Tb(0,"small"),a.Rc(1),a.Ob(2,"br"),a.Sb()),2&t){const t=e.$implicit;a.Cb(1),a.Tc(" ",t," ")}}function r(t,e){if(1&t&&(a.Tb(0,"div"),a.Pc(1,o,3,1,"small",1),a.Sb()),2&t){const t=a.fc();a.Cb(1),a.mc("ngForOf",t.listOfErrors())}}let s=(()=>{class t{constructor(){this.PATTERN_ERROR_MESSAGE={"/^[a-zA-Z ]*$/":"Accepts only alphabets with spaces","/^[a-zA-Z0-9]*$/":"Accepts only alphanumeric values with no spaces","/^[a-zA-Z0-9 ]*$/":"Accepts only alphanumeric values with spaces","/^[0-9]*$/":"Accepts only numbers","^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{3,4}$":"Enter valid email address of format test@mail.com"},this.ERROR_MESSAGE={required:()=>"This field is required",minlength:t=>`Min ${t.requiredLength} chars is required but got only ${t.actualLength}`,maxlength:t=>`Max chars allowed is ${t.requiredLength} but got ${t.actualLength}`,pattern:t=>""+this.PATTERN_ERROR_MESSAGE[t.requiredPattern],email:()=>"Enter valid email address of format test@mail.com"}}ngOnInit(){}shouldShowErrors(){return this.ctrl&&this.ctrl.errors&&this.ctrl.touched}listOfErrors(){return Object.keys(this.ctrl.errors).map(t=>this.ERROR_MESSAGE[t](this.ctrl.getError(t)))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Hb({type:t,selectors:[["app-show-errors"]],inputs:{ctrl:"ctrl"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&a.Pc(0,r,2,1,"div",0),2&t&&a.mc("ngIf",e.shouldShowErrors())},directives:[i.o,i.n],styles:["small[_ngcontent-%COMP%]{color:red}"]}),t})()},"a+RD":function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var a=n("fXoL"),i=n("xgIS"),o=n("/uUt"),r=n("Kj3r"),s=n("ofXK"),c=n("STbY"),l=n("XiUz"),d=n("NFeN"),h=n("bTqV"),p=n("bSwM"),u=n("3Pt+");const m=["filter"];function b(t,e){if(1&t&&(a.Tb(0,"button",12),a.Tb(1,"mat-icon"),a.Rc(2,"filter_list"),a.Sb(),a.Sb()),2&t){a.fc(2);const t=a.Ac(3);a.mc("matMenuTriggerFor",t)}}function f(t,e){if(1&t&&(a.Tb(0,"div",5),a.Tb(1,"div",6),a.Rc(2),a.Sb(),a.Tb(3,"div",7),a.Tb(4,"mat-icon",8),a.Rc(5,"search"),a.Sb(),a.Ob(6,"input",9,10),a.Sb(),a.Pc(8,b,3,1,"button",11),a.kc(9,1),a.Sb()),2&t){const t=a.fc();a.Cb(2),a.Sc(t.name),a.Cb(6),a.mc("ngIf",!t.hideFilter)}}function g(t,e){if(1&t){const t=a.Ub();a.Tb(0,"button",13),a.bc("click",(function(n){a.Ec(t);const i=e.$implicit;return a.fc().toggleColumnVisibility(i,n)})),a.Tb(1,"mat-checkbox",14,15),a.bc("ngModelChange",(function(n){return a.Ec(t),e.$implicit.visible=n}))("click",(function(e){return a.Ec(t),e.stopPropagation()})),a.Rc(3),a.Sb(),a.Sb()}if(2&t){const t=e.$implicit;a.Cb(1),a.mc("ngModel",t.visible),a.Cb(2),a.Tc(" ",t.name," ")}}const x=["*",[["",8,"actions"]]],C=["*",".actions"];let y=(()=>{class t{constructor(){this.filterChange=new a.o}ngAfterViewInit(){this.hideHeader||Object(i.a)(this.filter.nativeElement,"keyup").pipe(Object(o.a)(),Object(r.a)(150)).subscribe(()=>{this.filterChange.emit(this.filter.nativeElement.value)})}toggleColumnVisibility(t,e){e.stopPropagation(),e.stopImmediatePropagation(),t.visible=!t.visible}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Hb({type:t,selectors:[["fury-list"]],viewQuery:function(t,e){var n;1&t&&a.Vc(m,!0),2&t&&a.zc(n=a.cc())&&(e.filter=n.first)},inputs:{name:"name",columns:"columns",hideHeader:"hideHeader",hideFilter:"hideFilter"},outputs:{filterChange:"filterChange"},ngContentSelectors:C,decls:6,vars:2,consts:[[1,"fury-list-table"],["class","fury-list-header","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px",4,"ngIf"],["yPosition","below","xPosition","before"],["columnFilter","matMenu"],["class","checkbox-item mat-menu-item",3,"click",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px",1,"fury-list-header"],[1,"fury-list-name"],["fxLayout","row","fxLayoutAlign","start center","fxFlex",""],[1,"fury-filter-input-icon"],["fxFlex","","placeholder","Search\u2026",1,"fury-filter-input"],["filter",""],["class","fury-column-filter","type","button","mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],["type","button","mat-icon-button","",1,"fury-column-filter",3,"matMenuTriggerFor"],[1,"checkbox-item","mat-menu-item",3,"click"],[1,"checkbox",3,"ngModel","ngModelChange","click"],["checkbox",""]],template:function(t,e){1&t&&(a.lc(x),a.Tb(0,"div",0),a.Pc(1,f,10,2,"div",1),a.Tb(2,"mat-menu",2,3),a.Pc(4,g,4,2,"button",4),a.Sb(),a.kc(5),a.Sb()),2&t&&(a.Cb(1),a.mc("ngIf",!e.hideHeader),a.Cb(3),a.mc("ngForOf",e.columns))},directives:[s.o,c.e,s.n,l.d,l.c,l.e,l.b,d.a,h.a,c.d,p.a,u.q,u.t],styles:[".fury-list-table{display:flex;flex-direction:column}.fury-list-table .fury-list-header{padding-left:24px;padding-right:24px;height:64px;border-top-left-radius:8px;border-top-right-radius:8px}@media screen and (max-width:599px){.fury-list-table .fury-list-header{height:auto;padding-top:24px;padding-bottom:24px}}.fury-list-table .fury-list-header .fury-list-name{font-size:20px;line-height:32px;font-weight:500;padding-right:24px}@media screen and (max-width:599px){.fury-list-table .fury-list-header .fury-list-name{border-right:none}}.fury-list-table .fury-list-header .fury-filter-input{font-size:16px;line-height:1.125;border:none;height:32px}.fury-list-table .fury-list-header .fury-filter-input:focus{outline:none}.fury-list-table .fury-list-header .fury-filter-input-icon{width:1.2em;vertical-align:bottom;height:22px;font-size:22px;margin-right:8px}.fury-list-table table{width:100%}.fury-list-table .mat-header-row .mat-header-cell .mat-sort-header-button{text-transform:uppercase}.fury-list-table .mat-cell.image-cell,.fury-list-table .mat-header-cell.image-cell{flex:0;width:59px}.fury-list-table .mat-cell.image-cell img,.fury-list-table .mat-header-cell.image-cell img{border-radius:50%;height:35px;width:35px;margin-right:24px;vertical-align:middle}.fury-list-table .mat-cell,.fury-list-table .mat-header-cell{white-space:nowrap;padding-left:12px;padding-right:12px}.fury-list-table .mat-cell.actions-cell,.fury-list-table .mat-header-cell.actions-cell{flex:0;width:40px;overflow:visible}.fury-list-table .paginator{display:block}"],encapsulation:2}),t})()},zP6O:function(t,e,n){"use strict";n.d(e,"a",(function(){return w}));var a=n("3Pt+"),i=n("0IaG"),o=n("/ptB"),r=n("O3qS"),s=n("xXXn"),c=n("fXoL"),l=n("dNgK"),d=n("/t3+"),h=n("bTqV"),p=n("NFeN"),u=n("MutI"),m=n("4FRi"),b=n("XiUz"),f=n("ofXK"),g=n("kmnG"),x=n("qFsG"),C=n("YaQ2"),y=n("/1cH"),S=n("FKr1");function M(t,e){if(1&t&&(c.Tb(0,"mat-option",20),c.Rc(1),c.Sb()),2&t){const t=e.$implicit;c.mc("value",t.description),c.Cb(1),c.Tc(" ",t.description," ")}}function v(t,e){if(1&t){const t=c.Ub();c.Tb(0,"mat-form-field",10),c.Tb(1,"mat-label"),c.Rc(2,"Parent Item"),c.Sb(),c.Tb(3,"input",16),c.bc("ngModelChange",(function(e){return c.Ec(t),c.fc().parentName=e})),c.Sb(),c.Tb(4,"mat-autocomplete",17,18),c.bc("optionSelected",(function(e){return c.Ec(t),c.fc().selectParentMode(e)})),c.Pc(6,M,2,2,"mat-option",19),c.Sb(),c.Sb()}if(2&t){const t=c.Ac(5),e=c.fc();c.Cb(3),c.mc("matAutocomplete",t)("ngModel",e.parentName),c.Cb(3),c.mc("ngForOf",e.filteredParentModes)}}let w=(()=>{class t{constructor(t,e,n,a,i,o){this.dialogRef=t,this.masterDetailsService=e,this.snackbar=n,this.dialog=a,this.modes=i,this.fb=o,this.isCancel=!1,this.parentExists=!1,this.modeId=0,this.parentId=0,this.parentName="",this.parentIdFilter=0,t.disableClose=!0}ngOnInit(){this.parentId=this.modes[0],this.modeId=this.modes[1],this.parentIdFilter=null==this.modes[2]?0:this.modes[2],this.defaults=new o.a({}),this.form=this.fb.group({parentId:[this.defaults.parentId||""],parentName:[this.defaults.parentName||""],description:[this.defaults.description||"",a.y.required]}),this.modeId&&(this.parentExists=!1,this.form.controls.parentName.clearValidators(),this.form.controls.parentName.markAsUntouched(),this.masterDetailsService.getParentModes(this.modeId).subscribe(t=>{if(t){this.parentIdFilter>0&&(t=t.filter(t=>t.id==this.parentIdFilter)),this.filteredParentModes=t,this.metadataParentModes=t;let e=t.filter(t=>t.id==this.parentId);e&&e.length>0&&(this.parentName=e[0].description,this.form.controls.parentId.setValue(e[0].id)),t&&t.length>0&&(this.parentExists=!0,this.form.controls.parentName.setValidators([a.y.required]))}}),this.form.controls.parentName.updateValueAndValidity()),this.form.controls.parentName.valueChanges.subscribe(t=>{this.filteredParentModes=this.filterParentMode(t)})}filterParentMode(t){return this.metadataParentModes.filter(e=>0===e.description.toLowerCase().indexOf(t.toLowerCase()))}save(){this.isCancel?(this.isCancel=!1,this.dialog.open(s.a,{data:{label:"Are you sure you want to Cancel?",selected:!1}}).afterClosed().subscribe(t=>{t&&this.dialogRef.close()})):(Object.assign(this.defaults,this.form.value),this.defaults.mode=this.modeId,""==this.form.controls.parentId.value&&(this.defaults.parentId=0),this.masterDetailsService.createMasterDetails(this.defaults).subscribe(t=>{t?(this.notificationMessage("Master Details Created Successfully.","green-snackbar"),this.dialogRef.close("Success")):this.notificationMessage("Master Details Creation Failed.","red-snackbar")}))}notificationMessage(t,e){this.snackbar.open(t,null,{duration:5e3,verticalPosition:"top",horizontalPosition:"end",panelClass:[e]})}selectParentMode(t){this.metadataParentModes.forEach(e=>{t.option.value==e.description&&(this.form.controls.parentName.setValue(e.description),this.form.controls.parentId.setValue(e.id))})}close(){this.dialogRef.close()}closeDialog(){this.isCancel=!0}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(i.h),c.Nb(r.a),c.Nb(l.b),c.Nb(i.b),c.Nb(i.a),c.Nb(a.f))},t.\u0275cmp=c.Hb({type:t,selectors:[["fury-create-user-master"]],decls:27,vars:4,consts:[["mat-dialog-title",""],["role","toolbar",1,"task-header"],[1,"fx-spacer"],["mat-icon-button","",3,"click"],["title","Close","mat-list-icon",""],[3,"formGroup","ngSubmit"],[1,"mat-dlg-content"],[1,"person","padding-top"],["fxLayout","column","fxLayout.gt-sm","row","fxLayoutGap.gt-sm","20px"],["fxFlex","",4,"ngIf"],["fxFlex",""],["type","text","formControlName","description","matInput",""],[3,"ctrl"],["fxLayout","row","fxLayoutAlign","end center"],["mat-button","",3,"click"],["mat-button","",3,"disabled"],["matInput","","formControlName","parentName",3,"matAutocomplete","ngModel","ngModelChange"],[3,"optionSelected"],["parent","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(c.Tb(0,"div",0),c.Tb(1,"mat-toolbar",1),c.Tb(2,"span"),c.Rc(3,"Create Master Details"),c.Sb(),c.Ob(4,"span",2),c.Tb(5,"button",3),c.bc("click",(function(){return e.close()})),c.Tb(6,"mat-icon",4),c.Rc(7,"close"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Tb(8,"form",5),c.bc("ngSubmit",(function(){return e.save()})),c.Tb(9,"mat-dialog-content",6),c.Tb(10,"fury-card"),c.Tb(11,"fury-card-content"),c.Tb(12,"div",7),c.Tb(13,"div",8),c.Pc(14,v,7,3,"mat-form-field",9),c.Tb(15,"mat-form-field",10),c.Tb(16,"mat-label"),c.Rc(17,"Item Name"),c.Sb(),c.Ob(18,"input",11),c.Ob(19,"app-show-errors",12),c.Tb(20,"mat-hint"),c.Rc(21,"Please enter Item Name"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Tb(22,"mat-dialog-actions",13),c.Tb(23,"button",14),c.bc("click",(function(){return e.closeDialog()})),c.Rc(24,"CANCEL"),c.Sb(),c.Tb(25,"button",15),c.Rc(26,"CREATE MASTER DETAILS"),c.Sb(),c.Sb(),c.Sb()),2&t&&(c.Cb(8),c.mc("formGroup",e.form),c.Cb(6),c.mc("ngIf",1==e.parentExists),c.Cb(5),c.mc("ctrl",e.form.get("description")),c.Cb(6),c.mc("disabled",!e.form.valid))},directives:[i.i,d.a,h.a,p.a,u.c,a.z,a.r,a.k,i.f,m.a,m.c,b.d,b.e,f.o,g.d,b.b,g.h,a.c,x.b,a.q,a.i,C.a,g.g,i.c,b.c,y.c,y.a,f.n,S.n],styles:[".task-header[_ngcontent-%COMP%]{background-color:transparent;padding:0 5px;height:20px}.fx-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),t})()}}]);