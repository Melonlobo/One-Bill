(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{Itff:function(t,e,i){"use strict";i.r(e),i.d(e,"LoginreportModule",(function(){return G}));var a=i("ofXK"),n=i("0jmt"),o=i("KthW"),r=i("tyNb"),l=i("M9IT"),c=i("Dh3D"),s=i("+0xr"),u=i("jtHE"),b=i("pLZG"),m=i("Ku73"),f=i("nStZ"),p=i("Y0L5"),d=i("hKI3"),h=i("EUZL"),g=i("a8hA"),y=i("fXoL"),x=i("dNgK"),S=i("b6Qw"),w=i("xBcV"),C=i("Hbgg"),v=i("rnAf"),T=i("rvYj"),k=i("a+RD"),D=i("bTqV"),P=i("Qu3c"),L=i("NFeN"),R=i("bSwM");function I(t,e){if(1&t){const t=y.Ub();y.Tb(0,"th",16),y.Tb(1,"mat-checkbox",17),y.bc("click",(function(e){return y.Ec(t),e.stopPropagation()})),y.Sb(),y.Sb()}}function F(t,e){if(1&t){const t=y.Ub();y.Tb(0,"td",18),y.Tb(1,"mat-checkbox",17),y.bc("click",(function(e){return y.Ec(t),e.stopPropagation()})),y.Sb(),y.Sb()}}function M(t,e){1&t&&y.Ob(0,"th",19)}function O(t,e){if(1&t&&(y.Tb(0,"td",20),y.Ob(1,"img",21),y.Sb()),2&t){const t=e.$implicit;y.Cb(1),y.oc("src","http://i.pravatar.cc/30?u=",t.name,"",y.Gc)}}function j(t,e){if(1&t&&(y.Tb(0,"th",26),y.Rc(1),y.Sb()),2&t){const t=y.fc(2).$implicit;y.Cb(1),y.Tc(" ",t.name," ")}}function A(t,e){if(1&t&&(y.Tb(0,"td",27),y.Rc(1),y.Sb()),2&t){const t=e.$implicit,i=y.fc(2).$implicit;y.Cb(1),y.Tc(" ",t[i.property]," ")}}function E(t,e){if(1&t&&(y.Rb(0,23),y.Pc(1,j,2,1,"th",24),y.Pc(2,A,2,1,"td",25),y.Qb()),2&t){const t=y.fc().$implicit;y.mc("matColumnDef",t.property)}}function N(t,e){if(1&t&&(y.Rb(0),y.Pc(1,E,3,1,"ng-container",22),y.Qb()),2&t){const t=e.$implicit;y.Cb(1),y.mc("ngIf",t.isModelProperty)}}function $(t,e){1&t&&y.Ob(0,"tr",28)}function H(t,e){1&t&&y.Ob(0,"tr",29)}const z=function(){return[]},V=[{path:"",component:(()=>{class t{constructor(t,e,i,a){this.loginReportService=t,this.snackbar=e,this.clientSelectionService=i,this.cookieService=a,this.subject$=new u.a(1),this.data$=this.subject$.asObservable(),this.columns=[{name:"User",property:"accountNumber",visible:!0,isModelProperty:!0},{name:"Login Time",property:"loginTime",visible:!0,isModelProperty:!0},{name:"Logout Time",property:"logoutTime",visible:!0,isModelProperty:!0},{name:"IP Address",property:"ipAddress",visible:!0,isModelProperty:!0}],this.pageSize=8}set content(t){this.sort=t,this.sort&&(this.dataSource.sort=this.sort)}get visibleColumns(){return this.columns.filter(t=>t.visible).map(t=>t.property)}ngOnInit(){this.clientSelectionService.setIsClientVisible(!1),this.userid=this.cookieService.get("userId"),this.getAllloginDetails(this.userid)}getAllloginDetails(t){this.loginReportService.getLoginUserDetails(t).subscribe(t=>{t=t.map(t=>new d.a(t)),this.subject$.next(t)}),this.dataSource=new s.k,this.data$.pipe(Object(b.a)(t=>!!t)).subscribe(t=>{this.loginDetails=t,this.dataSource.data=t}),this.ngAfterViewInit()}onFilterChange(t){this.dataSource&&(t=(t=t.trim()).toLowerCase(),this.dataSource.filter=t)}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}ngOnDestroy(){}getJsonData(){this.tableData=[],this.loginDetails.forEach(t=>{this.tableData.push({AccountNumber:t.accountNumber,LoginTime:t.loginTime,LogoutTime:t.logoutTime,IPAddress:t.ipAddress})})}notificationMessage(t,e){this.snackbar.open(t,null,{duration:5e3,verticalPosition:"top",horizontalPosition:"end",panelClass:[e]})}onExport(){if(this.loginDetails&&this.loginDetails.length>0){this.getJsonData();const t=h.utils.json_to_sheet(this.tableData),e=h.utils.book_new();h.utils.book_append_sheet(e,t,"Sheet1"),h.writeFile(e,"Login Report.xlsx")}else this.notificationMessage("No Data to Export","yellow-snackbar")}}return t.\u0275fac=function(e){return new(e||t)(y.Nb(p.a),y.Nb(x.b),y.Nb(g.a),y.Nb(S.a))},t.\u0275cmp=y.Hb({type:t,selectors:[["loginreport"]],viewQuery:function(t,e){var i;1&t&&(y.Jc(l.a,!0),y.Vc(c.a,!0)),2&t&&(y.zc(i=y.cc())&&(e.paginator=i.first),y.zc(i=y.cc())&&(e.content=i.first))},inputs:{columns:"columns"},decls:20,vars:10,consts:[["mode","card"],["current","Login Report",3,"crumbs"],["name","Login Report",3,"columns","filterChange"],[1,"actions"],["matTooltip","Export","mat-icon-button","","aria-label","Example icon-button with menu icon",1,"example-icon",3,"click"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","checkbox"],["class","actions-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],["matColumnDef","image"],["class","image-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","image-cell","mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",4,"matRowDef","matRowDefColumns"],[1,"paginator",3,"pageSize"],["mat-header-cell","",1,"actions-cell"],["color","primary",3,"click"],["mat-cell","",1,"actions-cell"],["mat-header-cell","",1,"image-cell"],["mat-cell","",1,"image-cell"],[3,"src"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements"]],template:function(t,e){1&t&&(y.Tb(0,"fury-page-layout",0),y.Tb(1,"fury-page-layout-header"),y.Ob(2,"fury-breadcrumbs",1),y.Sb(),y.Tb(3,"fury-page-layout-content"),y.Tb(4,"fury-list",2),y.bc("filterChange",(function(t){return e.onFilterChange(t)})),y.Tb(5,"div",3),y.Tb(6,"button",4),y.bc("click",(function(){return e.onExport()})),y.Tb(7,"mat-icon"),y.Rc(8,"import_export"),y.Sb(),y.Sb(),y.Sb(),y.Tb(9,"table",5),y.Rb(10,6),y.Pc(11,I,2,0,"th",7),y.Pc(12,F,2,0,"td",8),y.Qb(),y.Rb(13,9),y.Pc(14,M,1,0,"th",10),y.Pc(15,O,2,1,"td",11),y.Qb(),y.Pc(16,N,2,1,"ng-container",12),y.Pc(17,$,1,0,"tr",13),y.Pc(18,H,1,0,"tr",14),y.Sb(),y.Ob(19,"mat-paginator",15),y.Sb(),y.Sb(),y.Sb()),2&t&&(y.Cb(2),y.mc("@fadeInRight",void 0)("crumbs",y.qc(9,z)),y.Cb(1),y.mc("@fadeInUp",void 0),y.Cb(1),y.mc("columns",e.columns),y.Cb(5),y.mc("dataSource",e.dataSource),y.Cb(7),y.mc("ngForOf",e.columns),y.Cb(1),y.mc("matHeaderRowDef",e.visibleColumns),y.Cb(1),y.mc("matRowDefColumns",e.visibleColumns),y.Cb(1),y.mc("pageSize",e.pageSize))},directives:[w.a,C.a,v.a,T.a,k.a,D.a,P.a,L.a,s.j,c.a,s.c,s.e,s.b,a.n,s.g,s.i,l.a,s.d,R.a,s.a,a.o,c.b,s.f,s.h],styles:[""],data:{animation:[m.a,f.a]}}),t})()}];let K=(()=>{class t{}return t.\u0275mod=y.Lb({type:t}),t.\u0275inj=y.Kb({factory:function(e){return new(e||t)},imports:[[r.j.forChild(V)],r.j]}),t})();var U=i("WCGO"),Q=i("q8Jb");let G=(()=>{class t{}return t.\u0275mod=y.Lb({type:t}),t.\u0275inj=y.Kb({factory:function(e){return new(e||t)},imports:[[a.c,K,o.a,U.a,n.a,Q.a]]}),t})()},"a+RD":function(t,e,i){"use strict";i.d(e,"a",(function(){return S}));var a=i("fXoL"),n=i("xgIS"),o=i("/uUt"),r=i("Kj3r"),l=i("ofXK"),c=i("STbY"),s=i("XiUz"),u=i("NFeN"),b=i("bTqV"),m=i("bSwM"),f=i("3Pt+");const p=["filter"];function d(t,e){if(1&t&&(a.Tb(0,"button",12),a.Tb(1,"mat-icon"),a.Rc(2,"filter_list"),a.Sb(),a.Sb()),2&t){a.fc(2);const t=a.Ac(3);a.mc("matMenuTriggerFor",t)}}function h(t,e){if(1&t&&(a.Tb(0,"div",5),a.Tb(1,"div",6),a.Rc(2),a.Sb(),a.Tb(3,"div",7),a.Tb(4,"mat-icon",8),a.Rc(5,"search"),a.Sb(),a.Ob(6,"input",9,10),a.Sb(),a.Pc(8,d,3,1,"button",11),a.kc(9,1),a.Sb()),2&t){const t=a.fc();a.Cb(2),a.Sc(t.name),a.Cb(6),a.mc("ngIf",!t.hideFilter)}}function g(t,e){if(1&t){const t=a.Ub();a.Tb(0,"button",13),a.bc("click",(function(i){a.Ec(t);const n=e.$implicit;return a.fc().toggleColumnVisibility(n,i)})),a.Tb(1,"mat-checkbox",14,15),a.bc("ngModelChange",(function(i){return a.Ec(t),e.$implicit.visible=i}))("click",(function(e){return a.Ec(t),e.stopPropagation()})),a.Rc(3),a.Sb(),a.Sb()}if(2&t){const t=e.$implicit;a.Cb(1),a.mc("ngModel",t.visible),a.Cb(2),a.Tc(" ",t.name," ")}}const y=["*",[["",8,"actions"]]],x=["*",".actions"];let S=(()=>{class t{constructor(){this.filterChange=new a.o}ngAfterViewInit(){this.hideHeader||Object(n.a)(this.filter.nativeElement,"keyup").pipe(Object(o.a)(),Object(r.a)(150)).subscribe(()=>{this.filterChange.emit(this.filter.nativeElement.value)})}toggleColumnVisibility(t,e){e.stopPropagation(),e.stopImmediatePropagation(),t.visible=!t.visible}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Hb({type:t,selectors:[["fury-list"]],viewQuery:function(t,e){var i;1&t&&a.Vc(p,!0),2&t&&a.zc(i=a.cc())&&(e.filter=i.first)},inputs:{name:"name",columns:"columns",hideHeader:"hideHeader",hideFilter:"hideFilter"},outputs:{filterChange:"filterChange"},ngContentSelectors:x,decls:6,vars:2,consts:[[1,"fury-list-table"],["class","fury-list-header","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px",4,"ngIf"],["yPosition","below","xPosition","before"],["columnFilter","matMenu"],["class","checkbox-item mat-menu-item",3,"click",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px",1,"fury-list-header"],[1,"fury-list-name"],["fxLayout","row","fxLayoutAlign","start center","fxFlex",""],[1,"fury-filter-input-icon"],["fxFlex","","placeholder","Search\u2026",1,"fury-filter-input"],["filter",""],["class","fury-column-filter","type","button","mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],["type","button","mat-icon-button","",1,"fury-column-filter",3,"matMenuTriggerFor"],[1,"checkbox-item","mat-menu-item",3,"click"],[1,"checkbox",3,"ngModel","ngModelChange","click"],["checkbox",""]],template:function(t,e){1&t&&(a.lc(y),a.Tb(0,"div",0),a.Pc(1,h,10,2,"div",1),a.Tb(2,"mat-menu",2,3),a.Pc(4,g,4,2,"button",4),a.Sb(),a.kc(5),a.Sb()),2&t&&(a.Cb(1),a.mc("ngIf",!e.hideHeader),a.Cb(3),a.mc("ngForOf",e.columns))},directives:[l.o,c.e,l.n,s.d,s.c,s.e,s.b,u.a,b.a,c.d,m.a,f.q,f.t],styles:[".fury-list-table{display:flex;flex-direction:column}.fury-list-table .fury-list-header{padding-left:24px;padding-right:24px;height:64px;border-top-left-radius:8px;border-top-right-radius:8px}@media screen and (max-width:599px){.fury-list-table .fury-list-header{height:auto;padding-top:24px;padding-bottom:24px}}.fury-list-table .fury-list-header .fury-list-name{font-size:20px;line-height:32px;font-weight:500;padding-right:24px}@media screen and (max-width:599px){.fury-list-table .fury-list-header .fury-list-name{border-right:none}}.fury-list-table .fury-list-header .fury-filter-input{font-size:16px;line-height:1.125;border:none;height:32px}.fury-list-table .fury-list-header .fury-filter-input:focus{outline:none}.fury-list-table .fury-list-header .fury-filter-input-icon{width:1.2em;vertical-align:bottom;height:22px;font-size:22px;margin-right:8px}.fury-list-table table{width:100%}.fury-list-table .mat-header-row .mat-header-cell .mat-sort-header-button{text-transform:uppercase}.fury-list-table .mat-cell.image-cell,.fury-list-table .mat-header-cell.image-cell{flex:0;width:59px}.fury-list-table .mat-cell.image-cell img,.fury-list-table .mat-header-cell.image-cell img{border-radius:50%;height:35px;width:35px;margin-right:24px;vertical-align:middle}.fury-list-table .mat-cell,.fury-list-table .mat-header-cell{white-space:nowrap;padding-left:12px;padding-right:12px}.fury-list-table .mat-cell.actions-cell,.fury-list-table .mat-header-cell.actions-cell{flex:0;width:40px;overflow:visible}.fury-list-table .paginator{display:block}"],encapsulation:2}),t})()}}]);