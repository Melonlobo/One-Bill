(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{AxlJ:function(e,t,i){var n,r,o;o=function(e){function t(e,t,i,n){e.hasOwnProperty(t)||(e[t]=n.apply(null,i))}t(e=e?e._modules:{},"Extensions/FullScreen.js",[e["Core/Chart/Chart.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],(function(e,t,i){var n=i.addEvent;return i=function(){function e(e){this.chart=e,this.isOpen=!1,e=e.renderTo,this.browserProps||("function"==typeof e.requestFullscreen?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:e.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:e.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:e.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}return e.prototype.close=function(){var e=this.chart;this.isOpen&&this.browserProps&&e.container.ownerDocument instanceof Document&&e.container.ownerDocument[this.browserProps.exitFullscreen](),this.unbindFullscreenEvent&&this.unbindFullscreenEvent(),this.isOpen=!1,this.setButtonText()},e.prototype.open=function(){var e=this,t=e.chart;if(e.browserProps){e.unbindFullscreenEvent=n(t.container.ownerDocument,e.browserProps.fullscreenChange,(function(){e.isOpen?(e.isOpen=!1,e.close()):(e.isOpen=!0,e.setButtonText())}));var i=t.renderTo[e.browserProps.requestFullscreen]();i&&i.catch((function(){alert("Full screen is not supported inside a frame.")})),n(t,"destroy",e.unbindFullscreenEvent)}},e.prototype.setButtonText=function(){var e,t=this.chart,i=t.exportDivElements,n=t.options.exporting,r=null===(e=null==n?void 0:n.buttons)||void 0===e?void 0:e.contextButton.menuItems;e=t.options.lang,null!=n&&n.menuItemDefinitions&&null!=e&&e.exitFullscreen&&e.viewFullscreen&&r&&i&&i.length&&(i[r.indexOf("viewFullscreen")].innerHTML=this.isOpen?e.exitFullscreen:n.menuItemDefinitions.viewFullscreen.text||e.viewFullscreen)},e.prototype.toggle=function(){this.isOpen?this.close():this.open()},e}(),t.Fullscreen=i,n(e,"beforeRender",(function(){this.fullscreen=new t.Fullscreen(this)})),t.Fullscreen})),t(e,"Mixins/Navigation.js",[],(function(){return{initUpdate:function(e){e.navigation||(e.navigation={updates:[],update:function(e,t){this.updates.forEach((function(i){i.update.call(i.context,e,t)}))}})},addUpdate:function(e,t){t.navigation||this.initUpdate(t),t.navigation.updates.push({update:e,context:t})}}})),t(e,"Extensions/Exporting.js",[e["Core/Chart/Chart.js"],e["Mixins/Navigation.js"],e["Core/Globals.js"],e["Core/Options.js"],e["Core/Renderer/SVG/SVGRenderer.js"],e["Core/Utilities.js"]],(function(e,t,i,n,r,o){var s=i.doc,a=i.isTouchDevice,l=i.win;n=n.defaultOptions;var c=o.addEvent,p=o.css,h=o.createElement,u=o.discardElement,d=o.extend,m=o.find,f=o.fireEvent,g=o.isObject,b=o.merge,x=o.objectEach,y=o.pick,v=o.removeEvent,w=o.uniqueKey,C=l.navigator.userAgent,S=i.Renderer.prototype.symbols,T=/Edge\/|Trident\/|MSIE /.test(C),M=/firefox/i.test(C);d(n.lang,{viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"}),n.navigation||(n.navigation={}),b(!0,n.navigation,{buttonOptions:{theme:{},symbolSize:14,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,verticalAlign:"top",width:24}}),b(!0,n.navigation,{menuStyle:{border:"1px solid #999999",background:"#ffffff",padding:"5px 0"},menuItemStyle:{padding:"0.5em 1em",color:"#333333",background:"none",fontSize:a?"14px":"11px",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#335cad",color:"#ffffff"},buttonOptions:{symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{padding:5}}}),n.exporting={type:"image/png",url:"https://export.highcharts.com/",printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:"viewFullscreen printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){this.fullscreen.toggle()}},printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},i.post=function(e,t,i){var n=h("form",b({method:"post",action:e,enctype:"multipart/form-data"},i),{display:"none"},s.body);x(t,(function(e,t){h("input",{type:"hidden",name:t,value:e},null,n)})),n.submit(),u(n)},i.isSafari&&i.win.matchMedia("print").addListener((function(e){i.printingChart&&(e.matches?i.printingChart.beforePrint():i.printingChart.afterPrint())})),d(e.prototype,{sanitizeSVG:function(e,t){var i=e.indexOf("</svg>")+6,n=e.substr(i);return e=e.substr(0,i),t&&t.exporting&&t.exporting.allowHTML&&n&&(n='<foreignObject x="0" y="0" width="'+t.chart.width+'" height="'+t.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+n.replace(/(<(?:img|br).*?(?=>))>/g,"$1 />")+"</body></foreignObject>",e=e.replace("</svg>",n+"</svg>")),e=e.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;);?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (|NS[0-9]+:)href=/g," xlink:href=").replace(/\n/," ").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g,"\xa0").replace(/&shy;/g,"\xad"),this.ieSanitizeSVG&&(e=this.ieSanitizeSVG(e)),e},getChartHTML:function(){return this.styledMode&&this.inlineStyles(),this.container.innerHTML},getSVG:function(t){var i,n=b(this.options,t);n.plotOptions=b(this.userOptions.plotOptions,t&&t.plotOptions),n.time=b(this.userOptions.time,t&&t.time);var r=h("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},s.body),o=this.renderTo.style.width,a=this.renderTo.style.height;o=n.exporting.sourceWidth||n.chart.width||/px$/.test(o)&&parseInt(o,10)||(n.isGantt?800:600),a=n.exporting.sourceHeight||n.chart.height||/px$/.test(a)&&parseInt(a,10)||400,d(n.chart,{animation:!1,renderTo:r,forExport:!0,renderer:"SVGRenderer",width:o,height:a}),n.exporting.enabled=!1,delete n.data,n.series=[],this.series.forEach((function(e){(i=b(e.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:e.visible})).isInternal||n.series.push(i)})),this.axes.forEach((function(e){e.userOptions.internalKey||(e.userOptions.internalKey=w())}));var l=new e(n,this.callback);return t&&["xAxis","yAxis","series"].forEach((function(e){var i={};t[e]&&(i[e]=t[e],l.update(i))})),this.axes.forEach((function(e){var t=m(l.axes,(function(t){return t.options.internalKey===e.userOptions.internalKey})),i=e.getExtremes(),n=i.userMin;i=i.userMax,t&&(void 0!==n&&n!==t.min||void 0!==i&&i!==t.max)&&t.setExtremes(n,i,!0,!1)})),o=l.getChartHTML(),f(this,"getSVG",{chartCopy:l}),o=this.sanitizeSVG(o,n),n=null,l.destroy(),u(r),o},getSVGForExport:function(e,t){var i=this.options.exporting;return this.getSVG(b({chart:{borderRadius:0}},i.chartOptions,t,{exporting:{sourceWidth:e&&e.sourceWidth||i.sourceWidth,sourceHeight:e&&e.sourceHeight||i.sourceHeight}}))},getFilename:function(){var e=this.userOptions.title&&this.userOptions.title.text,t=this.options.exporting.filename;return t?t.replace(/\//g,"-"):("string"==typeof e&&(t=e.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z0-9\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!t||5>t.length)&&(t="chart"),t)},exportChart:function(e,t){t=this.getSVGForExport(e,t),e=b(this.options.exporting,e),i.post(e.url,{filename:e.filename?e.filename.replace(/\//g,"-"):this.getFilename(),type:e.type,width:e.width||0,scale:e.scale,svg:t},e.formAttributes)},moveContainers:function(e){(this.fixedDiv?[this.fixedDiv,this.scrollingContainer]:[this.container]).forEach((function(t){e.appendChild(t)}))},beforePrint:function(){var e=s.body,t=this.options.exporting.printMaxWidth,i={childNodes:e.childNodes,origDisplay:[],resetParams:void 0};this.isPrinting=!0,this.pointer.reset(null,0),f(this,"beforePrint"),t&&this.chartWidth>t&&(i.resetParams=[this.options.chart.width,void 0,!1],this.setSize(t,void 0,!1)),[].forEach.call(i.childNodes,(function(e,t){1===e.nodeType&&(i.origDisplay[t]=e.style.display,e.style.display="none")})),this.moveContainers(e),this.printReverseInfo=i},afterPrint:function(){if(this.printReverseInfo){var e=this.printReverseInfo.childNodes,t=this.printReverseInfo.origDisplay,n=this.printReverseInfo.resetParams;this.moveContainers(this.renderTo),[].forEach.call(e,(function(e,i){1===e.nodeType&&(e.style.display=t[i]||"")})),this.isPrinting=!1,n&&this.setSize.apply(this,n),delete this.printReverseInfo,delete i.printingChart,f(this,"afterPrint")}},print:function(){var e=this;e.isPrinting||(i.printingChart=e,i.isSafari||e.beforePrint(),setTimeout((function(){l.focus(),l.print(),i.isSafari||setTimeout((function(){e.afterPrint()}),1e3)}),1))},contextMenu:function(e,t,i,n,r,a,u){var m=this,b=m.options.navigation,x=m.chartWidth,y=m.chartHeight,v="cache-"+e,w=m[v],C=Math.max(r,a);if(!w){m.exportContextMenu=m[v]=w=h("div",{className:e},{position:"absolute",zIndex:1e3,padding:C+"px",pointerEvents:"auto"},m.fixedDiv||m.container);var S=h("ul",{className:"highcharts-menu"},{listStyle:"none",margin:0,padding:0},w);m.styledMode||p(S,d({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},b.menuStyle)),w.hideMenu=function(){p(w,{display:"none"}),u&&u.setState(0),m.openMenu=!1,p(m.renderTo,{overflow:"hidden"}),o.clearTimeout(w.hideTimer),f(m,"exportMenuHidden")},m.exportEvents.push(c(w,"mouseleave",(function(){w.hideTimer=l.setTimeout(w.hideMenu,500)})),c(w,"mouseenter",(function(){o.clearTimeout(w.hideTimer)})),c(s,"mouseup",(function(t){m.pointer.inClass(t.target,e)||w.hideMenu()})),c(w,"click",(function(){m.openMenu&&w.hideMenu()}))),t.forEach((function(e){if("string"==typeof e&&(e=m.options.exporting.menuItemDefinitions[e]),g(e,!0)){if(e.separator)var t=h("hr",null,null,S);else"viewData"===e.textKey&&m.isDataTableVisible&&(e.textKey="hideData"),t=h("li",{className:"highcharts-menu-item",onclick:function(t){t&&t.stopPropagation(),w.hideMenu(),e.onclick&&e.onclick.apply(m,arguments)},innerHTML:e.text||m.options.lang[e.textKey]},null,S),m.styledMode||(t.onmouseover=function(){p(this,b.menuItemHoverStyle)},t.onmouseout=function(){p(this,b.menuItemStyle)},p(t,d({cursor:"pointer"},b.menuItemStyle)));m.exportDivElements.push(t)}})),m.exportDivElements.push(S,w),m.exportMenuWidth=w.offsetWidth,m.exportMenuHeight=w.offsetHeight}t={display:"block"},i+m.exportMenuWidth>x?t.right=x-i-r-C+"px":t.left=i-C+"px",n+a+m.exportMenuHeight>y&&"top"!==u.alignOptions.verticalAlign?t.bottom=y-n-C+"px":t.top=n+a-C+"px",p(w,t),p(m.renderTo,{overflow:""}),m.openMenu=!0,f(m,"exportMenuShown")},addButton:function(e){var t=this,i=t.renderer,n=b(t.options.navigation.buttonOptions,e),r=n.onclick,o=n.menuItems,s=n.symbolSize||12;if(t.btnCount||(t.btnCount=0),t.exportDivElements||(t.exportDivElements=[],t.exportSVGElements=[]),!1!==n.enabled){var a,l=n.theme,c=l.states,p=c&&c.hover;c=c&&c.select,t.styledMode||(l.fill=y(l.fill,"#ffffff"),l.stroke=y(l.stroke,"none")),delete l.states,r?a=function(e){e&&e.stopPropagation(),r.call(t,e)}:o&&(a=function(e){e&&e.stopPropagation(),t.contextMenu(h.menuClassName,o,h.translateX,h.translateY,h.width,h.height,h),h.setState(2)}),n.text&&n.symbol?l.paddingLeft=y(l.paddingLeft,25):n.text||d(l,{width:n.width,height:n.height,padding:0}),t.styledMode||(l["stroke-linecap"]="round",l.fill=y(l.fill,"#ffffff"),l.stroke=y(l.stroke,"none"));var h=i.button(n.text,0,0,a,l,p,c).addClass(e.className).attr({title:y(t.options.lang[n._titleKey||n.titleKey],"")});if(h.menuClassName=e.menuClassName||"highcharts-menu-"+t.btnCount++,n.symbol){var u=i.symbol(n.symbol,n.symbolX-s/2,n.symbolY-s/2,s,s,{width:s,height:s}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(h);t.styledMode||u.attr({stroke:n.symbolStroke,fill:n.symbolFill,"stroke-width":n.symbolStrokeWidth||1})}h.add(t.exportingGroup).align(d(n,{width:h.width,x:y(n.x,t.buttonOffset)}),!0,"spacingBox"),t.buttonOffset+=(h.width+n.buttonSpacing)*("right"===n.align?-1:1),t.exportSVGElements.push(h,u)}},destroyExport:function(e){var t,i=e?e.target:this,n=i.exportDivElements,r=i.exportEvents;(e=i.exportSVGElements)&&(e.forEach((function(e,n){e&&(e.onclick=e.ontouchstart=null,i[t="cache-"+e.menuClassName]&&delete i[t],i.exportSVGElements[n]=e.destroy())})),e.length=0),i.exportingGroup&&(i.exportingGroup.destroy(),delete i.exportingGroup),n&&(n.forEach((function(e,t){o.clearTimeout(e.hideTimer),v(e,"mouseleave"),i.exportDivElements[t]=e.onmouseout=e.onmouseover=e.ontouchstart=e.onclick=null,u(e)})),n.length=0),r&&(r.forEach((function(e){e()})),r.length=0)}}),r.prototype.inlineToAttributes="fill stroke strokeLinecap strokeLinejoin strokeWidth textAnchor x y".split(" "),r.prototype.inlineBlacklist=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/],r.prototype.unstyledElements=["clipPath","defs","desc"],e.prototype.inlineStyles=function(){function e(e){return e.replace(/([A-Z])/g,(function(e,t){return"-"+t.toLowerCase()}))}var t,i=this.renderer,n=i.inlineToAttributes,r=i.inlineBlacklist,o=i.inlineWhitelist,a=i.unstyledElements,c={};i=s.createElement("iframe"),p(i,{width:"1px",height:"1px",visibility:"hidden"}),s.body.appendChild(i);var h=i.contentWindow.document;h.open(),h.write('<svg xmlns="http://www.w3.org/2000/svg"></svg>'),h.close(),function i(s){function p(t,i){if(u=d=!1,o){for(m=o.length;m--&&!d;)d=o[m].test(i);u=!d}for("transform"===i&&"none"===t&&(u=!0),m=r.length;m--&&!u;)u=r[m].test(i)||"function"==typeof t;u||y[i]===t&&"svg"!==s.nodeName||c[s.nodeName][i]===t||(n&&-1===n.indexOf(i)?f+=e(i)+":"+t+";":t&&s.setAttribute(e(i),t))}var u,d,m,f="";if(1===s.nodeType&&-1===a.indexOf(s.nodeName)){var g=l.getComputedStyle(s,null),y="svg"===s.nodeName?{}:l.getComputedStyle(s.parentNode,null);if(!c[s.nodeName]){t=h.getElementsByTagName("svg")[0];var v=h.createElementNS(s.namespaceURI,s.nodeName);t.appendChild(v),c[s.nodeName]=b(l.getComputedStyle(v,null)),"text"===s.nodeName&&delete c.text.fill,t.removeChild(v)}if(M||T)for(var w in g)p(g[w],w);else x(g,p);f&&(g=s.getAttribute("style"),s.setAttribute("style",(g?g+";":"")+f)),"svg"===s.nodeName&&s.setAttribute("stroke-width","1px"),"text"!==s.nodeName&&[].forEach.call(s.children||s.childNodes,i)}}(this.container.querySelector("svg")),t.parentNode.remove(),i.remove()},S.menu=function(e,t,i,n){return[["M",e,t+2.5],["L",e+i,t+2.5],["M",e,t+n/2+.5],["L",e+i,t+n/2+.5],["M",e,t+n-1.5],["L",e+i,t+n-1.5]]},S.menuball=function(e,t,i,n){return[].concat(this.circle(i-(n=n/3-2),t,n,n),this.circle(i-n,t+n+4,n,n),this.circle(i-n,t+2*(n+4),n,n))},e.prototype.renderExporting=function(){var e=this,t=e.options.exporting,i=t.buttons,n=e.isDirtyExporting||!e.exportSVGElements;e.buttonOffset=0,e.isDirtyExporting&&e.destroyExport(),n&&!1!==t.enabled&&(e.exportEvents=[],e.exportingGroup=e.exportingGroup||e.renderer.g("exporting-group").attr({zIndex:3}).add(),x(i,(function(t){e.addButton(t)})),e.isDirtyExporting=!1),c(e,"destroy",e.destroyExport)},c(e,"init",(function(){var e=this;e.exporting={update:function(t,i){e.isDirtyExporting=!0,b(!0,e.options.exporting,t),y(i,!0)&&e.redraw()}},t.addUpdate((function(t,i){e.isDirtyExporting=!0,b(!0,e.options.navigation,t),y(i,!0)&&e.redraw()}),e)})),e.prototype.callbacks.push((function(e){e.renderExporting(),c(e,"redraw",e.renderExporting)}))})),t(e,"masters/modules/exporting.src.js",[],(function(){}))},e.exports?(o.default=o,e.exports=o):(n=[i("6n/F")],void 0===(r=(function(e){return o(e),o.Highcharts=e,o}).apply(t,n))||(e.exports=r))},WFQN:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("tk/3"),r=i("sXtk"),o=i("fXoL");let s=(()=>{class e{constructor(e,t){this.http=e,this.envService=t,this.baseUrl="",this.baseUrl=t.backend}getReplacedMeters(e){return this.http.get(this.baseUrl+"/devicelistreplacements/clientId/"+e)}createMeterReplacement(e){return this.http.post(this.baseUrl+"/devicelistreplacements/",e)}GetUtilityTypes(e){let t=new n.f;return t=t.append("clientId",""+e),this.http.get(this.baseUrl+"/devicelistreplacements/UtilityTypes",{params:t})}getAllUnits(e,t){let i=new n.f;return i=i.append("clientId",""+e),i=i.append("utilityTypeId",""+t),this.http.get(this.baseUrl+"/devicelistreplacements/Units",{params:i})}GetActiveDevices(e,t){let i=new n.f;return i=i.append("clientId",""+e),i=i.append("utilityTypeId",""+t),this.http.get(this.baseUrl+"/devicelistreplacements/ActiveDevices",{params:i})}getMeterErrorDetails(e){return this.http.post(this.baseUrl+"/devicelistreplacements/MeterError",e)}GetParametersList(){return this.http.get(this.baseUrl+"/devicelistreplacements/Parameters")}getDeviceDataDetails(e){return this.http.post(this.baseUrl+"/devicelistreplacements/DeviceData",e)}GetMeterList(e){let t=new n.f;return t=t.append("clientId",""+e),this.http.get(this.baseUrl+"/devicelistreplacements/MeterList",{params:t})}getDeviceGroupMeterList(e,t,i="0"){let r=new n.f;return r=r.append("meterTypeId",""+e),r=r.append("groupId",""+t),r=r.append("clientId",""+i),this.http.get(this.baseUrl+"/devicelistreplacements/type/group/meterList",{params:r})}getV1DeviceGroupMeterList(e,t,i="0"){let r=new n.f;return r=r.append("meterTypeId",""+e),r=r.append("groupId",""+t),r=r.append("clientId",""+i),this.http.get(this.baseUrl+"/devicelistreplacements/v1/type/group/meterListFilterByClient",{params:r})}getV1DeviceGroupMeterListWithoutFlowTypeFilter(e,t,i="0"){let r=new n.f;return r=r.append("meterTypeId",""+e),r=r.append("groupId",""+t),r=r.append("clientId",""+i),this.http.get(this.baseUrl+"/devicelistreplacements/V1/type/group/meterListFilterByClientWithoutFlowTypeFilter",{params:r})}getV1MeterList(e=0){let t=new n.f;return t=t.append("clientId",""+e),this.http.get(this.baseUrl+"/devicelistreplacements/v1/meterListFilterByClient",{params:t})}getClients(){return this.http.get(this.baseUrl+"/devicelistreplacements/v1/clients")}getV1MeterGroupList(e=0){let t=new n.f;return t=t.append("meterTypeId",""+e),this.http.get(this.baseUrl+"/devicelistreplacements/v1/meterGroups",{params:t})}}return e.\u0275fac=function(t){return new(t||e)(o.Xb(n.c),o.Xb(r.a))},e.\u0275prov=o.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},aVV8:function(e,t,i){"use strict";i.r(t),i.d(t,"ParameterChartModule",(function(){return A}));var n=i("ofXK"),r=i("tyNb"),o=i("Nr/g"),s=i("wd/R"),a=i("6n/F"),l=(i("DaQG"),i("rjUY")),c=i.n(l),p=i("AxlJ"),h=i.n(p),u=i("Tos5"),d=i.n(u),m=i("dDrv"),f=i("WFQN"),g=i("KHMF"),b=i("sXtk"),x=i("fXoL"),y=i("b6Qw"),v=i("XiUz"),w=i("/t3+"),C=i("znSr"),S=i("Wp6s"),T=i("kmnG"),M=i("d3UM"),F=i("3Pt+"),E=i("qFsG"),P=i("f0Cb"),D=i("iadO"),k=i("bTqV"),I=i("FKr1");function N(e,t){1&e&&(x.Tb(0,"div",20),x.Ob(1,"mat-progress-spinner",21),x.Sb())}function O(e,t){if(1&e&&(x.Tb(0,"mat-option",22),x.Rc(1),x.Sb()),2&e){const e=t.$implicit;x.mc("value",e.description),x.Cb(1),x.Sc(e.description)}}function G(e,t){if(1&e&&(x.Tb(0,"mat-option",22),x.Rc(1),x.Sb()),2&e){const e=t.$implicit;x.mc("value",e.id),x.Cb(1),x.Sc(e.deviceName)}}function L(e,t){if(1&e&&(x.Tb(0,"mat-option",22),x.Rc(1),x.Sb()),2&e){const e=t.$implicit;x.mc("value",e.id),x.Cb(1),x.Tc(" ",e.description,"")}}h()(a),c()(a),d()(a);const R=[{path:"",component:(()=>{class e{constructor(e,t,i,n,r,o,s){var a;this.parameterChartService=e,this.meterReplacementService=t,this.date=i,this.decimalPipe=n,this.estidamaChartService=r,this.cookieService=o,this.envService=s,this.showSpinner=!1,this.chartData={},this.fromDate=new Date,this.barChartOptions={},this.meters=[],this.filtermeters=[],this.parameters=[],this.parameterName="",this.meterTypes=[],this.meterTypeName="",this.meterGroupList=[],this.meterGroup=null,this.lstMeterGroup=[],this.dateFormat="",this.dateFormat=null!==(a=Object(g.e)("DateFormat"))&&void 0!==a?a:s.dateFormat}ngOnInit(){const e=this.cookieService.get("filterData");if(e){let t=JSON.parse(e);this.clientId=""==t.strClientId?"0":t.strClientId}this.getMeterTypes()}getMeterTypes(){this.meterTypes=[],this.meters=[],this.parameters=[],this.estidamaChartService.getMeterTypes().subscribe(e=>{if(e){const t=e.meterTypeList;t&&t.forEach(e=>{this.meterTypes.push({id:e.meterTypeID,description:e.meterTypeName})}),this.meterTypeId=this.meterTypes[0].id,this.meterTypeName=this.meterTypes[0].description,this.onMeterTypeChange()}})}onMeterTypeChange(e=null){e&&(this.meterTypeName=e.value),this.meterTypes.find(e=>{e.description==this.meterTypeName&&(this.meterTypeId=e.id)}),this.getMeters(),this.getParameters()}getMeters(){var e;this.meters=[],this.filtermeters=[],this.meterReplacementService.getV1DeviceGroupMeterList(null!==(e=this.meterTypeId)&&void 0!==e?e:0,0,this.clientId).subscribe(e=>{e&&(this.meters=this.filtermeters=e)})}getParameters(){this.parameters=[],this.parameterChartService.getParameters(this.meterTypeName).subscribe(e=>{e&&(this.parameters=e)})}viewParameterChart(){this.showSpinner=!0;let e="";e=s(this.fromDate).format("YYYY-MM-DD");let t={labels:[],datas:[]};this.barChartOptions=this.setLineChart(t),document.getElementById("pccontainer")&&a.chart("pccontainer",this.barChartOptions),null!=this.meterId&&null!=this.parameterId&&this.parameterChartService.viewParameterChart(this.meterId,this.parameterId,this.meterTypeName,e).subscribe({next:e=>{if(e){this.chartData=e.hourlyChart,e.hourlyChart.forEach(e=>{t.labels.push(e.name),t.datas.push(Number(e.value))});let i="";if(e.hourlyConsumption){const t=e.hourlyConsumption;i=t.substr(t.indexOf(" ")+1)}this.barChartOptions=this.setLineChart(t,i),document.getElementById("pccontainer")&&a.chart("pccontainer",this.barChartOptions),this.showSpinner=!1}},error:e=>{this.showSpinner=!1}})}setBarChart(e,t=""){return{lang:{noData:"No data to display"},noData:{style:{fontWeight:"bold",fontSize:"15px"}},chart:{height:325,width:1e3,type:"column"},credits:{enabled:!1},title:{text:"Parameter Chart",style:{fontFamily:"Roboto",fontWeight:10}},subtitle:{text:null},xAxis:{categories:e.labels,title:{text:"Hours",style:{fontSize:"12px",fontFamily:"Roboto"}}},yAxis:{min:0,title:{text:t,style:{fontSize:"12px",fontFamily:"Roboto"}}},legend:{itemStyle:{color:"#000000",fontWeight:"normal",fontFamily:"Roboto"},layout:"horizontal",align:"center",verticalAlign:"top",x:0,y:0,floating:!1,shadow:!1},tooltip:{formatter:function(){return this.x+": "+this.y}},plotOptions:{column:{pointPadding:.2,borderWidth:0,pointWidth:30,color:"#008ECC"}},series:[{name:this.parameterName+(this.fromDate?" - "+this.date.transform(this.fromDate,this.dateFormat.toString()):""),data:e.datas,type:"column"}]}}setLineChart(e,t=""){return{title:{text:"Parameter Chart",style:{fontFamily:"Roboto",fontWeight:10}},subtitle:{text:null},xAxis:{categories:e.labels,title:{text:"Hours",style:{fontSize:"12px",fontFamily:"Roboto"}}},yAxis:{title:{text:t,style:{fontSize:"12px",fontFamily:"Roboto"}}},legend:{layout:"vertical",align:"center",verticalAlign:"top"},tooltip:{formatter:function(){return this.x+": "+this.y}},plotOptions:{series:{label:{connectorAllowed:!1}}},series:[{name:this.parameterName+(this.fromDate?" - "+this.date.transform(this.fromDate,this.dateFormat.toString()):""),data:e.datas}],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]},chart:{height:325,width:1e3},credits:{enabled:!1}}}onMeterChange(e){this.meters.filter(t=>{t.id==e.value&&(this.meterId=t.id)})}onParameterChange(e){this.parameters.filter(t=>{t.id==e.value&&(this.parameterId=t.id,this.parameterName=t.description)})}search(e){let t=this.select(e);this.meters=t}select(e){let t=[];if(e)for(let i of this.filtermeters)i.deviceName.toLowerCase().indexOf(e)>-1&&t.push(i);else t=this.filtermeters;return t}}return e.\u0275fac=function(t){return new(t||e)(x.Nb(o.a),x.Nb(f.a),x.Nb(n.f),x.Nb(n.g),x.Nb(m.a),x.Nb(y.a),x.Nb(b.a))},e.\u0275cmp=x.Hb({type:e,selectors:[["fury-parameter-chart"]],decls:29,vars:9,consts:[["fxLayout","column",2,"padding","27px"],["class","loading-indicator",4,"ngIf"],["color","primary","fxLayout","row","fxLayout.xs","column",1,"position-fixed"],["src","assets/img/fav-icon.png",1,"img-style",3,"fxHide.xs"],["fxLayout","row","fxLayout.xs","column"],["fxLayout","column",1,"padding-top"],["fxLayout","row","fxLayout.xs","column","fxLayoutGap","2%",2,"width","60%"],["name","meterType","id","meterTypeId","placeholder","Select a Meter Type",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["fxFlex",""],["id","meterId","placeholder","Select a Meter",3,"selectionChange"],["matInput","","focused","'true'","type","text","autocomplete","off","placeholder","search",1,"myInput",3,"keyup"],["myInput",""],["id","parameterId","placeholder","Select a Parameter",3,"selectionChange"],["matInput","","placeholder","Date",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["fromDat",""],["color","primary","mat-raised-button","",1,"common-buttons",2,"align-content","center","text-align","center !important",3,"click"],["fxLayout","row","fxLayoutGap","10%"],["id","pccontainer"],[1,"loading-indicator"],["mode","indeterminate","color","accent"],[3,"value"]],template:function(e,t){if(1&e&&(x.Tb(0,"div",0),x.Pc(1,N,2,0,"div",1),x.Tb(2,"mat-toolbar",2),x.Ob(3,"img",3),x.Tb(4,"span",4),x.Rc(5,"Parameter Chart "),x.Sb(),x.Sb(),x.Tb(6,"mat-card",5),x.Tb(7,"div",6),x.Tb(8,"mat-form-field"),x.Tb(9,"mat-select",7),x.bc("ngModelChange",(function(e){return t.meterTypeName=e}))("selectionChange",(function(e){return t.onMeterTypeChange(e)})),x.Pc(10,O,2,2,"mat-option",8),x.Sb(),x.Sb(),x.Tb(11,"mat-form-field",9),x.Tb(12,"mat-select",10),x.bc("selectionChange",(function(e){return t.onMeterChange(e)})),x.Tb(13,"input",11,12),x.bc("keyup",(function(e){return t.search(e.target.value)})),x.Sb(),x.Ob(15,"mat-divider"),x.Pc(16,G,2,2,"mat-option",8),x.Sb(),x.Sb(),x.Tb(17,"mat-form-field",9),x.Tb(18,"mat-select",13),x.bc("selectionChange",(function(e){return t.onParameterChange(e)})),x.Pc(19,L,2,2,"mat-option",8),x.Sb(),x.Sb(),x.Tb(20,"mat-form-field"),x.Tb(21,"input",14),x.bc("ngModelChange",(function(e){return t.fromDate=e})),x.Sb(),x.Ob(22,"mat-datepicker-toggle",15),x.Ob(23,"mat-datepicker",null,16),x.Sb(),x.Tb(25,"button",17),x.bc("click",(function(){return t.viewParameterChart()})),x.Rc(26,"APPLY"),x.Sb(),x.Sb(),x.Sb(),x.Tb(27,"mat-card",18),x.Ob(28,"div",19),x.Sb(),x.Sb()),2&e){const e=x.Ac(24);x.Cb(1),x.mc("ngIf",t.showSpinner),x.Cb(2),x.mc("fxHide.xs",!0),x.Cb(6),x.mc("ngModel",t.meterTypeName),x.Cb(1),x.mc("ngForOf",t.meterTypes),x.Cb(6),x.mc("ngForOf",t.meters),x.Cb(3),x.mc("ngForOf",t.parameters),x.Cb(2),x.mc("matDatepicker",e)("ngModel",t.fromDate),x.Cb(1),x.mc("for",e)}},directives:[v.d,n.o,w.a,C.b,S.a,v.e,T.d,M.a,F.q,F.t,n.n,v.b,E.b,P.a,D.b,F.c,D.d,T.j,D.a,k.a,I.n],styles:['.common-buttons[_ngcontent-%COMP%]{height:50%;margin-top:10px}.myInput[_ngcontent-%COMP%]{height:50px!important;padding:10px!important}.img-style[_ngcontent-%COMP%]{width:32px}.position-fixed[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:0;z-index:5}.loading-indicator[_ngcontent-%COMP%]{position:fixed;z-index:999;height:2em;width:2em;overflow:show;margin:auto;top:0;left:0;bottom:0;right:0}.loading-indicator[_ngcontent-%COMP%]:before{content:"";display:block;position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.3)}.mat-button-wrapper[_ngcontent-%COMP%]{text-align:center!important}.mat-raised-button[_ngcontent-%COMP%]{text-align:center}']}),e})()}];let V=(()=>{class e{}return e.\u0275mod=x.Lb({type:e}),e.\u0275inj=x.Kb({factory:function(t){return new(t||e)},imports:[[r.j.forChild(R)],r.j]}),e})();var U=i("NFeN"),W=i("YUcS"),z=i("bSwM");let A=(()=>{class e{}return e.\u0275mod=x.Lb({type:e}),e.\u0275inj=x.Kb({factory:function(t){return new(t||e)},providers:[n.f,n.g],imports:[[n.c,V,F.l,F.w,W.a,k.b,E.c,T.f,M.b,I.o,w.b,S.g,z.b,D.c,U.b,P.b]]}),e})()}}]);