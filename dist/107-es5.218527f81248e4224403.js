!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,a,i){return a&&t(e.prototype,a),i&&t(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[107],{h00q:function(t,i,n){"use strict";n.r(i),n.d(i,"CreateOwnerModule",(function(){return Et}));var s=n("ofXK"),o=n("3Pt+"),r=n("q8Jb"),c=n("0jmt"),l=n("KthW"),u=n("tyNb"),d=n("M9IT"),b=n("Dh3D"),m=n("+0xr"),f=n("jtHE"),h=n("pLZG"),p=n("0IaG"),g=n("JyMN"),v=n("zyfE"),y=n("sOHO"),S=n("qIvx"),T=n("seMb"),C=n("UcNE"),w=n("Vvus"),k=n("/D9e"),O=n("kLqA"),N=n("6zYn"),D=n("Iab2"),x=n("zSPf"),I=n("tB66"),R=n("xXXn"),P=n("KHMF"),A=n("zP6O"),M=n("sXtk"),E=n("fXoL"),U=n("dNgK"),V=n("b6Qw"),F=n("/t3+"),L=n("bTqV"),$=n("NFeN"),z=n("MutI"),j=n("4FRi"),_=n("XiUz"),q=n("1jcm"),Q=n("wZkO"),B=n("kmnG"),G=n("qFsG"),H=n("/1cH"),K=n("YaQ2"),J=n("iadO"),W=n("Qu3c"),X=n("znSr"),Y=n("FKr1"),Z=n("bSwM"),ee=["fileInput"];function te(e,t){if(1&e){var a=E.Ub();E.Tb(0,"mat-slide-toggle",91),E.bc("change",(function(e){return E.Ec(a),E.fc().toggleLoginEnabled(e)})),E.Rc(1,"Login Enabled "),E.Sb()}if(2&e){var i=E.fc();E.mc("checked",i.isLoginEnabled)}}function ae(e,t){if(1&e&&(E.Tb(0,"mat-form-field",92),E.Tb(1,"mat-label"),E.Rc(2,"Company Name"),E.Sb(),E.Ob(3,"input",93),E.Ob(4,"app-show-errors",20),E.Tb(5,"mat-hint"),E.Rc(6,"Owner Name cannot be Greater than 100"),E.Sb(),E.Sb()),2&e){var a=E.fc();E.Cb(4),E.mc("ctrl",null==a.form?null:a.form.get("ownerName"))}}function ie(e,t){if(1&e){var a=E.Ub();E.Tb(0,"mat-form-field",94),E.Tb(1,"mat-label"),E.Rc(2,"TRN"),E.Sb(),E.Tb(3,"input",95),E.bc("change",(function(){return E.Ec(a),E.fc().checkTRNDuplication()}))("keyup",(function(){return E.Ec(a),E.fc().checkTRNDuplication()})),E.Sb(),E.Tb(4,"mat-hint",96),E.Rc(5),E.Sb(),E.Sb()}if(2&e){var i=E.fc();E.Cb(5),E.Sc(i.duplicateTRN)}}function ne(e,t){if(1&e&&(E.Tb(0,"mat-option",97),E.Rc(1),E.Sb()),2&e){var a=t.$implicit;E.mc("value",a.description),E.Cb(1),E.Tc(" ",a.description," ")}}function se(e,t){if(1&e&&(E.Tb(0,"mat-hint",98),E.Rc(1),E.Sb()),2&e){var a=E.fc();E.Cb(1),E.Sc(a.errorMessage)}}function oe(e,t){if(1&e&&(E.Tb(0,"mat-option",97),E.Rc(1),E.Tb(2,"mat-icon"),E.Rc(3),E.Sb(),E.Sb()),2&e){var a=t.$implicit;E.mc("value",a.description),E.Cb(1),E.Tc("",a.description," "),E.Cb(2),E.Sc(a.defaultValue)}}function re(e,t){if(1&e&&(E.Tb(0,"mat-option",97),E.Rc(1),E.Sb()),2&e){var a=t.$implicit;E.mc("value",a.description),E.Cb(1),E.Tc(" ",a.description,"")}}function ce(e,t){if(1&e&&(E.Tb(0,"mat-option",97),E.Rc(1),E.Sb()),2&e){var a=t.$implicit;E.mc("value",a.description),E.Cb(1),E.Tc(" ",a.description,"")}}function le(e,t){if(1&e&&(E.Tb(0,"mat-hint",98),E.Rc(1),E.Sb()),2&e){var a=E.fc();E.Cb(1),E.Sc(a.errorMessage)}}function ue(e,t){if(1&e){var a=E.Ub();E.Tb(0,"th",99),E.Tb(1,"mat-checkbox",100),E.bc("click",(function(e){return E.Ec(a),e.stopPropagation()})),E.Sb(),E.Sb()}}function de(e,t){if(1&e){var a=E.Ub();E.Tb(0,"td",101),E.Tb(1,"mat-checkbox",100),E.bc("click",(function(e){return E.Ec(a),e.stopPropagation()})),E.Sb(),E.Sb()}}function be(e,t){1&e&&E.Ob(0,"th",102)}function me(e,t){if(1&e&&(E.Tb(0,"td",103),E.Ob(1,"img",104),E.Sb()),2&e){var a=t.$implicit;E.Cb(1),E.oc("src","http://i.pravatar.cc/30?u=",a.name,"",E.Gc)}}function fe(e,t){1&e&&(E.Tb(0,"td",101),E.Tb(1,"mat-icon"),E.Rc(2,"more_horiz"),E.Sb(),E.Sb())}function he(e,t){if(1&e&&(E.Tb(0,"th",108),E.Rc(1),E.Sb()),2&e){var a=E.fc(2).$implicit;E.Cb(1),E.Tc(" ",a.name,"")}}function pe(e,t){if(1&e&&(E.Tb(0,"td",109),E.Rc(1),E.Sb()),2&e){var a=t.$implicit,i=E.fc(2).$implicit;E.Cb(1),E.Tc(" ",a[i.property]," ")}}function ge(e,t){if(1&e&&(E.Rb(0,106),E.Pc(1,he,2,1,"th",107),E.Pc(2,pe,2,1,"td",82),E.Qb()),2&e){var a=E.fc().$implicit;E.mc("matColumnDef",a.property)}}function ve(e,t){if(1&e&&(E.Rb(0),E.Pc(1,ge,3,1,"ng-container",105),E.Qb()),2&e){var a=t.$implicit;E.Cb(1),E.mc("ngIf",a.isModelProperty)}}function ye(e,t){1&e&&(E.Tb(0,"th",110),E.Rc(1,"File Name"),E.Sb())}function Se(e,t){if(1&e){var a=E.Ub();E.Tb(0,"td",109),E.Tb(1,"span",111),E.bc("click",(function(){E.Ec(a);var e=t.$implicit;return E.fc().downloadDocument(e)})),E.Rc(2),E.Sb(),E.Sb()}if(2&e){var i=t.$implicit;E.Cb(2),E.Sc(i.document)}}function Te(e,t){1&e&&(E.Tb(0,"th",99),E.Rc(1,"Action"),E.Sb())}function Ce(e,t){if(1&e){var a=E.Ub();E.Tb(0,"td",112),E.bc("click",(function(){E.Ec(a);var e=t.$implicit;return E.fc().deleteDocument(e)})),E.Tb(1,"mat-icon",113),E.Rc(2,"delete"),E.Sb(),E.Sb()}}function we(e,t){1&e&&E.Ob(0,"tr",114)}function ke(e,t){1&e&&E.Ob(0,"tr",115)}function Oe(e,t){if(1&e&&(E.Tb(0,"mat-option",97),E.Rc(1),E.Sb()),2&e){var a=t.$implicit;E.mc("value",a.description),E.Cb(1),E.Tc(" ",a.description," ")}}function Ne(e,t){if(1&e){var a=E.Ub();E.Tb(0,"th",99),E.Tb(1,"mat-checkbox",100),E.bc("click",(function(e){return E.Ec(a),e.stopPropagation()})),E.Sb(),E.Sb()}}function De(e,t){if(1&e){var a=E.Ub();E.Tb(0,"td",101),E.Tb(1,"mat-checkbox",100),E.bc("click",(function(e){return E.Ec(a),e.stopPropagation()})),E.Sb(),E.Sb()}}function xe(e,t){1&e&&E.Ob(0,"th",102)}function Ie(e,t){if(1&e&&(E.Tb(0,"td",103),E.Ob(1,"img",104),E.Sb()),2&e){var a=t.$implicit;E.Cb(1),E.oc("src","http://i.pravatar.cc/30?u=",a.name,"",E.Gc)}}function Re(e,t){1&e&&(E.Tb(0,"td",101),E.Tb(1,"mat-icon"),E.Rc(2,"more_horiz"),E.Sb(),E.Sb())}function Pe(e,t){if(1&e&&(E.Tb(0,"th",108),E.Rc(1),E.Sb()),2&e){var a=E.fc(2).$implicit;E.Cb(1),E.Tc(" ",a.name,"")}}function Ae(e,t){if(1&e&&(E.Tb(0,"td",109),E.Rc(1),E.Sb()),2&e){var a=t.$implicit,i=E.fc(2).$implicit;E.Cb(1),E.Tc(" ",a[i.property]," ")}}function Me(e,t){if(1&e&&(E.Rb(0,106),E.Pc(1,Pe,2,1,"th",107),E.Pc(2,Ae,2,1,"td",82),E.Qb()),2&e){var a=E.fc().$implicit;E.mc("matColumnDef",a.property)}}function Ee(e,t){if(1&e&&(E.Rb(0),E.Pc(1,Me,3,1,"ng-container",105),E.Qb()),2&e){var a=t.$implicit;E.Cb(1),E.mc("ngIf",a.isModelProperty)}}function Ue(e,t){1&e&&(E.Tb(0,"th",99),E.Rc(1,"Modify"),E.Sb())}function Ve(e,t){if(1&e){var a=E.Ub();E.Tb(0,"td",112),E.bc("click",(function(){E.Ec(a);var e=t.$implicit;return E.fc(2).deleteOwnership(e)})),E.Tb(1,"mat-icon",113),E.Rc(2,"delete"),E.Sb(),E.Sb()}}function Fe(e,t){1&e&&E.Ob(0,"tr",114)}function Le(e,t){1&e&&E.Ob(0,"tr",115)}function $e(e,t){if(1&e){var a=E.Ub();E.Tb(0,"mat-tab",116),E.Tb(1,"fury-card-content",14),E.Tb(2,"div",37),E.Tb(3,"div",6),E.Tb(4,"div",26),E.Tb(5,"mat-form-field",27),E.Tb(6,"mat-label"),E.Rc(7,"Unit"),E.Sb(),E.Ob(8,"input",117),E.Tb(9,"mat-autocomplete",17,118),E.bc("optionSelected",(function(e){return E.Ec(a),E.fc().selectUnit(e)})),E.Pc(11,Oe,2,2,"mat-option",19),E.Sb(),E.Ob(12,"app-show-errors",20),E.Sb(),E.Tb(13,"mat-form-field",27),E.Tb(14,"mat-label"),E.Rc(15,"Start Date"),E.Sb(),E.Ob(16,"input",119),E.Ob(17,"app-show-errors",20),E.Sb(),E.Tb(18,"button",120),E.bc("click",(function(){return E.Ec(a),E.fc().saveOwnership()})),E.Rc(19,"CREATE OWNERSHIP"),E.Sb(),E.Sb(),E.Sb(),E.Sb(),E.Tb(20,"table",71),E.Rb(21,72),E.Pc(22,Ne,2,0,"th",73),E.Pc(23,De,2,0,"td",74),E.Qb(),E.Rb(24,75),E.Pc(25,xe,1,0,"th",76),E.Pc(26,Ie,2,1,"td",77),E.Qb(),E.Rb(27,78),E.Tb(28,"th"),E.Rc(29,"Modify"),E.Sb(),E.Pc(30,Re,3,0,"td",74),E.Qb(),E.Pc(31,Ee,2,1,"ng-container",79),E.Rb(32,83),E.Pc(33,Ue,2,0,"th",73),E.Pc(34,Ve,3,0,"td",84),E.Qb(),E.Pc(35,Fe,1,0,"tr",85),E.Pc(36,Le,1,0,"tr",86),E.Sb(),E.Tb(37,"div"),E.Rc(38),E.Sb(),E.Sb(),E.Sb()}if(2&e){var i=E.Ac(10),n=E.fc();E.Cb(2),E.mc("formGroup",n.form.controls.ownerships),E.Cb(6),E.mc("matAutocomplete",i),E.Cb(3),E.mc("ngForOf",n.filteredUnits),E.Cb(1),E.mc("ctrl",n.form.controls.ownerships.get("unitId")),E.Cb(5),E.mc("ctrl",n.form.controls.ownerships.get("startDate")),E.Cb(1),E.mc("disabled",""===n.form.controls.ownerships.get("unit").value||null===n.form.controls.ownerships.get("unitId").value||""===n.form.controls.ownerships.get("startDate").value),E.Cb(2),E.mc("dataSource",n.ownershipdataSource),E.Cb(11),E.mc("ngForOf",n.ownershipcolumns),E.Cb(4),E.mc("matHeaderRowDef",n.ownershipVisibleColumns),E.Cb(1),E.mc("matRowDefColumns",n.ownershipVisibleColumns),E.Cb(2),E.Tc(" ",n.length,"")}}function ze(e,t){if(1&e&&(E.Tb(0,"button",121),E.Rc(1,"CREATE OWNER/TENANT"),E.Sb()),2&e){var a=E.fc();E.mc("disabled",!a.form.valid||!a.form.controls.address.valid||!a.form.controls.bank.valid||""!=a.duplicateTRN)}}function je(e,t){if(1&e&&(E.Tb(0,"button",121),E.Rc(1,"UPDATE OWNER/TENANT"),E.Sb()),2&e){var a=E.fc();E.mc("disabled",!a.form.valid||!a.form.controls.address.valid||!a.form.controls.bank.valid||""!=a.duplicateTRN)}}var _e,qe=((_e=function(){function t(a,i,n,s,o,r,c,l,u,d,b,m,h,p){var g;e(this,t),this.defaults=a,this.ownerService=i,this.date=n,this.dialogRef=s,this.fb=o,this.metadataService=r,this.fv=c,this.constantsService=l,this.fileService=u,this.masterService=d,this.snackbar=b,this.dialog=m,this.cookieService=h,this.envService=p,this.baseUrl="",this.fileSize=0,this.today=new Date,this.mode="create",this.isCancel=!1,this.dateFormat="",this.addressTypeId=24,this.documents=[],this.duplicateTRN="",this.parameterValue=!0,this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{3,4}$",this.isUploadSuccess=!0,this.errorMessage="",this.isDocumentUploadSuccess=!0,this.documentName="",this.subject$=new f.a(1),this.data$=this.subject$.asObservable(),this.ownershipsubject$=new f.a(1),this.ownershipdata$=this.ownershipsubject$.asObservable(),this.regex="^[a-zA-Z0-9]$",this.columns=[{name:"Document Type",property:"documentType",visible:!0,isModelProperty:!0},{name:"Path",property:"documentPath",visible:!1},{name:"File Name",property:"document",visible:!0},{name:"Modify",property:"actions",visible:!0}],this.pageSize=10,this.downloadVar="",this.ownershipcolumns=[{name:"Unit",property:"unit",visible:!0,isModelProperty:!0},{name:"Start Date",property:"startDateLocal",visible:!0,isModelProperty:!0},{name:"Modify",property:"actions",visible:!0}],this.ownershippageSize=10,s.disableClose=!0,this.fileSize=Math.floor(p.MaxBytes/1e6),this.baseUrl=p.backendForFiles,this.dateFormat=null!==(g=Object(P.e)("DateFormat"))&&void 0!==g?g:p.dateFormat}return a(t,[{key:"ngOnInit",value:function(){var e=this;this.clientId=parseInt(this.cookieService.get("globalClientId")),this.defaults?(this.mode="update",this.ownerships=this.defaults.ownerships):this.defaults=new g.a({}),this.address=this.defaults.addresses.filter((function(t){return t.addressTypeId===e.addressTypeId}))[0]||new v.a({}),this.bankDetails=this.defaults.bankDetails[0]||new S.a({}),this.ownership=new N.a({}),this.masterService.getSystemMasterdata(15,0).subscribe((function(t){e.metadataCountries=t,e.filteredCountries=t})),this.getDocumentTypes(),this.masterService.getSystemMasterdata(26,0).subscribe((function(t){e.metadataTitles=t,e.filteredTitles=t})),this.masterService.getSystemMasterdata(22,0).subscribe((function(t){e.metadataAddressTypes=t,e.filteredAddressTypes=t,e.updateAddressIcons()})),this.ownerService.getUnits(this.clientId).subscribe((function(t){e.metadataUnits=t,e.filteredUnits=t})),this.masterService.getParameterValue("Owner").subscribe((function(t){t||(e.parameterValue=t)})),this.metadataAddressTypes&&this.metadataAddressTypes.forEach((function(t){t.id===e.addressTypeId&&(e.addressType=t.description)})),this.image=this.baseUrl+"/uploads/"+this.defaults.photo,""==this.defaults.photo&&(this.image="assets/img/avatars/two.png"),this.response=this.defaults.photo,this.isOwner="Owner"==this.defaults.entityType,this.form=this.fb.group({id:[this.defaults.id||0],clientId:[this.defaults.clientId],trn:[this.defaults.trn||""],title:[this.defaults.title||"",o.y.required],titleId:[this.defaults.titleId||"",o.y.required],firstName:[this.defaults.firstName||"",o.y.required],lastName:[this.defaults.lastName||"",o.y.required],mobile:[this.defaults.mobile||"",this.fv.mobileNumberValidators],email:[this.defaults.email||"",this.fv.emailValidators],dob:[this.defaults.dob&&new Date(this.defaults.dob).toISOString().substr(0,10)||""],accountNumber:[this.defaults.accountNumber||"",this.fv.requiredAlphanumericNoSpaces],photo:[this.defaults.photo||""],isCompanySelected:[this.defaults.isCompany||!1],ownerName:[this.defaults.ownerName||""],entityType:[this.defaults.entityType],isLoginEnabled:[this.defaults.userDetails.isLoginEnabled],isOwner:[this.isOwner],address:this.fb.group({city:[this.address.city||""],zipPostalCode:[this.address.zipPostalCode||""],address1:[this.address.address1||""],address2:[this.address.address2||""],country:[this.address.country||""],countryId:[this.address.countryId||0],addressType:[this.address.addressType||""],addressTypeId:[this.address.addressTypeId||""],email:[this.address.email||""],phoneNumber:[this.address.phoneNumber||""]}),bank:this.fb.group({accountName:[this.bankDetails.accountName||""],accountNo:[this.bankDetails.accountNo||""],bankName:[this.bankDetails.bankName||""],bankAddress:[this.bankDetails.bankAddress||""],swiftCode:[this.bankDetails.swiftCode||""],ibanNumber:[this.bankDetails.ibanNumber||""]}),documentType:"",documentTypeId:0,ownerships:this.fb.group({id:[this.ownership.id||0],unitId:[this.ownership.unitId||0],unit:[this.ownership.unit||""],startDate:[this.ownership.startDate&&new Date(this.ownership.startDate).toISOString().substr(0,10)||""]})}),this.defaults&&"update"===this.mode&&this.form.controls.accountNumber.value&&this.form.get("accountNumber").disable(),this.enbaleAddressValidators(),this.documents=this.defaults.documents||[],this.documents.forEach((function(e){var t=e.documentPath.indexOf(",");t>0&&(e.document=e.documentPath.substr(t+1,e.documentPath.length),e.documentPath=e.documentPath.substr(0,t))})),this.subject$.next(this.documents),this.dataSource=new m.k,this.data$.pipe(Object(h.a)((function(e){return!!e}))).subscribe((function(t){e.documents=t,e.dataSource.data=t})),this.ownerships=this.defaults.ownerships||[],this.bindOwnershipDetails(),this.isLoginEnabled=""!==(this.defaults.userDetails.isLoginEnabled||""),this.isCompanySelected=this.defaults.isCompany,this.form.controls.title.valueChanges.subscribe((function(t){e.filteredTitles=e.filterTitle(t)})),this.form.controls.address.get("addressType").valueChanges.subscribe((function(t){e.filteredAddressTypes=e.filterAddressType(t)})),this.form.controls.address.get("country").valueChanges.subscribe((function(t){e.filteredCountries=""!=t?e.filterCountry(t):e.metadataCountries})),this.form.controls.documentType.valueChanges.subscribe((function(t){e.filteredDocumentTypes=e.filterDocumentType(t)})),this.form.controls.ownerships.get("unit").valueChanges.subscribe((function(t){e.filteredUnits=e.filterUnits(t)}))}},{key:"getDocumentTypes",value:function(){var e=this;this.masterService.getUserMasterdata(20,0).subscribe((function(t){e.metadataDocumentTypes=t,e.filteredDocumentTypes=t}))}},{key:"filterTitle",value:function(e){return this.metadataTitles.filter((function(t){return 0===t.description.toLowerCase().indexOf(e.toLowerCase())}))}},{key:"filterAddressType",value:function(e){return this.metadataAddressTypes.filter((function(t){return 0===t.description.toLowerCase().indexOf(e.toLowerCase())}))}},{key:"filterCountry",value:function(e){return""!=e?this.metadataCountries.filter((function(t){return 0===t.description.toLowerCase().indexOf(e.toLowerCase())})):this.metadataCountries}},{key:"getFilteredCountry",value:function(){this.filteredCountries=this.filterCountry(this.form.controls.address.get("country").value)}},{key:"filterDocumentType",value:function(e){return this.metadataDocumentTypes.filter((function(t){return 0===t.description.toLowerCase().indexOf(e.toLowerCase())}))}},{key:"filterUnits",value:function(e){return this.metadataUnits.filter((function(t){return 0===t.description.toLowerCase().indexOf(e.toLowerCase())}))}},{key:"ngAfterViewInit",value:function(){this.dataSource&&(this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)}},{key:"getAddressType",value:function(e){this.filteredAddressTypes=this.filterAddressType(e)}},{key:"bindOwnershipDetails",value:function(){var e=this;this.ownerships.forEach((function(t){t.startDateLocal=e.date.transform(t.startDate.toString(),e.dateFormat.toString())})),this.ownershipsubject$.next(this.ownerships),this.ownershipdataSource=new m.k(this.ownerships),this.ownershipdata$.pipe(Object(h.a)((function(e){return!!e}))).subscribe((function(t){e.ownerships=t,e.ownershipdataSource.data=t})),length=this.ownerships.length}},{key:"save",value:function(){var e=this;this.updateAddress(),this.updateBankDetails(),this.documents.forEach((function(e){e.documentPath=e.documentPath+","+e.document})),this.defaults.documents=this.documents,this.isCancel?(this.isCancel=!1,this.dialog.open(R.a,{data:{label:"Are you sure you want to Cancel?",selected:!1}}).afterClosed().subscribe((function(t){t&&e.dialogRef.close()}))):this.form.valid?"create"===this.mode?this.createOwner():"update"===this.mode&&this.updateOwner():this.notificationMessage("Form validation failed","red-snackbar")}},{key:"createOwner",value:function(){var e=this;Object.assign(this.defaults,this.form.value),this.defaults.trn=this.form.controls.trn.value.toString(),this.defaults.isCompany=this.isCompanySelected,this.defaults.photo=this.response,this.defaults.ownerName=this.isCompanySelected?this.form.controls.ownerName.value:this.defaults.firstName+" "+this.defaults.lastName,this.defaults.ownerships=this.ownerships,this.defaults.userDetails.isLoginActivated=this.defaults.userDetails.isLoginEnabled!==this.isLoginEnabled,this.defaults.userDetails=this.createUserDetails(),this.isCancel?(this.isCancel=!1,this.dialog.open(R.a,{data:{label:"Are you sure you want to Cancel?",selected:!1}}).afterClosed().subscribe((function(t){t&&e.dialogRef.close()}))):this.form.valid&&this.dialogRef.close(new g.a(this.defaults))}},{key:"createUserDetails",value:function(){return{username:this.defaults.accountNumber,email:this.defaults.email,password:this.getRandomString(15),role:"External",designation:"External",image:this.defaults.photo,isLoginEnabled:this.isLoginEnabled,userClients:[{clientId:Number(parseInt(this.cookieService.get("globalClientId")))}]}}},{key:"saveOwnership",value:function(){if(this.form.controls.ownerships.valid){var e=this.form.controls.ownerships.get("unitId").value;this.ownerships.findIndex((function(t){return t.unitId===e}))&&(this.ownerships.push({id:0,unitId:this.form.controls.ownerships.get("unitId").value,unit:this.form.controls.ownerships.get("unit").value,startDate:this.form.controls.ownerships.get("startDate").value}),this.bindOwnershipDetails(),this.form.controls.ownerships.reset())}}},{key:"deleteOwnership",value:function(e){this.ownerships.splice(this.ownerships.findIndex((function(t){return t.id===e.id})),1),this.bindOwnershipDetails()}},{key:"getRandomString",value:function(e){if(1==this.defaults.userDetails.isLoginActivated)return("P@Qr$#S"+O.Guid.create().toString()).substring(0,e-1)}},{key:"notificationMessage",value:function(e,t){this.snackbar.open(e,null,{duration:5e3,verticalPosition:"top",horizontalPosition:"center",panelClass:[t]})}},{key:"updateOwner",value:function(){var e=this;Object.assign(this.defaults,this.form.value),this.defaults.trn=this.form.controls.trn.value.toString(),this.defaults.isCompany=this.isCompanySelected,void 0!==this.response&&(this.defaults.photo=this.response),this.defaults.userDetails.isLoginActivated=this.defaults.userDetails.isLoginEnabled!==this.isLoginEnabled,this.defaults.userDetails=this.updateUserDetails(),this.defaults.ownerName=this.isCompanySelected?this.form.controls.ownerName.value:this.defaults.firstName+" "+this.defaults.lastName,this.defaults.ownerships=this.ownerships,this.isCancel?(this.isCancel=!1,this.dialog.open(R.a,{data:{label:"Are you sure you want to Cancel?",selected:!1}}).afterClosed().subscribe((function(t){t&&e.dialogRef.close()}))):this.form.valid&&(console.log(JSON.stringify(this.defaults)),this.dialogRef.close(new g.a(this.defaults)))}},{key:"updateUserDetails",value:function(){return{id:this.defaults.userId,username:this.defaults.accountNumber,password:this.getRandomString(15),email:this.defaults.email,role:"External",designation:"External",image:this.defaults.photo,isLoginEnabled:this.isLoginEnabled,userClients:[{clientId:Number(parseInt(this.cookieService.get("globalClientId")))}]}}},{key:"isCreateMode",value:function(){return"create"===this.mode}},{key:"isUpdateMode",value:function(){return"update"===this.mode}},{key:"changeAddressType",value:function(e){var t=this;this.addressType=e.option.value,this.metadataAddressTypes.forEach((function(e){t.addressType===e.description&&(t.addressTypeId=e.id)})),this.address=this.defaults.addresses.filter((function(e){return e.addressTypeId===t.addressTypeId}))[0]||new v.a({}),this.form.controls.address=this.fb.group({city:[this.address.city||""],zipPostalCode:[this.address.zipPostalCode||""],address1:[this.address.address1||""],address2:[this.address.address2||""],country:[this.address.country||""],countryId:[this.address.countryId||0],addressType:[this.addressType||""],addressTypeId:[this.address.addressTypeId||""],email:[this.address.email||""],phoneNumber:[this.address.phoneNumber||""]}),this.enbaleAddressValidators()}},{key:"updateAddress",value:function(){var e=this;if(this.form.controls.address.valid){var t=!1;if(this.defaults.addresses.forEach((function(a){a.addressTypeId===e.addressTypeId&&(t=!0,Object.assign(a,e.form.controls.address.value),a.addressType=e.addressType)})),!t){var a={addressTypeId:this.addressTypeId};Object.assign(a,this.form.controls.address.value),Object.assign(a,{addresstype:this.addressType}),this.defaults.addresses.push(new v.a(a))}}}},{key:"updateBankDetails",value:function(){this.form.controls.bank.valid&&(this.defaults.bankDetails[0]?Object.assign(this.defaults.bankDetails[0],this.form.controls.bank.value):this.defaults.bankDetails.push(new S.a(this.form.controls.bank.value)))}},{key:"uploadPhoto",value:function(e){var t=this;this.image="assets/img/avatars/two.png",this.errorMessage="",this.fileService.upload(e.target.files[0],"image").subscribe({next:function(e){t.response=e,t.image=t.baseUrl+"/uploads/"+e,t.isUploadSuccess=!0},error:function(e){t.isUploadSuccess=!1,t.errorMessage=null==e.error.message?e.error.Message:e.error.message,"Request body too large."==t.errorMessage&&(t.errorMessage="Max. allowed File size is "+t.fileSize+"MB. Please upload file with smaller size.")}})}},{key:"selectDocument",value:function(e){var t=this;this.selectedDocument=null,this.fileService.upload(e.target.files[0]).subscribe({next:function(a){t.documentResponse=a,t.selectedDocument=e.target.files[0],t.isDocumentUploadSuccess=!0},error:function(e){t.isDocumentUploadSuccess=!1,t.errorMessage=e.error.message,t.errorMessage=null==e.error.message?e.error.Message:e.error.message,"Request body too large."==t.errorMessage&&(t.errorMessage="Max. allowed File size is "+t.fileSize+"MB. Please upload file with smaller size.")}})}},{key:"uploadDocument",value:function(){this.form.controls.documentType.value&&""!==this.form.controls.documentType.value&&this.selectedDocument&&this.isDocumentUploadSuccess&&(this.documents.push({documentTypeId:this.form.controls.documentTypeId.value,documentType:this.form.controls.documentType.value,document:this.selectedDocument.name,documentPath:this.documentResponse}),this.subject$.next(this.documents),this.form.controls.documentType.setValue(""),this.form.controls.documentTypeId.setValue(0),this.fileInput.nativeElement.value="",this.selectedDocument=void 0)}},{key:"downloadDocument",value:function(e){var t,a=e.documentPath.indexOf(",");t=a>0?e.documentPath.substr(0,a):e.documentPath,this.downloadVar=this.baseUrl+"/uploads/"+t,D.saveAs(this.downloadVar,t)}},{key:"deleteDocument",value:function(e){var t=this;this.dialog.open(I.a).afterClosed().subscribe((function(a){if(a){var i=t.documents.findIndex((function(t){return t.documentType===e.documentType}));i>=0&&t.documents.splice(i,1),t.subject$.next(t.documents)}}))}},{key:"toggleOwner",value:function(e){this.isOwner=e.checked||!1,this.form.controls.entityType.setValue(!0===this.form.controls.isOwner.value?"Owner":"Tenant")}},{key:"toggleCompany",value:function(e){this.isCompanySelected=e.checked||!1,!1===this.isCompanySelected?(this.form.controls.ownerName.setValue(this.defaults.firstName+" "+this.defaults.lastName),this.form.get("ownerName").clearValidators(),this.form.get("ownerName").updateValueAndValidity()):(this.form.get("ownerName").setValidators(o.y.required),this.form.get("ownerName").updateValueAndValidity(),this.form.controls.ownerName.setValue(this.defaults.ownerName))}},{key:"toggleLoginEnabled",value:function(e){this.isLoginEnabled=e.checked||!1,this.isLoginEnabled&&!this.form.controls.accountNumber.value?(this.form.get("accountNumber").setValidators(o.y.required),this.form.get("accountNumber").updateValueAndValidity()):(this.form.get("accountNumber").clearValidators(),this.form.get("accountNumber").updateValueAndValidity())}},{key:"setEmailValidator",value:function(){""!=this.form.controls.address.get("email").value?(this.form.controls.address.get("email").setValidators(o.y.pattern(this.emailPattern)),this.form.controls.address.get("email").updateValueAndValidity()):(this.form.controls.address.get("email").clearValidators(),this.form.controls.address.get("email").updateValueAndValidity())}},{key:"enbaleAddressValidators",value:function(){var e,t=this.form.controls.address;this.metadataCountries&&this.metadataCountries.forEach((function(a){a.description==t.value.country&&(e=a.id)})),this.form.controls.address=this.fb.group({city:[t.value.city||""],zipPostalCode:[t.value.zipPostalCode||""],address1:[t.value.address1||""],address2:[t.value.address2||""],country:[t.value.country||""],countryId:[e||0],addressType:[t.value.addressType||""],addressTypeId:[this.addressTypeId||0],email:[t.value.email||""],phoneNumber:[t.value.phoneNumber||""]})}},{key:"enabledBankValidators",value:function(){var e=this.form.controls.bank;this.form.controls.bank=this.fb.group(""!==e.value.accountName||""!==e.value.accountNo||""!==e.value.bankName||""!==e.value.bankAddress||""!==e.value.swiftCode||""!==e.value.ibanNumber?{accountName:[e.value.accountName||"",this.fv.nameValidators],accountNo:[e.value.accountNo||"",this.fv.requiredAlphanumericNoSpaces],bankName:[e.value.bankName||"",this.fv.nameValidators],bankAddress:[e.value.bankAddress||"",this.fv.optionsAddressValidators],swiftCode:[e.value.swiftCode||"",this.fv.requiredAlphanumericNoSpaces],ibanNumber:[e.value.ibanNumber||"",this.fv.requiredAlphanumericNoSpaces]}:{accountName:[e.value.accountName||""],accountNo:[e.value.accountNo||""],bankName:[e.value.bankName||""],bankAddress:[e.value.bankAddress||""],swiftCode:[e.value.swiftCode||""],ibanNumber:[e.value.ibanNumber||""]})}},{key:"enabledOwnershipValidators",value:function(){var e=!1;return this.ownershipdataSource&&this.ownershipdataSource.data.length&&(e=!0),e}},{key:"selectTitle",value:function(e){var t=this;this.metadataTitles.forEach((function(a){e.option.value==a.description&&t.form.controls.titleId.setValue(a.id)}))}},{key:"selectDocumentType",value:function(e){var t=this;this.documentName="",this.documents.find((function(a){a.documentType!=e.option.value||(t.documentName=e.option.value+" already uploaded")})),this.metadataDocumentTypes.forEach((function(a){e.option.value==a.description&&t.form.controls.documentTypeId.setValue(a.id)}))}},{key:"selectUnit",value:function(e){var t=this;this.metadataUnits.forEach((function(a){e.option.value==a.description&&t.form.controls.ownerships.get("unitId").setValue(a.id)}))}},{key:"addAddress",value:function(){var e={};if(Object.assign(e,this.form.controls.address.value),this.defaults.addresses&&this.defaults.addresses.length){var t=this.defaults.addresses.findIndex((function(t){return t.addressTypeId==e.addressTypeId}));t>-1&&this.defaults.addresses.splice(t,1)}this.defaults.addresses.push(e),this.updateAddressIcons()}},{key:"checkTRNDuplication",value:function(){var e=this;this.duplicateTRN="";var t=this.form.controls.trn.value;""==t&&null==t||this.ownerService.checkTRNDuplication(1,t,this.defaults.id).subscribe((function(t){t&&t>0&&(e.duplicateTRN="TRN already exists.")}))}},{key:"close",value:function(){this.dialogRef.close()}},{key:"closeDialog",value:function(){this.isCancel=!0}},{key:"updateAddressIcons",value:function(){var e=this;this.filteredAddressTypes&&this.filteredAddressTypes.length&&this.filteredAddressTypes.forEach((function(t){if(e.defaults.addresses&&e.defaults.addresses.length){var a=e.defaults.addresses.find((function(e){return e.addressTypeId===t.id}));t.defaultValue=a?"check":"library_add"}else t.defaultValue="library_add"}))}},{key:"createDocumentType",value:function(){var e=this;this.dialog.open(A.a,{data:[0,20]}).afterClosed().subscribe((function(t){t&&"Success"==t&&e.getDocumentTypes()}))}},{key:"content",set:function(e){this.sort=e,this.sort&&(this.dataSource.sort=this.sort)}},{key:"visibleColumns",get:function(){return this.columns.filter((function(e){return e.visible})).map((function(e){return e.property}))}},{key:"ownershipVisibleColumns",get:function(){return this.ownershipcolumns.filter((function(e){return e.visible})).map((function(e){return e.property}))}}]),t}()).id=100,_e.\u0275fac=function(e){return new(e||_e)(E.Nb(p.a),E.Nb(w.a),E.Nb(s.f),E.Nb(p.h),E.Nb(o.f),E.Nb(y.a),E.Nb(T.a),E.Nb(C.a),E.Nb(k.a),E.Nb(x.a),E.Nb(U.b),E.Nb(p.b),E.Nb(V.a),E.Nb(M.a))},_e.\u0275cmp=E.Hb({type:_e,selectors:[["owner-create-update"]],viewQuery:function(e,t){var a;1&e&&(E.Vc(ee,!0),E.Jc(d.a,!0),E.Vc(b.a,!0)),2&e&&(E.zc(a=E.cc())&&(t.fileInput=a.first),E.zc(a=E.cc())&&(t.paginator=a.first),E.zc(a=E.cc())&&(t.content=a.first))},inputs:{columns:"columns"},decls:240,vars:52,consts:[["mat-dialog-title",""],["role","toolbar",1,"task-header"],[1,"fx-spacer"],["mat-icon-button","",3,"click"],["title","Close","mat-list-icon",""],[3,"formGroup","ngSubmit"],[1,"person"],["fxLayout","column","fxLayout.gt-sm","row"],["formControlName","isCompanySelected",3,"checked","change"],["formControlName","isOwner",1,"togglebutton",3,"checked","change"],[3,"checked","change",4,"ngIf"],["fxFlex","60%","class","companyName",4,"ngIf"],["fxFlex","40%","class","companyName",4,"ngIf"],["label","General"],[1,"padding-top"],["fxFlex","",1,"titleSelector"],["matInput","","formControlName","title",3,"matAutocomplete"],[3,"optionSelected"],["title","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"ctrl"],[1,"profile"],["fxLayout","column"],[1,"profileImage",3,"src"],["type","file","accept","image/*",1,"profileButton",3,"change"],["class","errorMessage",4,"ngIf"],["fxLayout","column","fxLayout.gt-sm","row","fxLayoutGap.gt-sm","48px"],["fxFlex",""],["type","text","formControlName","firstName","maxlength","65","matInput",""],["type","text","formControlName","lastName","maxlength","65","matInput",""],["type","text","formControlName","mobile","maxlength","10","matInput",""],["type","text","formControlName","email","maxlength","100","matInput",""],["formControlName","dob","matInput","",3,"matDatepicker","max","click","focus"],["matSuffix","",3,"for"],["formDatepickerRef",""],["type","text","formControlName","accountNumber","maxlength","50","matInput",""],["label","Address Details"],[3,"formGroup"],["type","button","mat-mini-fab","","color","primary",1,"create","right","margin",3,"click"],["matTooltip","Add Address"],["matInput","","formControlName","addressType",3,"matAutocomplete","input"],["addressTypes","matAutocomplete"],["type","text","formControlName","city","maxlength","200","matInput",""],["type","text","formControlName","address1","maxlength","200","matInput",""],["type","text","formControlName","zipPostalCode","maxlength","200","matInput",""],["type","text","formControlName","address2","maxlength","200","matInput",""],["matInput","","formControlName","country",3,"matAutocomplete","keyup"],["country","matAutocomplete"],["type","text","formControlName","email","maxlength","200","matInput","",3,"keydown"],["type","text","formControlName","phoneNumber","maxlength","200","matInput",""],["label","Bank Details"],["type","text","formControlName","accountName","maxlength","300","matInput",""],["type","text","formControlName","accountNo","maxlength","300","matInput",""],["type","text","formControlName","bankName","maxlength","150","matInput",""],["type","text","formControlName","bankAddress","matInput",""],["type","text","formControlName","swiftCode","maxlength","300","matInput",""],["type","text","formControlName","ibanNumber","maxlength","300","matInput",""],["label","Document Details"],[1,"person",2,"width","700px"],["fxLayout","column","fxLayout.gt-sm","row",2,"margin-right","0px","width","100%"],["fxFlex","40%"],[1,"titleSelector",2,"width","85%","margin-right","0px"],["matInput","","formControlName","documentType",3,"matAutocomplete"],["documentTypes","matAutocomplete"],[1,"duplicateMessage"],["type","button","mat-mini-fab","","color","primary",1,"create",2,"height","30px","width","30px","margin-right","0px","margin-left","5px","padding-top","-5px",3,"click"],[2,"height","10px","width","10px","padding-top","-5px","margin-top","-25px","margin-left","-13px"],[1,"document",2,"width","60%","padding-left","50px"],["type","file",1,"selectDocument",3,"change"],["fileInput",""],[2,"margin-right","0px",3,"ngClass","click"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","checkbox"],["class","actions-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],["matColumnDef","image"],["class","image-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","image-cell","mat-cell","",4,"matCellDef"],["matColumnDef","delete"],[4,"ngFor","ngForOf"],["matColumnDef","document"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["class","actions-cell","mat-cell","",3,"click",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",4,"matRowDef","matRowDefColumns"],["label","Ownerships",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center"],["mat-button","",3,"click"],["mat-button","",3,"disabled",4,"ngIf"],[3,"checked","change"],["fxFlex","60%",1,"companyName"],["type","text","formControlName","ownerName","maxlength","100","matInput",""],["fxFlex","40%",1,"companyName"],["type","number","formControlName","trn","matInput","","maxlength","15","oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);if(this.value <= 0) this.value = ''",3,"change","keyup"],[1,"duplicate"],[3,"value"],[1,"errorMessage"],["mat-header-cell","",1,"actions-cell"],["color","primary",3,"click"],["mat-cell","",1,"actions-cell"],["mat-header-cell","",1,"image-cell"],["mat-cell","",1,"image-cell"],[3,"src"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"under-line",3,"click"],["mat-cell","",1,"actions-cell",3,"click"],[1,"deleteIcon"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements"],["label","Ownerships"],["matInput","","formControlName","unit",3,"matAutocomplete"],["unitId","matAutocomplete"],["type","date","formControlName","startDate","matInput",""],["mat-button","",3,"disabled","click"],["mat-button","",3,"disabled"]],template:function(e,t){if(1&e){var a=E.Ub();E.Tb(0,"div",0),E.Tb(1,"mat-toolbar",1),E.Tb(2,"span"),E.Rc(3,"Owner or Tenant"),E.Sb(),E.Ob(4,"span",2),E.Tb(5,"button",3),E.bc("click",(function(){return t.close()})),E.Tb(6,"mat-icon",4),E.Rc(7,"close"),E.Sb(),E.Sb(),E.Sb(),E.Sb(),E.Tb(8,"form",5),E.bc("ngSubmit",(function(){return t.save()})),E.Tb(9,"mat-dialog-content"),E.Tb(10,"fury-card"),E.Tb(11,"div",6),E.Tb(12,"div",7),E.Tb(13,"mat-slide-toggle",8),E.bc("change",(function(e){return t.toggleCompany(e)})),E.Rc(14,"Company"),E.Sb(),E.Tb(15,"mat-slide-toggle",9),E.bc("change",(function(e){return t.toggleOwner(e)})),E.Rc(16,"Owner"),E.Sb(),E.Pc(17,te,2,1,"mat-slide-toggle",10),E.Sb(),E.Sb(),E.Tb(18,"div",6),E.Tb(19,"div",7),E.Pc(20,ae,7,1,"mat-form-field",11),E.Pc(21,ie,6,1,"mat-form-field",12),E.Sb(),E.Sb(),E.Tb(22,"mat-tab-group"),E.Tb(23,"mat-tab",13),E.Tb(24,"fury-card-content",14),E.Tb(25,"div",6),E.Tb(26,"div",7),E.Tb(27,"mat-form-field",15),E.Tb(28,"mat-label"),E.Rc(29,"Title"),E.Sb(),E.Ob(30,"input",16),E.Tb(31,"mat-autocomplete",17,18),E.bc("optionSelected",(function(e){return t.selectTitle(e)})),E.Pc(33,ne,2,2,"mat-option",19),E.Sb(),E.Ob(34,"app-show-errors",20),E.Tb(35,"mat-hint"),E.Rc(36,"Please select Title"),E.Sb(),E.Sb(),E.Tb(37,"div",21),E.Tb(38,"div",22),E.Tb(39,"div",7),E.Ob(40,"img",23),E.Tb(41,"input",24),E.bc("change",(function(e){return t.uploadPhoto(e)})),E.Sb(),E.Sb(),E.Pc(42,se,2,1,"mat-hint",25),E.Sb(),E.Sb(),E.Sb(),E.Sb(),E.Tb(43,"div",6),E.Tb(44,"div",26),E.Tb(45,"mat-form-field",27),E.Tb(46,"mat-label"),E.Rc(47,"First Name"),E.Sb(),E.Ob(48,"input",28),E.Ob(49,"app-show-errors",20),E.Tb(50,"mat-hint"),E.Rc(51,"First Name cannot be Greater than 65"),E.Sb(),E.Sb(),E.Tb(52,"mat-form-field",27),E.Tb(53,"mat-label"),E.Rc(54,"Last Name"),E.Sb(),E.Ob(55,"input",29),E.Ob(56,"app-show-errors",20),E.Tb(57,"mat-hint"),E.Rc(58,"Last Name cannot be Greater than 65"),E.Sb(),E.Sb(),E.Sb(),E.Sb(),E.Tb(59,"div",6),E.Tb(60,"div",26),E.Tb(61,"mat-form-field",27),E.Tb(62,"mat-label"),E.Rc(63,"Mobile"),E.Sb(),E.Ob(64,"input",30),E.Ob(65,"app-show-errors",20),E.Tb(66,"mat-hint"),E.Rc(67,"Mobile Number cannot be Greater than 10 Characters"),E.Sb(),E.Sb(),E.Tb(68,"mat-form-field",27),E.Tb(69,"mat-label"),E.Rc(70,"Email"),E.Sb(),E.Ob(71,"input",31),E.Ob(72,"app-show-errors",20),E.Tb(73,"mat-hint"),E.Rc(74,"Email cannot be Greater than 100"),E.Sb(),E.Sb(),E.Sb(),E.Sb(),E.Tb(75,"div",6),E.Tb(76,"div",26),E.Tb(77,"mat-form-field",27),E.Tb(78,"mat-label"),E.Rc(79,"DOB"),E.Sb(),E.Tb(80,"input",32),E.bc("click",(function(){return E.Ec(a),E.Ac(83).open()}))("focus",(function(){return E.Ec(a),E.Ac(83).open()})),E.Sb(),E.Ob(81,"mat-datepicker-toggle",33),E.Ob(82,"mat-datepicker",null,34),E.Ob(84,"app-show-errors",20),E.Sb(),E.Tb(85,"mat-form-field",27),E.Tb(86,"mat-label"),E.Rc(87,"Account Number"),E.Sb(),E.Ob(88,"input",35),E.Ob(89,"app-show-errors",20),E.Tb(90,"mat-hint"),E.Rc(91,"Please enter alphanumeric characters only."),E.Sb(),E.Sb(),E.Sb(),E.Sb(),E.Sb(),E.Sb(),E.Tb(92,"mat-tab",36),E.Tb(93,"fury-card-content",14),E.Tb(94,"div",37),E.Tb(95,"div",6),E.Tb(96,"button",38),E.bc("click",(function(){return t.addAddress()})),E.Tb(97,"mat-icon",39),E.Rc(98,"add"),E.Sb(),E.Sb(),E.Tb(99,"div",26),E.Tb(100,"mat-form-field",27),E.Tb(101,"mat-label"),E.Rc(102,"Address Type"),E.Sb(),E.Tb(103,"input",40),E.bc("input",(function(e){return t.getAddressType(e.target.value)})),E.Sb(),E.Tb(104,"mat-autocomplete",17,41),E.bc("optionSelected",(function(e){return t.changeAddressType(e)})),E.Pc(106,oe,4,3,"mat-option",19),E.Sb(),E.Ob(107,"app-show-errors",20),E.Sb(),E.Tb(108,"mat-form-field",27),E.Tb(109,"mat-label"),E.Rc(110,"City"),E.Sb(),E.Ob(111,"input",42),E.Ob(112,"app-show-errors",20),E.Sb(),E.Sb(),E.Sb(),E.Tb(113,"div",6),E.Tb(114,"div",26),E.Tb(115,"mat-form-field",27),E.Tb(116,"mat-label"),E.Rc(117,"Address 1"),E.Sb(),E.Ob(118,"input",43),E.Ob(119,"app-show-errors",20),E.Sb(),E.Tb(120,"mat-form-field",27),E.Tb(121,"mat-label"),E.Rc(122,"Postal Code"),E.Sb(),E.Ob(123,"input",44),E.Ob(124,"app-show-errors",20),E.Sb(),E.Sb(),E.Sb(),E.Tb(125,"div",6),E.Tb(126,"div",26),E.Tb(127,"mat-form-field",27),E.Tb(128,"mat-label"),E.Rc(129,"Address 2"),E.Sb(),E.Ob(130,"input",45),E.Ob(131,"app-show-errors",20),E.Sb(),E.Tb(132,"mat-form-field",27),E.Tb(133,"mat-label"),E.Rc(134,"Country"),E.Sb(),E.Tb(135,"input",46),E.bc("keyup",(function(){return t.getFilteredCountry()})),E.Sb(),E.Tb(136,"mat-autocomplete",17,47),E.bc("optionSelected",(function(){return t.enbaleAddressValidators()})),E.Pc(138,re,2,2,"mat-option",19),E.Sb(),E.Ob(139,"app-show-errors",20),E.Sb(),E.Sb(),E.Sb(),E.Tb(140,"div",6),E.Tb(141,"div",26),E.Tb(142,"mat-form-field",27),E.Tb(143,"mat-label"),E.Rc(144,"Secondary Email"),E.Sb(),E.Tb(145,"input",48),E.bc("keydown",(function(){return t.setEmailValidator()})),E.Sb(),E.Ob(146,"app-show-errors",20),E.Sb(),E.Tb(147,"mat-form-field",27),E.Tb(148,"mat-label"),E.Rc(149,"Secondary Phone No"),E.Sb(),E.Ob(150,"input",49),E.Ob(151,"app-show-errors",20),E.Sb(),E.Sb(),E.Sb(),E.Sb(),E.Sb(),E.Sb(),E.Tb(152,"mat-tab",50),E.Tb(153,"fury-card-content",14),E.Tb(154,"div",37),E.Tb(155,"div",6),E.Tb(156,"div",26),E.Tb(157,"mat-form-field",27),E.Tb(158,"mat-label"),E.Rc(159,"Account Name"),E.Sb(),E.Ob(160,"input",51),E.Ob(161,"app-show-errors",20),E.Sb(),E.Tb(162,"mat-form-field",27),E.Tb(163,"mat-label"),E.Rc(164,"Bank Account Number"),E.Sb(),E.Ob(165,"input",52),E.Ob(166,"app-show-errors",20),E.Sb(),E.Sb(),E.Sb(),E.Tb(167,"div",6),E.Tb(168,"div",26),E.Tb(169,"mat-form-field",27),E.Tb(170,"mat-label"),E.Rc(171,"Bank Name"),E.Sb(),E.Ob(172,"input",53),E.Ob(173,"app-show-errors",20),E.Sb(),E.Tb(174,"mat-form-field",27),E.Tb(175,"mat-label"),E.Rc(176,"Bank Branch"),E.Sb(),E.Ob(177,"input",54),E.Ob(178,"app-show-errors",20),E.Sb(),E.Sb(),E.Sb(),E.Tb(179,"div",6),E.Tb(180,"div",26),E.Tb(181,"mat-form-field",27),E.Tb(182,"mat-label"),E.Rc(183,"Swift Code"),E.Sb(),E.Ob(184,"input",55),E.Ob(185,"app-show-errors",20),E.Sb(),E.Tb(186,"mat-form-field",27),E.Tb(187,"mat-label"),E.Rc(188,"IBAN"),E.Sb(),E.Ob(189,"input",56),E.Ob(190,"app-show-errors",20),E.Sb(),E.Sb(),E.Sb(),E.Sb(),E.Sb(),E.Sb(),E.Tb(191,"mat-tab",57),E.Tb(192,"fury-card-content",14),E.Tb(193,"div",58),E.Tb(194,"div",59),E.Tb(195,"div",60),E.Tb(196,"mat-form-field",61),E.Tb(197,"mat-label"),E.Rc(198,"Document Type"),E.Sb(),E.Ob(199,"input",62),E.Tb(200,"mat-autocomplete",17,63),E.bc("optionSelected",(function(e){return t.selectDocumentType(e)})),E.Pc(202,ce,2,2,"mat-option",19),E.Sb(),E.Tb(203,"mat-hint",64),E.Rc(204),E.Sb(),E.Sb(),E.Tb(205,"button",65),E.bc("click",(function(){return t.createDocumentType()})),E.Tb(206,"mat-icon",66),E.Rc(207,"add"),E.Sb(),E.Sb(),E.Sb(),E.Tb(208,"div",67),E.Tb(209,"input",68,69),E.bc("change",(function(e){return t.selectDocument(e)})),E.Sb(),E.Tb(211,"span",70),E.bc("click",(function(){return t.uploadDocument()})),E.Rc(212,"UPLOAD"),E.Sb(),E.Sb(),E.Sb(),E.Pc(213,le,2,1,"mat-hint",25),E.Sb(),E.Tb(214,"table",71),E.Rb(215,72),E.Pc(216,ue,2,0,"th",73),E.Pc(217,de,2,0,"td",74),E.Qb(),E.Rb(218,75),E.Pc(219,be,1,0,"th",76),E.Pc(220,me,2,1,"td",77),E.Qb(),E.Rb(221,78),E.Tb(222,"th"),E.Rc(223,"Action"),E.Sb(),E.Pc(224,fe,3,0,"td",74),E.Qb(),E.Pc(225,ve,2,1,"ng-container",79),E.Rb(226,80),E.Pc(227,ye,2,0,"th",81),E.Pc(228,Se,3,1,"td",82),E.Qb(),E.Rb(229,83),E.Pc(230,Te,2,0,"th",73),E.Pc(231,Ce,3,0,"td",84),E.Qb(),E.Pc(232,we,1,0,"tr",85),E.Pc(233,ke,1,0,"tr",86),E.Sb(),E.Sb(),E.Sb(),E.Pc(234,$e,39,11,"mat-tab",87),E.Sb(),E.Sb(),E.Sb(),E.Tb(235,"mat-dialog-actions",88),E.Tb(236,"button",89),E.bc("click",(function(){return t.closeDialog()})),E.Rc(237,"CANCEL"),E.Sb(),E.Pc(238,ze,2,1,"button",90),E.Pc(239,je,2,1,"button",90),E.Sb(),E.Sb()}if(2&e){var i=E.Ac(32),n=E.Ac(83),s=E.Ac(105),o=E.Ac(137),r=E.Ac(201);E.Cb(8),E.mc("formGroup",t.form),E.Cb(5),E.mc("checked",t.isCompanySelected),E.Cb(2),E.mc("checked",t.isOwner),E.Cb(2),E.mc("ngIf",t.parameterValue),E.Cb(3),E.mc("ngIf",t.isCompanySelected),E.Cb(1),E.mc("ngIf",t.isCompanySelected),E.Cb(9),E.mc("matAutocomplete",i),E.Cb(3),E.mc("ngForOf",t.filteredTitles),E.Cb(1),E.mc("ctrl",null==t.form?null:t.form.get("title")),E.Cb(6),E.nc("src",t.image,E.Gc),E.Cb(2),E.mc("ngIf",0==t.isUploadSuccess),E.Cb(7),E.mc("ctrl",t.form.get("firstName")),E.Cb(7),E.mc("ctrl",t.form.get("lastName")),E.Cb(9),E.mc("ctrl",t.form.get("mobile")),E.Cb(7),E.mc("ctrl",t.form.get("email")),E.Cb(8),E.mc("matDatepicker",n)("max",t.today),E.Cb(1),E.mc("for",n),E.Cb(3),E.mc("ctrl",t.form.get("dob")),E.Cb(5),E.mc("ctrl",t.form.get("accountNumber")),E.Cb(5),E.mc("formGroup",t.form.controls.address),E.Cb(9),E.mc("matAutocomplete",s),E.Cb(3),E.mc("ngForOf",t.filteredAddressTypes),E.Cb(1),E.mc("ctrl",t.form.controls.address.get("addressType")),E.Cb(5),E.mc("ctrl",t.form.controls.address.get("city")),E.Cb(7),E.mc("ctrl",t.form.controls.address.get("address1")),E.Cb(5),E.mc("ctrl",t.form.controls.address.get("zipPostalCode")),E.Cb(7),E.mc("ctrl",t.form.controls.address.get("address2")),E.Cb(4),E.mc("matAutocomplete",o),E.Cb(3),E.mc("ngForOf",t.filteredCountries),E.Cb(1),E.mc("ctrl",t.form.controls.address.get("country")),E.Cb(7),E.mc("ctrl",t.form.controls.address.get("email")),E.Cb(5),E.mc("ctrl",t.form.controls.address.get("phoneNumber")),E.Cb(3),E.mc("formGroup",t.form.controls.bank),E.Cb(7),E.mc("ctrl",t.form.controls.bank.get("accountName")),E.Cb(5),E.mc("ctrl",t.form.controls.bank.get("accountNo")),E.Cb(7),E.mc("ctrl",t.form.controls.bank.get("bankName")),E.Cb(5),E.mc("ctrl",t.form.controls.bank.get("bankAddress")),E.Cb(7),E.mc("ctrl",t.form.controls.bank.get("swiftCode")),E.Cb(5),E.mc("ctrl",t.form.controls.bank.get("ibanNumber")),E.Cb(9),E.mc("matAutocomplete",r),E.Cb(3),E.mc("ngForOf",t.filteredDocumentTypes),E.Cb(2),E.Sc(t.documentName),E.Cb(7),E.mc("ngClass",""!==t.form.controls.documentType.value&&""==t.documentName&&t.selectedDocument?"uploadButton":"uploadButtonDisabled"),E.Cb(2),E.mc("ngIf",0==t.isDocumentUploadSuccess),E.Cb(1),E.mc("dataSource",t.dataSource),E.Cb(11),E.mc("ngForOf",t.columns),E.Cb(7),E.mc("matHeaderRowDef",t.visibleColumns),E.Cb(1),E.mc("matRowDefColumns",t.visibleColumns),E.Cb(1),E.mc("ngIf",!1),E.Cb(4),E.mc("ngIf",t.isCreateMode()),E.Cb(1),E.mc("ngIf",t.isUpdateMode())}},directives:[p.i,F.a,L.a,$.a,z.c,o.z,o.r,o.k,p.f,j.a,_.d,q.a,o.q,o.i,s.o,Q.b,Q.a,j.c,B.d,_.b,B.h,G.b,o.c,H.c,H.a,s.n,K.a,B.g,_.e,o.m,J.b,J.d,B.j,J.a,W.a,s.m,X.a,m.j,b.a,m.c,m.e,m.b,m.g,m.i,p.c,_.c,o.u,Y.n,m.d,Z.a,m.a,b.b,m.f,m.h],styles:[".titleSelector[_ngcontent-%COMP%]{margin-top:auto;margin-right:24px}.profile[_ngcontent-%COMP%]{width:50%;display:flex}.profileImage[_ngcontent-%COMP%]{height:100px;width:50%;margin-left:20px;margin-right:10px;padding:10px}.errorMessage[_ngcontent-%COMP%]{color:red;font-size:smaller;width:330px;margin-left:24px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}.profileButton[_ngcontent-%COMP%]{align-self:center;padding:3px 10px}.document[_ngcontent-%COMP%]{width:50%;display:flex}.selectDocument[_ngcontent-%COMP%]{width:inherit;margin-right:30px;align-self:center;padding:3px 15px;overflow:hidden}.uploadButton[_ngcontent-%COMP%]{align-self:center;padding:5px 15px;border:1px solid grey;border-radius:3px;box-shadow:1px 1px 1px grey;cursor:pointer}.uploadButtonDisabled[_ngcontent-%COMP%]{align-self:center;padding:5px 15px;border:1px solid rgba(0,0,0,.26);border-radius:3px;box-shadow:1px 1px 1px rgba(0,0,0,.26);color:rgba(0,0,0,.26)}.deleteIcon[_ngcontent-%COMP%]{cursor:pointer}.company[_ngcontent-%COMP%]{align-self:center;margin-left:24px}.companyName[_ngcontent-%COMP%]{margin-top:10px;margin-right:24px}.mat-slide-toggle[_ngcontent-%COMP%]{padding-right:10px}.hide[_ngcontent-%COMP%]{display:none}.under-line[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer}.duplicateMessage[_ngcontent-%COMP%]{color:red;font-size:small}.duplicate[_ngcontent-%COMP%]{color:red}.task-header[_ngcontent-%COMP%]{background-color:transparent;padding:0 5px;height:20px}.fx-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),_e),Qe=n("Ku73"),Be=n("nStZ"),Ge=n("+Kgr"),He=n("a8hA"),Ke=n("xBcV"),Je=n("Hbgg"),We=n("rnAf"),Xe=n("rvYj"),Ye=n("a+RD"),Ze=n("STbY");function et(e,t){if(1&e){var a=E.Ub();E.Tb(0,"th",19),E.Tb(1,"mat-checkbox",20),E.bc("click",(function(e){return E.Ec(a),e.stopPropagation()})),E.Sb(),E.Sb()}}function tt(e,t){if(1&e){var a=E.Ub();E.Tb(0,"td",21),E.Tb(1,"mat-checkbox",20),E.bc("click",(function(e){return E.Ec(a),e.stopPropagation()})),E.Sb(),E.Sb()}}function at(e,t){1&e&&E.Ob(0,"th",22)}function it(e,t){if(1&e&&(E.Tb(0,"td",23),E.Ob(1,"img",24),E.Sb()),2&e){var a=t.$implicit;E.Cb(1),E.oc("src","http://i.pravatar.cc/30?u=",a.name,"",E.Gc)}}function nt(e,t){if(1&e&&(E.Tb(0,"th",29),E.Rc(1),E.Sb()),2&e){var a=E.fc(2).$implicit;E.Cb(1),E.Tc(" ",a.name,"")}}function st(e,t){if(1&e&&(E.Tb(0,"td",30),E.Rc(1),E.Sb()),2&e){var a=t.$implicit,i=E.fc(2).$implicit;E.Cb(1),E.Tc(" ",a[i.property]," ")}}function ot(e,t){if(1&e&&(E.Rb(0,26),E.Pc(1,nt,2,1,"th",27),E.Pc(2,st,2,1,"td",28),E.Qb()),2&e){var a=E.fc().$implicit;E.mc("matColumnDef",a.property)}}function rt(e,t){if(1&e&&(E.Rb(0),E.Pc(1,ot,3,1,"ng-container",25),E.Qb()),2&e){var a=t.$implicit;E.Cb(1),E.mc("ngIf",a.isModelProperty)}}function ct(e,t){1&e&&E.Ob(0,"th",31)}function lt(e,t){if(1&e){var a=E.Ub();E.Tb(0,"button",35),E.bc("click",(function(){E.Ec(a);var e=E.fc().$implicit;return E.fc().ownerDetails(e)})),E.Tb(1,"span"),E.Rc(2,"Details"),E.Sb(),E.Sb()}}function ut(e,t){if(1&e){var a=E.Ub();E.Tb(0,"td",21),E.Tb(1,"button",32),E.bc("click",(function(e){return E.Ec(a),e.stopPropagation()})),E.Tb(2,"mat-icon"),E.Rc(3,"more_horiz"),E.Sb(),E.Sb(),E.Tb(4,"mat-menu",33,34),E.Tb(6,"button",35),E.bc("click",(function(){E.Ec(a);var e=t.$implicit;return E.fc().updateOwner(e)})),E.Tb(7,"span"),E.Rc(8,"Modify"),E.Sb(),E.Sb(),E.Tb(9,"button",35),E.bc("click",(function(){E.Ec(a);var e=t.$implicit;return E.fc().deleteOwner(e)})),E.Tb(10,"span"),E.Rc(11,"Delete"),E.Sb(),E.Sb(),E.Pc(12,lt,3,0,"button",36),E.Sb(),E.Sb()}if(2&e){var i=E.Ac(5),n=E.fc();E.Cb(1),E.mc("matMenuTriggerFor",i),E.Cb(11),E.mc("ngIf",1==n.isParameterTrue)}}function dt(e,t){1&e&&E.Ob(0,"tr",37)}function bt(e,t){if(1&e){var a=E.Ub();E.Tb(0,"tr",38),E.bc("click",(function(){E.Ec(a);var e=t.$implicit;return E.fc().updateOwner(e)})),E.Sb()}}var mt,ft,ht,pt,gt,vt=function(){return[]},yt=((mt=function(){function t(a,i,n,s,o,r,c,l){e(this,t),this.dialog=a,this.ownerService=i,this.snackbar=n,this.router=s,this.masterService=o,this.authenticationService=r,this.clientSelectionService=c,this.cookieService=l,this.subject$=new f.a(1),this.data$=this.subject$.asObservable(),this.movedOut=!1,this.isParameterTrue=!0,this.columns=[{name:"Account Number",property:"accountNumber",visible:!0,isModelProperty:!0},{name:"Owner Name",property:"ownerName",visible:!0,isModelProperty:!0},{name:"Mobile",property:"mobile",visible:!0,isModelProperty:!0},{name:"Email",property:"email",visible:!0,isModelProperty:!0},{name:"Tenant/Owner",property:"entityType",visible:!0,isModelProperty:!0},{name:"Actions",property:"actions",visible:!0}],this.pageSize=8}return a(t,[{key:"ngOnInit",value:function(){var e=this;this.clientSelectionService.setIsClientVisible(!0),this.clientId=parseInt(this.cookieService.get("globalClientId")),this.getAllOwners(this.clientId),this.masterService.getParameterValue("OwnerDetails").subscribe((function(t){t||(e.isParameterTrue=t)}))}},{key:"ngAfterViewInit",value:function(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}},{key:"createOwner",value:function(){var e=this;this.dialog.open(qe).afterClosed().subscribe((function(t){t&&(t.clientId=e.clientId,e.authenticationService.register(t.userDetails,t.clientId).subscribe({next:function(a){a&&"Success"===a.status&&a.id?(t.userId=a.id,e.createOwnerDetails(t)):e.notificationMessage(a.isSuccess?"Failed to Save Data":a.message,"red-snackbar")},error:function(t){e.notificationMessage("Failed to Save Data","red-snackbar")}}))}))}},{key:"createOwnerDetails",value:function(e){var t=this;this.ownerService.createOwner(e).subscribe({next:function(e){e?t.notificationMessage("Data Saved Successfully","green-snackbar"):t.notificationMessage("Failed to Save Data","red-snackbar"),t.getAllOwners(t.clientId)},error:function(e){t.notificationMessage("Failed to Save Data","red-snackbar")}})}},{key:"updateOwner",value:function(e){var t=this;this.dialog.open(qe,{data:e}).afterClosed().subscribe((function(e){e&&t.updateUserDetail(e,t.clientId)}))}},{key:"updateUserDetail",value:function(e,t){var a=this;this.authenticationService.updateUserDetail(e.userDetails,t).subscribe({next:function(t){t&&"Success"===t.status?a.updateOwnerDetails(e,t):a.notificationMessage(t&&"Error"===t.status?t.message:"Failed to Update Data","red-snackbar")},error:function(e){a.notificationMessage("Failed to Update Data","red-snackbar")}})}},{key:"updateOwnerDetails",value:function(e,t){var a=this;this.ownerService.updateOwnerById(e.id,e).subscribe({next:function(e){var i,n,s,o;if(e)if(t.responseDetails)if(t.responseDetails.status){var r="Notifications send failed. "+(null!==(i=t.responseDetails.status)&&void 0!==i?i:"");a.notificationMessage(r,"red-snackbar")}else{var c="Data Updated Successfully\nTotal Requests : "+(null===(n=t.responseDetails)||void 0===n?void 0:n.totalRequests)+"\nSuccessfull Requests : "+(null===(s=t.responseDetails)||void 0===s?void 0:s.successFullRequests)+"\nFailed Requests : "+(null===(o=t.responseDetails)||void 0===o?void 0:o.failedRequests);a.notificationMessage(c,"green-snackbar")}else t&&"Success"===t.status?a.notificationMessage("Data Updated Successfully","green-snackbar"):a.notificationMessage(t.message,"red-snackbar");else a.notificationMessage("Failed to Update Data","red-snackbar");a.getAllOwners(a.clientId)},error:function(e){a.notificationMessage("Failed to Update Data","red-snackbar")}})}},{key:"deleteOwner",value:function(e){var t=this;e&&e.isContractExists?this.notificationMessage("Active Contract Exists,Hence Consumer can\u2019t be deleted","red-snackbar"):this.dialog.open(I.a).afterClosed().subscribe((function(a){a&&t.ownerService.deleteOwnerById(e.id).subscribe((function(){t.getAllOwners(t.clientId)}))}))}},{key:"ownerDetails",value:function(e){this.cookieService.set("ownerId",e.id),this.cookieService.set("ownerName",e.ownerName),this.router.navigate(["/openticketsdashboard"])}},{key:"onFilterChange",value:function(e){this.dataSource&&(e=(e=e.trim()).toLowerCase(),this.dataSource.filter=e)}},{key:"getAllOwners",value:function(e){var t=this;this.ownerService.getclientOwners(e).subscribe((function(e){e=e.map((function(e){return new g.a(e)})),t.subject$.next(e)})),this.dataSource=new m.k,this.data$.pipe(Object(h.a)((function(e){return!!e}))).subscribe((function(e){t.owners=e,t.dataSource.data=e})),this.ngAfterViewInit()}},{key:"ngOnDestroy",value:function(){}},{key:"notificationMessage",value:function(e,t){this.snackbar.open(e,null,{duration:5e3,verticalPosition:"top",horizontalPosition:"center",panelClass:[t]})}},{key:"getMovedOutTenants",value:function(){var e=this;this.clientId=parseInt(this.cookieService.get("globalClientId")),this.ownerService.getMovedOutTenants(this.clientId).subscribe({next:function(t){t=t.map((function(e){return new g.a(e)})),e.subject$.next(t)},error:function(t){e.notificationMessage("Moved Out Tenants Not Found.","red-snackbar"),e.owners=null,e.dataSource=new m.k(e.owners)}}),this.dataSource=new m.k(this.owners),this.data$.pipe(Object(h.a)((function(e){return!!e}))).subscribe((function(t){e.owners=t,e.dataSource.data=t})),this.ngAfterViewInit()}},{key:"toggleMovedOutTenant",value:function(e){this.movedOut=!e,1==this.movedOut?this.getMovedOutTenants():this.getAllOwners(this.clientId)}},{key:"content",set:function(e){this.sort=e,this.sort&&this.dataSource&&(this.dataSource.sort=this.sort)}},{key:"visibleColumns",get:function(){return this.columns.filter((function(e){return e.visible})).map((function(e){return e.property}))}}]),t}()).\u0275fac=function(e){return new(e||mt)(E.Nb(p.b),E.Nb(w.a),E.Nb(U.b),E.Nb(u.f),E.Nb(x.a),E.Nb(Ge.a),E.Nb(He.a),E.Nb(V.a))},mt.\u0275cmp=E.Hb({type:mt,selectors:[["create-owner"]],viewQuery:function(e,t){var a;1&e&&(E.Jc(d.a,!0),E.Vc(b.a,!0)),2&e&&(E.zc(a=E.cc())&&(t.paginator=a.first),E.zc(a=E.cc())&&(t.content=a.first))},inputs:{columns:"columns"},decls:25,vars:10,consts:[["mode","card"],["current","Create Owners or Tenants",3,"crumbs"],["name","Create Owners or Tenants",3,"columns","filterChange"],[1,"actions"],["color","primary",3,"change"],["type","button","mat-mini-fab","","color","primary",1,"create","left","margin",3,"click"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","checkbox"],["class","actions-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],["matColumnDef","image"],["class","image-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","image-cell","mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"paginator",3,"pageSize"],["mat-header-cell","",1,"actions-cell"],["color","primary",3,"click"],["mat-cell","",1,"actions-cell"],["mat-header-cell","",1,"image-cell"],["mat-cell","",1,"image-cell"],[3,"src"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"actions-cell"],["type","button","mat-icon-button","",3,"matMenuTriggerFor","click"],["yPosition","below","xPosition","before"],["actionsMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements",3,"click"]],template:function(e,t){1&e&&(E.Tb(0,"fury-page-layout",0),E.Tb(1,"fury-page-layout-header"),E.Ob(2,"fury-breadcrumbs",1),E.Sb(),E.Tb(3,"fury-page-layout-content"),E.Tb(4,"fury-list",2),E.bc("filterChange",(function(e){return t.onFilterChange(e)})),E.Tb(5,"div",3),E.Tb(6,"mat-checkbox",4),E.bc("change",(function(){return t.toggleMovedOutTenant(t.movedOut)})),E.Rc(7,"Moved Out Tenant"),E.Sb(),E.Tb(8,"button",5),E.bc("click",(function(){return t.createOwner()})),E.Tb(9,"mat-icon"),E.Rc(10,"add"),E.Sb(),E.Sb(),E.Sb(),E.Tb(11,"table",6),E.Rb(12,7),E.Pc(13,et,2,0,"th",8),E.Pc(14,tt,2,0,"td",9),E.Qb(),E.Rb(15,10),E.Pc(16,at,1,0,"th",11),E.Pc(17,it,2,1,"td",12),E.Qb(),E.Pc(18,rt,2,1,"ng-container",13),E.Rb(19,14),E.Pc(20,ct,1,0,"th",15),E.Pc(21,ut,13,2,"td",9),E.Qb(),E.Pc(22,dt,1,0,"tr",16),E.Pc(23,bt,1,0,"tr",17),E.Sb(),E.Ob(24,"mat-paginator",18),E.Sb(),E.Sb(),E.Sb()),2&e&&(E.Cb(2),E.mc("@fadeInRight",void 0)("crumbs",E.qc(9,vt)),E.Cb(1),E.mc("@fadeInUp",void 0),E.Cb(1),E.mc("columns",t.columns),E.Cb(7),E.mc("dataSource",t.dataSource),E.Cb(7),E.mc("ngForOf",t.columns),E.Cb(4),E.mc("matHeaderRowDef",t.visibleColumns),E.Cb(1),E.mc("matRowDefColumns",t.visibleColumns),E.Cb(1),E.mc("pageSize",t.pageSize))},directives:[Ke.a,Je.a,We.a,Xe.a,Ye.a,Z.a,L.a,$.a,m.j,b.a,m.c,m.e,m.b,s.n,m.g,m.i,d.a,m.d,m.a,s.o,b.b,Ze.d,Ze.e,Ze.b,m.f,m.h],styles:[".clickable[_ngcontent-%COMP%]{cursor:pointer}.left-margin[_ngcontent-%COMP%]{margin-left:5px}"],data:{animation:[Qe.a,Be.a]}}),mt),St=n("cIyM"),Tt=function(){return[]},Ct=[{path:"",component:yt},{path:":ownerId",component:(ft=function(){function t(a,i,n,s,o){e(this,t),this.route=a,this.router=i,this.menuItemService=n,this.cookieService=s,this.envService=o,this.menuItems=[]}return a(t,[{key:"ngOnInit",value:function(){var e=this;this.getDefaultRoutePages(),this.route&&this.route.paramMap.subscribe((function(t){if(t&&(e.menuItemService.setIsExteranlUser(e.envService.externalRoles.ownerExternal),e.ownerId=t.get("ownerId"),e.cookieService.set("external_role",e.envService.externalRoles.ownerExternal.toString()),e.defaultPageRoutes&&e.defaultPageRoutes.length)){var a=e.defaultPageRoutes.find((function(t){return t.roleId===e.envService.externalRoles.ownerExternal&&!0===t.isInternalUser}));a&&e.router.navigate([a.route])}}))}},{key:"getDefaultRoutePages",value:function(){var e=this;this.menuItemService.getDefaultRouterDetails().subscribe({next:function(t){e.defaultPageRoutes=t},error:function(t){e.defaultPageRoutes=[]}})}}]),t}(),ft.\u0275fac=function(e){return new(e||ft)(E.Nb(u.a),E.Nb(u.f),E.Nb(St.a),E.Nb(V.a),E.Nb(M.a))},ft.\u0275cmp=E.Hb({type:ft,selectors:[["fury-owner-details"]],decls:4,vars:4,consts:[["mode","card"],["current","Owners Details",3,"crumbs"]],template:function(e,t){1&e&&(E.Tb(0,"fury-page-layout",0),E.Tb(1,"fury-page-layout-header"),E.Ob(2,"fury-breadcrumbs",1),E.Sb(),E.Ob(3,"fury-page-layout-content"),E.Sb()),2&e&&(E.Cb(2),E.mc("@fadeInRight",void 0)("crumbs",E.qc(3,Tt)),E.Cb(1),E.mc("@fadeInUp",void 0))},directives:[Ke.a,Je.a,We.a,Xe.a],styles:[".clickable[_ngcontent-%COMP%]{cursor:pointer}"],data:{animation:[Qe.a,Be.a]}}),ft)}],wt=((ht=function t(){e(this,t)}).\u0275mod=E.Lb({type:ht}),ht.\u0275inj=E.Kb({factory:function(e){return new(e||ht)},imports:[[u.j.forChild(Ct)],u.j]}),ht),kt=n("YUcS"),Ot=n("VE2z"),Nt=n("QibW"),Dt=n("d3UM"),xt=n("GiUZ"),It=n("VY/7"),Rt=n("2+hO"),Pt=n("jJIU"),At=((pt=function t(){e(this,t)}).\u0275mod=E.Lb({type:pt}),pt.\u0275inj=E.Kb({factory:function(e){return new(e||pt)},imports:[[s.c,o.l,Ot.a,c.a,o.w,kt.a,l.a,p.g,G.c,L.b,Pt.a,$.b,Nt.c,Dt.b,Q.c,xt.a,It.a,Rt.a]]}),pt),Mt=n("WCGO"),Et=((gt=function t(){e(this,t)}).\u0275mod=E.Lb({type:gt}),gt.\u0275inj=E.Kb({factory:function(e){return new(e||gt)},imports:[[s.c,wt,o.l,l.a,Mt.a,c.a,At,r.a]]}),gt)}}])}();