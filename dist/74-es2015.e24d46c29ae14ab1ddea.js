(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{"7GSt":function(e,t,i){"use strict";i.r(t),i.d(t,"ClientsettingsModule",(function(){return Gt}));var n=i("ofXK"),o=i("tyNb"),s=i("+0xr"),l=i("tk/3"),r=i("sXtk"),a=i("fXoL");let c=(()=>{class e{constructor(e,t){this.httpClient=e,this.envService=t,this.baseUrl="",this.baseUrl=t.backend}generalData(e){return this.httpClient.get(this.baseUrl+"/generalSettings/UserClients/"+e)}emailData(e){return this.httpClient.get(this.baseUrl+"/generalSettings/EmailSettings/"+e)}localisationData(e){return this.httpClient.get(this.baseUrl+"/generalSettings/ClientLocalisatonSettings/"+e)}getBillSettings(){return this.httpClient.get(this.baseUrl+"/generalSettings/billSettings")}getGroupandLedger(){return this.httpClient.get(this.baseUrl+"/generalSettings/GetGroupandLedgers")}messageGrid(e){return this.httpClient.get(this.baseUrl+"/generalSettings/ClientSettingsMessage/"+e)}sequenceGrid(e){return this.httpClient.get(this.baseUrl+"/generalSettings/SequenceControl/"+e)}groupandLedgerGrid(e){return this.httpClient.get(this.baseUrl+"/generalSettings/ClientSettingsLedgerRelation/"+e)}getTermsAndConditions(e){return this.httpClient.get(this.baseUrl+"/generalSettings/clientSettingsTermsAndConditions/"+e)}saveGeneral(e){return this.httpClient.post(this.baseUrl+"/generalSettings/UserClients",e)}saveSequenceNumber(e){return this.httpClient.post(this.baseUrl+"/generalSettings/SequenceControl",e)}saveEmail(e){return this.httpClient.post(this.baseUrl+"/generalSettings/EmailSettings",e)}saveMessage(e){return this.httpClient.post(this.baseUrl+"/generalSettings/ClientSettingsMessage",e)}saveLocalisation(e){return this.httpClient.post(this.baseUrl+"/generalSettings/ClientSettingsLocalisation",e)}saveLedger(e){return this.httpClient.post(this.baseUrl+"/generalSettings/ClientSettingsLedgerRelation",e)}saveInvoiceTerms(e){return this.httpClient.post(this.baseUrl+"/generalSettings/clientSettingsTermsAndConditions",e)}copyClientSettings(e){return this.httpClient.post(this.baseUrl+"/generalSettings/copy/client/settings",e)}deleteMessage(e){return this.httpClient.delete(this.baseUrl+"/generalSettings/ClientSettingsMessage/"+e)}deleteLedger(e){return this.httpClient.delete(this.baseUrl+"/generalSettings/ClientSettingsLedgerRelation/"+e)}checkForDuplicatePrefix(e,t){let i=new l.f;return i=i.append("clientId",""+t),i=i.append("prefix",""+e),this.httpClient.get(this.baseUrl+"/generalSettings/checkDuplicatePrefix",{params:i})}}return e.\u0275fac=function(t){return new(t||e)(a.Xb(l.c),a.Xb(r.a))},e.\u0275prov=a.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var b=i("tB66"),m=i("3Pt+"),u=i("0IaG"),d=i("dNgK"),g=i("b6Qw"),p=i("XiUz"),h=i("kmnG"),f=i("d3UM"),S=i("bTqV"),C=i("znSr"),y=i("Dh3D"),T=i("FKr1"),v=i("NFeN");function R(e,t){if(1&e&&(a.Tb(0,"mat-option",22),a.Rc(1),a.Sb()),2&e){const e=t.$implicit;a.mc("value",e.groupId),a.Cb(1),a.Tc(" ",e.groupName," ")}}function I(e,t){1&e&&(a.Tb(0,"mat-error"),a.Rc(1,"Group Id is required."),a.Sb())}function M(e,t){if(1&e&&(a.Tb(0,"mat-option",22),a.Rc(1),a.Sb()),2&e){const e=t.$implicit;a.mc("value",e.ledgerId),a.Cb(1),a.Tc(" ",e.ledgerName," ")}}function P(e,t){1&e&&(a.Tb(0,"mat-error"),a.Rc(1,"Ledger Id is required."),a.Sb())}function w(e,t){1&e&&a.Ob(0,"th",23)}function O(e,t){if(1&e&&(a.Tb(0,"td",24),a.Ob(1,"img",25),a.Sb()),2&e){const e=t.$implicit;a.Cb(1),a.oc("src","http://i.pravatar.cc/30?u=",e.name,"",a.Gc)}}function k(e,t){1&e&&(a.Tb(0,"td",26),a.Tb(1,"mat-icon"),a.Rc(2,"more_horiz"),a.Sb(),a.Sb())}function N(e,t){if(1&e&&(a.Tb(0,"th",31),a.Rc(1),a.Sb()),2&e){const e=a.fc(2).$implicit;a.Cb(1),a.Tc(" ",e.name,"")}}function x(e,t){if(1&e&&(a.Tb(0,"td",32),a.Rc(1),a.Sb()),2&e){const e=t.$implicit,i=a.fc(2).$implicit;a.Cb(1),a.Tc(" ",e[i.property]," ")}}function D(e,t){if(1&e&&(a.Rb(0,28),a.Pc(1,N,2,1,"th",29),a.Pc(2,x,2,1,"td",30),a.Qb()),2&e){const e=a.fc().$implicit;a.mc("matColumnDef",e.property)}}function q(e,t){if(1&e&&(a.Rb(0),a.Pc(1,D,3,1,"ng-container",27),a.Qb()),2&e){const e=t.$implicit;a.Cb(1),a.mc("ngIf",e.isModelProperty)}}function F(e,t){1&e&&(a.Tb(0,"th",33),a.Rc(1,"Delete"),a.Sb())}function L(e,t){if(1&e){const e=a.Ub();a.Tb(0,"td",34),a.bc("click",(function(){a.Ec(e);const i=t.$implicit;return a.fc().deleteLedger(i)})),a.Tb(1,"mat-icon",35),a.Rc(2,"delete"),a.Sb(),a.Sb()}}function G(e,t){1&e&&(a.Tb(0,"th",33),a.Rc(1,"Modify"),a.Sb())}function U(e,t){if(1&e){const e=a.Ub();a.Tb(0,"td",34),a.bc("click",(function(){a.Ec(e);const i=t.$implicit;return a.fc().modifyLedger(i)})),a.Tb(1,"mat-icon",36),a.Rc(2,"edit"),a.Sb(),a.Sb()}}function E(e,t){1&e&&a.Ob(0,"tr",37)}function z(e,t){1&e&&a.Ob(0,"tr",38)}const A=function(e){return{display:e}};let K=(()=>{class e{constructor(e,t,i,n,o){this.fb=e,this.dialog=t,this.snackbar=i,this.clientSettingService=n,this.cookieService=o,this.blnShow="none",this.groupName="",this.ledgerName="",this.lstGroupandLedger=[],this.lstGroup=[],this.lstLedger=[],this.ledgerColumns=[{name:"Group Id",property:"groupName",visible:!0,isModelProperty:!0},{name:"Ledger Id",property:"ledgerName",visible:!0,isModelProperty:!0},{name:"Delete",property:"actions",visible:!0},{name:"Modify",property:"modify",visible:!0}],this.ledgerSettings=e.group({groupId:[""],ledgerId:[null]})}ngOnInit(){this.clientId=Number(this.cookieService.get("globalClientId")),this.getGroupandLedger(),this.getGridList()}getGridList(){this.clientSettingService.groupandLedgerGrid(this.clientId).subscribe(e=>{e&&(this.lstLedger=e,this.ledgerDataSource=new s.k(this.lstLedger),this.lstLedger.length>0&&(this.blnShow="block"))})}deleteLedger(e){this.dialog.open(b.a).afterClosed().subscribe(t=>{t&&(this.lstLedger.splice(this.lstLedger.findIndex(t=>t.groupName===e.groupName),1),this.ledgerDataSource=new s.k(this.lstLedger),0==this.lstLedger.length&&(this.blnShow="none"))})}modifyLedger(e){this.groupId=e.groupId,this.ledgerId=e.ledgerId,this.groupName=e.groupName,this.ledgerName=e.ledgerName,this.deleteLedger(e)}getGroupandLedger(){this.clientSettingService.getGroupandLedger().subscribe(e=>{e&&(this.lstGroup=[],this.lstGroupandLedger=e,this.lstGroupandLedger.forEach(e=>{this.lstGroup.findIndex(t=>t.groupId==e.groupId)<0&&this.lstGroup.push(e)}),this.lstGroupandLedger=this.lstGroupandLedger.filter(e=>e.ledgerName))})}get ledgerVisibleColumns(){return this.ledgerColumns.filter(e=>e.visible).map(e=>e.property)}onChangeGroupId(e){this.groupName=e.source.triggerValue,this.lstLedger.forEach(e=>{if(e.groupName==this.groupName)return this.notificationMessage("Group already added","red-snackbar"),this.groupName="",void(this.groupId=null)})}notificationMessage(e,t){this.snackbar.open(e,null,{duration:5e3,verticalPosition:"top",horizontalPosition:"end",panelClass:[t]})}onChangeLedgerId(e){this.ledgerName=e.source.triggerValue}saveLedger(){let e={clientId:Number(this.cookieService.get("globalClientId")),groupName:this.groupName,groupId:this.groupId,ledgerName:this.ledgerName,ledgerId:this.ledgerId};this.lstLedger.push(e),this.groupName="",this.ledgerName="",this.ledgerId=null,this.groupId=null,this.ledgerDataSource=new s.k(this.lstLedger),this.lstLedger.length>0&&(this.blnShow="block")}onGroupChange(e){this.groupName=e.groupName,this.groupId=e.groupId}onLedgerChange(e){this.ledgerName=e.ledgerName,this.ledgerId=e.ledgerId}}return e.\u0275fac=function(t){return new(t||e)(a.Nb(m.f),a.Nb(u.b),a.Nb(d.b),a.Nb(c),a.Nb(g.a))},e.\u0275cmp=a.Hb({type:e,selectors:[["fury-client-settings-ledger-relation"]],decls:38,vars:15,consts:[["fxLayout","column","fxLayoutGap","8px",1,"content",3,"formGroup"],["fxLayout","row","fxLayoutGap","8px"],["fxFlex","auto"],["formControlName","groupId",3,"ngModel","selectionChange","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","ledgerId",3,"ngModel","selectionChange","ngModelChange"],["mat-button","","color","primary",3,"disabled","click"],["fxLayout","row",1,"example-container",3,"ngStyle"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","image"],["class","image-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","image-cell","mat-cell","",4,"matCellDef"],["matColumnDef","delete"],["class","actions-cell","mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","modify"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",4,"matRowDef","matRowDefColumns"],[3,"value"],["mat-header-cell","",1,"image-cell"],["mat-cell","",1,"image-cell"],[3,"src"],["mat-cell","",1,"actions-cell"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","",1,"actions-cell"],["mat-cell","",1,"actions-cell",3,"click"],[1,"deleteIcon"],[1,"modifyIcon"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements"]],template:function(e,t){1&e&&(a.Tb(0,"div",0),a.Tb(1,"div",1),a.Tb(2,"mat-form-field",2),a.Tb(3,"mat-label"),a.Rc(4,"Group"),a.Sb(),a.Tb(5,"mat-select",3),a.bc("selectionChange",(function(e){return t.onChangeGroupId(e)}))("ngModelChange",(function(e){return t.groupId=e})),a.Pc(6,R,2,2,"mat-option",4),a.Sb(),a.Tb(7,"mat-hint"),a.Rc(8,"This will be Group Id."),a.Sb(),a.Pc(9,I,2,0,"mat-error",5),a.Sb(),a.Tb(10,"mat-form-field",2),a.Tb(11,"mat-label"),a.Rc(12,"Ledger"),a.Sb(),a.Tb(13,"mat-select",6),a.bc("selectionChange",(function(e){return t.onChangeLedgerId(e)}))("ngModelChange",(function(e){return t.ledgerId=e})),a.Pc(14,M,2,2,"mat-option",4),a.Sb(),a.Tb(15,"mat-hint"),a.Rc(16,"This will be Ledger Id."),a.Sb(),a.Pc(17,P,2,0,"mat-error",5),a.Sb(),a.Tb(18,"button",7),a.bc("click",(function(){return t.saveLedger()})),a.Rc(19,"CREATE LEDGER RELATION"),a.Sb(),a.Sb(),a.Tb(20,"div",8),a.Tb(21,"table",9),a.Rb(22,10),a.Pc(23,w,1,0,"th",11),a.Pc(24,O,2,1,"td",12),a.Qb(),a.Rb(25,13),a.Tb(26,"th"),a.Rc(27,"Delete"),a.Sb(),a.Pc(28,k,3,0,"td",14),a.Qb(),a.Pc(29,q,2,1,"ng-container",15),a.Rb(30,16),a.Pc(31,F,2,0,"th",17),a.Pc(32,L,3,0,"td",18),a.Qb(),a.Rb(33,19),a.Pc(34,G,2,0,"th",17),a.Pc(35,U,3,0,"td",18),a.Qb(),a.Pc(36,E,1,0,"tr",20),a.Pc(37,z,1,0,"tr",21),a.Sb(),a.Sb(),a.Sb()),2&e&&(a.mc("formGroup",t.ledgerSettings),a.Cb(5),a.mc("ngModel",t.groupId),a.Cb(1),a.mc("ngForOf",t.lstGroup),a.Cb(3),a.mc("ngIf",t.ledgerSettings.invalid),a.Cb(4),a.mc("ngModel",t.ledgerId),a.Cb(1),a.mc("ngForOf",t.lstGroupandLedger),a.Cb(3),a.mc("ngIf",t.ledgerSettings.invalid),a.Cb(1),a.mc("disabled",""===t.groupName||""===t.ledgerName),a.Cb(2),a.mc("ngStyle",a.rc(13,A,t.blnShow)),a.Cb(1),a.mc("dataSource",t.ledgerDataSource),a.Cb(8),a.mc("ngForOf",t.ledgerColumns),a.Cb(7),a.mc("matHeaderRowDef",t.ledgerVisibleColumns),a.Cb(1),a.mc("matRowDefColumns",t.ledgerVisibleColumns))},directives:[p.d,p.e,m.r,m.k,h.d,p.b,h.h,f.a,m.q,m.i,n.n,h.g,n.o,S.a,n.p,C.c,s.j,y.a,s.c,s.e,s.b,s.g,s.i,T.n,h.c,s.d,s.a,v.a,y.b,s.f,s.h],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{min-width:220px}.mat-icon[_ngcontent-%COMP%]{cursor:pointer}.example-container[_ngcontent-%COMP%]{overflow-x:scroll;height:200px}"]}),e})();var _=i("cFdI"),H=i("zP6O"),B=i("zSPf"),V=i("qFsG");let $=(()=>{class e{constructor(e){this.el=e,this.navigationKeys=["Backspace","Tab","End","Home","-","ArrowLeft","ArrowRight","Del","Delete"]}onKeyDown(e){this.navigationKeys.indexOf(e.key)>-1||"a"===e.key&&!0===e.ctrlKey||"c"===e.key&&!0===e.ctrlKey||"v"===e.key&&!0===e.ctrlKey||"x"===e.key&&!0===e.ctrlKey||"a"===e.key&&!0===e.metaKey||"c"===e.key&&!0===e.metaKey||"v"===e.key&&!0===e.metaKey||"x"===e.key&&!0===e.metaKey||(" "===e.key||isNaN(Number(e.key))||!isNaN(Number(e.key))&&Number(e.key)<1&&Number(e.key)>5)&&e.preventDefault()}}return e.\u0275fac=function(t){return new(t||e)(a.Nb(a.l))},e.\u0275dir=a.Ib({type:e,selectors:[["","furyValidateNumericOnlyDirective",""]],hostBindings:function(e,t){1&e&&a.bc("keydown",(function(e){return t.onKeyDown(e)}))}}),e})();function Q(e,t){if(1&e&&(a.Tb(0,"mat-option",27),a.Rc(1),a.Sb()),2&e){const e=t.$implicit;a.mc("value",e.id),a.Cb(1),a.Tc(" ",e.description," ")}}function j(e,t){1&e&&(a.Tb(0,"mat-error"),a.Rc(1,"Date Format is required."),a.Sb())}function X(e,t){if(1&e){const e=a.Ub();a.Tb(0,"mat-form-field",7),a.Tb(1,"mat-label"),a.Rc(2,"Date Format"),a.Sb(),a.Tb(3,"mat-select",26),a.bc("ngModelChange",(function(t){return a.Ec(e),a.fc().dateFormatId=t}))("selectionChange",(function(){return a.Ec(e),a.fc().validateForm()})),a.Pc(4,Q,2,2,"mat-option",5),a.Sb(),a.Tb(5,"mat-hint"),a.Rc(6,"This will be Date Format."),a.Sb(),a.Pc(7,j,2,0,"mat-error",6),a.Sb()}if(2&e){const e=a.fc();a.Cb(3),a.mc("ngModel",e.dateFormatId),a.Cb(1),a.mc("ngForOf",e.lstDateFormat),a.Cb(3),a.mc("ngIf",e.localisationSettings.invalid)}}function J(e,t){if(1&e&&(a.Tb(0,"mat-option",27),a.Rc(1),a.Sb()),2&e){const e=t.$implicit;a.mc("value",e.id),a.Cb(1),a.Tc(" ",e.description," ")}}function Z(e,t){1&e&&(a.Tb(0,"mat-hint"),a.Rc(1,"This will be Currency."),a.Sb())}function W(e,t){1&e&&(a.Tb(0,"mat-error"),a.Rc(1,"Currency is required."),a.Sb())}function Y(e,t){1&e&&(a.Tb(0,"mat-hint"),a.Rc(1,"This will be Currency RoundOff from 1-5."),a.Sb())}function ee(e,t){1&e&&(a.Tb(0,"mat-error"),a.Rc(1,"Currency RoundOff should be from 1-5."),a.Sb())}function te(e,t){if(1&e&&(a.Tb(0,"mat-option",27),a.Rc(1),a.Sb()),2&e){const e=t.$implicit;a.mc("value",e.id),a.Cb(1),a.Tc(" ",e.description," ")}}function ie(e,t){1&e&&(a.Tb(0,"mat-hint"),a.Rc(1,"This will be Utility Type."),a.Sb())}function ne(e,t){1&e&&(a.Tb(0,"mat-hint",28),a.Rc(1,"Utility Type already added."),a.Sb())}function oe(e,t){1&e&&(a.Tb(0,"mat-error"),a.Rc(1,"Currency RoundOff should be from 1-5."),a.Sb())}function se(e,t){1&e&&(a.Tb(0,"td",29),a.Tb(1,"mat-icon"),a.Rc(2,"more_horiz"),a.Sb(),a.Sb())}function le(e,t){if(1&e&&(a.Tb(0,"th",34),a.Rc(1),a.Sb()),2&e){const e=a.fc(2).$implicit;a.Cb(1),a.Tc(" ",e.name,"")}}function re(e,t){if(1&e&&(a.Tb(0,"td",35),a.Rc(1),a.Sb()),2&e){const e=t.$implicit,i=a.fc(2).$implicit;a.Cb(1),a.Tc(" ",e[i.property]," ")}}function ae(e,t){if(1&e&&(a.Rb(0,31),a.Pc(1,le,2,1,"th",32),a.Pc(2,re,2,1,"td",33),a.Qb()),2&e){const e=a.fc().$implicit;a.mc("matColumnDef",e.property)}}function ce(e,t){if(1&e&&(a.Rb(0),a.Pc(1,ae,3,1,"ng-container",30),a.Qb()),2&e){const e=t.$implicit;a.Cb(1),a.mc("ngIf",e.isModelProperty)}}function be(e,t){1&e&&(a.Tb(0,"th",36),a.Rc(1,"Consumption RoundOff"),a.Sb())}function me(e,t){if(1&e&&(a.Tb(0,"td",37),a.Rc(1),a.Sb()),2&e){const e=t.$implicit;a.Cb(1),a.Tc(" ",e.consumptionRoundOff," ")}}function ue(e,t){1&e&&a.Ob(0,"tr",38)}function de(e,t){1&e&&a.Ob(0,"tr",39)}function ge(e,t){1&e&&(a.Tb(0,"span",40),a.Rc(1,"* Please Map Consumption RoundOff for all Utilities."),a.Sb())}const pe=function(e){return{display:e}};let he=(()=>{class e{constructor(e,t,i,n,o,l,r){this.fb=e,this.snackbar=t,this.dialog=i,this.masterService=n,this.generalDashBoardService=o,this.clientSettingService=l,this.cookieService=r,this.blnShow="none",this.isDuplicateUtilityType=!1,this.localisationSaved=!1,this.lstConsumptionRoundOff=[],this.lstUtilityRoundOff=[],this.isFormvalid=!1,this.isUtilitiesMapped=!1,this.consumptionRoundOffDataSource=new s.k([]),this.consumptionRoundOffColumns=[{name:"Utility Type",property:"utilityType",visible:!0,isModelProperty:!0},{name:"Consumption RoundOff",property:"consumptionRoundOff",visible:!0,isModelProperty:!1}],this.localisationSettings=e.group({dateFormatId:[0],roundOff:[null,m.y.pattern("^[1-5]d*$")],currency:[null,m.y.required],utilityTypeId:[null],consumptionRoundOff:[null,m.y.pattern("^[1-5]d*$")]})}get localisationVisibleColumns(){return this.consumptionRoundOffColumns.filter(e=>e.visible).map(e=>e.property)}ngOnInit(){this.clientId=Number(this.cookieService.get("globalClientId")),this.masterService.getSystemMasterdata(48,0).subscribe(e=>{this.lstDateFormat=e}),this.getUtilities(),this.masterService.getUserMasterdata(31,0).subscribe(e=>{this.lstCurrency=e}),this.initialData()}getUtilities(){this.generalDashBoardService.getUtilities(this.clientId).subscribe(e=>{e&&(this.lstUtilityTypes=[],this.lstUtilityTypes=e,null==this.utilityTypeId&&(this.utilityTypeId=0))})}initialData(){this.lstConsumptionRoundOff=[],this.dateFormatId=0,this.roundOff=null,this.currency=null,this.localisationSaved=!1,this.clientSettingService.localisationData(this.clientId).subscribe(e=>{e&&(this.roundOff=e.currencyRoundOff,this.currency=e.currency,this.lstConsumptionRoundOff=e.utilityTypeRoundOff,this.localisationSettings.controls.currency.setValue(this.currency),this.localisationSettings.controls.roundOff.setValue(this.roundOff),this.roundOff&&""!=this.roundOff&&(this.localisationSettings.controls.currency.disable(),this.localisationSettings.controls.roundOff.disable(),this.localisationSaved=!0),this.consumptionRoundOffDataSource=new s.k(this.lstConsumptionRoundOff),this.lstConsumptionRoundOff&&this.lstUtilityTypes&&this.lstConsumptionRoundOff.length==this.lstUtilityTypes.length&&(this.isUtilitiesMapped=!0),this.lstConsumptionRoundOff.length>0&&(this.blnShow="block"),this.validateForm())})}notificationMessage(e,t){this.snackbar.open(e,null,{duration:5e3,verticalPosition:"top",horizontalPosition:"end",panelClass:[t]})}onUtilityType(e){this.utilityType=e.source.triggerValue,this.isDuplicateUtilityType=!1,this.lstConsumptionRoundOff.forEach(t=>{if(t.utilityType==e.source.triggerValue)return this.isDuplicateUtilityType=!0,this.utilityTypeId=null,this.utilityType="",void(this.keyId=null)})}saveConsumptionRoundOff(){if(this.utilityTypeId&&this.consumptionRoundOff){let e={client:Number(this.cookieService.get("globalClientId")),utilityTypeId:this.utilityTypeId,utilityType:this.utilityType,consumptionRoundOff:this.consumptionRoundOff.toString()};this.lstConsumptionRoundOff.push(e),this.utilityTypeId=null,this.utilityType="",this.consumptionRoundOff="",this.keyId=null,this.objEditRow=null}this.consumptionRoundOffDataSource=new s.k(this.lstConsumptionRoundOff),this.lstConsumptionRoundOff.length>0&&(this.blnShow="block"),this.lstUtilityTypes.length==this.lstConsumptionRoundOff.length&&(this.isUtilitiesMapped=!0),this.validateForm()}validateForm(){this.isFormvalid=!1,this.lstUtilityTypes&&this.lstConsumptionRoundOff&&this.lstUtilityTypes.length==this.lstConsumptionRoundOff.length&&this.localisationSettings.valid&&(this.isFormvalid=!0)}modifyConsumptionRoundOff(e){this.objEditRow&&this.lstConsumptionRoundOff&&(this.lstConsumptionRoundOff.push(this.objEditRow),this.consumptionRoundOffDataSource=new s.k(this.lstConsumptionRoundOff)),this.utilityTypeId=e.id,this.utilityType=e.utilityType,this.lstConsumptionRoundOff.filter(e=>{e.description==this.utilityType&&(this.keyId=e.id)}),this.utilityType=e.utilityType,this.utilityTypeId=e.utilityTypeId,this.consumptionRoundOff=e.consumptionRoundOff,this.objEditRow=e,this.duplicatePrefix="",this.deleteConsumptionRoundOff(e)}deleteConsumptionRoundOff(e){let t=this.lstConsumptionRoundOff.findIndex(t=>t.id===e.id);t>=0&&this.lstConsumptionRoundOff.splice(t,1),this.consumptionRoundOffDataSource=new s.k(this.lstConsumptionRoundOff),0==this.lstConsumptionRoundOff.length&&(this.blnShow="none")}createCurrency(){this.dialog.open(H.a,{data:[this.currency,31]}).afterClosed().subscribe(e=>{e&&"Success"==e&&this.masterService.getUserMasterdata(31,0).subscribe(e=>{this.lstCurrency=e})})}}return e.\u0275fac=function(t){return new(t||e)(a.Nb(m.f),a.Nb(d.b),a.Nb(u.b),a.Nb(B.a),a.Nb(_.a),a.Nb(c),a.Nb(g.a))},e.\u0275cmp=a.Hb({type:e,selectors:[["fury-client-settings-localisation"]],decls:48,vars:24,consts:[["fxLayout","column","fxLayoutGap","8px",1,"content",3,"formGroup"],["fxLayout","row","fxLayoutGap","16px"],["fxFlex","33%",4,"ngIf"],["fxFlex","28%"],["formControlName","currency","required","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["fxFlex","33%"],["type","number","formControlName","roundOff","furyValidateNumericOnlyDirective","","matInput","","required","",3,"ngModel","ngModelChange","keyup"],["fxLayout","row","fxLayoutGap","16px",1,"padding-top"],[2,"font-weight","bold"],["fxLayout","row","fxLayoutGap","16px",2,"padding-top","5px"],["formControlName","utilityTypeId",3,"ngModel","ngModelChange","selectionChange"],["style","color: red;",4,"ngIf"],["type","number","formControlName","consumptionRoundOff","furyValidateNumericOnlyDirective","","matInput","",3,"ngModel","ngModelChange"],["mat-button","","color","primary",3,"disabled","click"],["mat-table","","matSort","","align","center",1,"example-container",3,"dataSource","ngStyle"],["matColumnDef","delete"],["class","actions-cell","mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf"],["matColumnDef","consumptionRoundOff"],["mat-header-cell","","class","header-align-right",4,"matHeaderCellDef"],["mat-cell","","class","header-align-right",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",4,"matRowDef","matRowDefColumns"],["style","color: red;font-size: smaller;padding-top: 30px;",4,"ngIf"],["formControlName","dateFormatId","required","",3,"ngModel","ngModelChange","selectionChange"],[3,"value"],[2,"color","red"],["mat-cell","",1,"actions-cell"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","",1,"header-align-right"],["mat-cell","",1,"header-align-right"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements"],[2,"color","red","font-size","smaller","padding-top","30px"]],template:function(e,t){1&e&&(a.Tb(0,"div",0),a.Tb(1,"div",1),a.Pc(2,X,8,3,"mat-form-field",2),a.Tb(3,"mat-form-field",3),a.Tb(4,"mat-label"),a.Rc(5,"Currency"),a.Sb(),a.Tb(6,"mat-select",4),a.bc("ngModelChange",(function(e){return t.currency=e})),a.Pc(7,J,2,2,"mat-option",5),a.Sb(),a.Pc(8,Z,2,0,"mat-hint",6),a.Pc(9,W,2,0,"mat-error",6),a.Sb(),a.Tb(10,"mat-form-field",7),a.Tb(11,"mat-label"),a.Rc(12,"Currency RoundOff"),a.Sb(),a.Tb(13,"input",8),a.bc("ngModelChange",(function(e){return t.roundOff=e}))("keyup",(function(){return t.validateForm()})),a.Sb(),a.Pc(14,Y,2,0,"mat-hint",6),a.Pc(15,ee,2,0,"mat-error",6),a.Sb(),a.Sb(),a.Tb(16,"div",9),a.Tb(17,"span",10),a.Rc(18,"Map Client Utilities & Consumption RoundOff"),a.Sb(),a.Sb(),a.Tb(19,"div",11),a.Tb(20,"mat-form-field",3),a.Tb(21,"mat-label"),a.Rc(22,"Utilities"),a.Sb(),a.Tb(23,"mat-select",12),a.bc("ngModelChange",(function(e){return t.utilityTypeId=e}))("selectionChange",(function(e){return t.onUtilityType(e)})),a.Pc(24,te,2,2,"mat-option",5),a.Sb(),a.Pc(25,ie,2,0,"mat-hint",6),a.Pc(26,ne,2,0,"mat-hint",13),a.Sb(),a.Tb(27,"mat-form-field",7),a.Tb(28,"mat-label"),a.Rc(29,"Consumption RoundOff"),a.Sb(),a.Tb(30,"input",14),a.bc("ngModelChange",(function(e){return t.consumptionRoundOff=e})),a.Sb(),a.Tb(31,"mat-hint"),a.Rc(32,"This will be Consumption RoundOff from 1-5."),a.Sb(),a.Pc(33,oe,2,0,"mat-error",6),a.Sb(),a.Tb(34,"button",15),a.bc("click",(function(){return t.saveConsumptionRoundOff()})),a.Rc(35,"ADD CONSUMPTION ROUNDOFF"),a.Sb(),a.Sb(),a.Tb(36,"table",16),a.Rb(37,17),a.Tb(38,"th"),a.Rc(39,"Delete"),a.Sb(),a.Pc(40,se,3,0,"td",18),a.Qb(),a.Pc(41,ce,2,1,"ng-container",19),a.Rb(42,20),a.Pc(43,be,2,0,"th",21),a.Pc(44,me,2,1,"td",22),a.Qb(),a.Pc(45,ue,1,0,"tr",23),a.Pc(46,de,1,0,"tr",24),a.Sb(),a.Pc(47,ge,2,0,"span",25),a.Sb()),2&e&&(a.mc("formGroup",t.localisationSettings),a.Cb(2),a.mc("ngIf",!1),a.Cb(4),a.mc("ngModel",t.currency),a.Cb(1),a.mc("ngForOf",t.lstCurrency),a.Cb(1),a.mc("ngIf",!t.localisationSaved),a.Cb(1),a.mc("ngIf",t.localisationSettings.invalid),a.Cb(4),a.mc("ngModel",t.roundOff),a.Cb(1),a.mc("ngIf",!t.localisationSaved),a.Cb(1),a.mc("ngIf",t.localisationSettings.invalid),a.Cb(8),a.mc("ngModel",t.utilityTypeId),a.Cb(1),a.mc("ngForOf",t.lstUtilityTypes),a.Cb(1),a.mc("ngIf",0==t.isDuplicateUtilityType),a.Cb(1),a.mc("ngIf",1==t.isDuplicateUtilityType),a.Cb(4),a.mc("ngModel",t.consumptionRoundOff),a.Cb(3),a.mc("ngIf",t.localisationSettings.invalid),a.Cb(1),a.mc("disabled",null==t.utilityTypeId||null==t.utilityTypeId||t.localisationSettings.controls.consumptionRoundOff.invalid||null==t.consumptionRoundOff||""==t.consumptionRoundOff||t.lstUtilityTypes.length==t.lstConsumptionRoundOff.length),a.Cb(2),a.mc("dataSource",t.consumptionRoundOffDataSource)("ngStyle",a.rc(22,pe,t.blnShow)),a.Cb(5),a.mc("ngForOf",t.consumptionRoundOffColumns),a.Cb(4),a.mc("matHeaderRowDef",t.localisationVisibleColumns),a.Cb(1),a.mc("matRowDefColumns",t.localisationVisibleColumns),a.Cb(1),a.mc("ngIf",0==t.isUtilitiesMapped))},directives:[p.d,p.e,m.r,m.k,n.o,h.d,p.b,h.h,f.a,m.q,m.i,m.x,n.n,m.u,m.c,V.b,$,h.g,S.a,s.j,y.a,n.p,C.c,s.c,s.b,s.e,s.g,s.i,T.n,h.c,s.a,v.a,s.d,y.b,s.f,s.h],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{min-width:120px}.mat-icon[_ngcontent-%COMP%]{cursor:pointer}.header-align-right[_ngcontent-%COMP%]{text-align:right;padding-right:10%}"]}),e})();var fe=i("Qu3c");function Se(e,t){if(1&e&&(a.Tb(0,"mat-option",23),a.Rc(1),a.Sb()),2&e){const e=t.$implicit;a.mc("value",e),a.Cb(1),a.Tc(" ",e," ")}}function Ce(e,t){1&e&&(a.Tb(0,"mat-error"),a.Rc(1,"Message Type is required."),a.Sb())}function ye(e,t){1&e&&(a.Tb(0,"mat-icon"),a.Rc(1,"visibility"),a.Sb())}function Te(e,t){1&e&&(a.Tb(0,"mat-icon"),a.Rc(1,"visibility_off"),a.Sb())}function ve(e,t){1&e&&(a.Tb(0,"td",24),a.Tb(1,"mat-icon"),a.Rc(2,"more_horiz"),a.Sb(),a.Sb())}function Re(e,t){if(1&e&&(a.Tb(0,"th",29),a.Rc(1),a.Sb()),2&e){const e=a.fc(2).$implicit;a.Cb(1),a.Tc(" ",e.name,"")}}function Ie(e,t){if(1&e&&(a.Tb(0,"td",30),a.Rc(1),a.Sb()),2&e){const e=t.$implicit,i=a.fc(2).$implicit;a.Cb(1),a.Tc(" ",e[i.property]," ")}}function Me(e,t){if(1&e&&(a.Rb(0,26),a.Pc(1,Re,2,1,"th",27),a.Pc(2,Ie,2,1,"td",28),a.Qb()),2&e){const e=a.fc().$implicit;a.mc("matColumnDef",e.property)}}function Pe(e,t){if(1&e&&(a.Rb(0),a.Pc(1,Me,3,1,"ng-container",25),a.Qb()),2&e){const e=t.$implicit;a.Cb(1),a.mc("ngIf",e.isModelProperty)}}function we(e,t){1&e&&(a.Tb(0,"th",31),a.Rc(1,"Delete"),a.Sb())}function Oe(e,t){if(1&e){const e=a.Ub();a.Tb(0,"td",32),a.bc("click",(function(){a.Ec(e);const i=t.$implicit;return a.fc().deleteMessage(i)})),a.Tb(1,"mat-icon",33),a.Rc(2,"delete"),a.Sb(),a.Sb()}}function ke(e,t){1&e&&(a.Tb(0,"th",31),a.Rc(1,"Modify"),a.Sb())}function Ne(e,t){if(1&e){const e=a.Ub();a.Tb(0,"td",32),a.bc("click",(function(){a.Ec(e);const i=t.$implicit;return a.fc().modifyMessage(i)})),a.Tb(1,"mat-icon",34),a.Rc(2,"edit"),a.Sb(),a.Sb()}}function xe(e,t){1&e&&a.Ob(0,"tr",35)}function De(e,t){1&e&&a.Ob(0,"tr",36)}const qe=function(e){return{display:e}};let Fe=(()=>{class e{constructor(e,t,i,n,o,s){this.fb=e,this.dialog=t,this.cd=i,this.clientSettingService=n,this.snackbar=o,this.cookieService=s,this.lstMessage=[],this.blnShow="none",this.inputType="password",this.visible=!1,this.senderId="",this.apiLink="",this.userName="",this.password="",this.messageType="",this.messageTypes=["SMS","Whats App"],this.messageColumns=[{name:"Message Type",property:"messagetype",visible:!0,isModelProperty:!0},{name:"Sender Id",property:"senderId",visible:!0,isModelProperty:!0},{name:"Username",property:"username",visible:!0,isModelProperty:!0},{name:"Password",property:"password",visible:!0,isModelProperty:!0},{name:"ApiLink",property:"apiLink",visible:!0,isModelProperty:!0},{name:"Delete",property:"actions",visible:!0},{name:"Modify",property:"modify",visible:!0}],this.messageSettings=e.group({senderId:[""],apiLink:[null],userName:[null],password:[""],messageType:[""]})}ngOnInit(){this.clientId=Number(this.cookieService.get("globalClientId")),this.gridList()}get messageVisibleColumns(){return this.messageColumns.filter(e=>e.visible).map(e=>e.property)}gridList(){this.clientSettingService.messageGrid(this.clientId).subscribe(e=>{e&&(this.lstMessage=e,this.messageDataSource=new s.k(this.lstMessage),this.lstMessage.length>0&&(this.blnShow="block"))})}onMessageTypeChange(){this.lstMessage.forEach(e=>{if(e.messagetype==this.messageType)return this.notificationMessage("Message Type already added","red-snackbar"),void(this.messageType="")})}notificationMessage(e,t){this.snackbar.open(e,null,{duration:5e3,verticalPosition:"top",horizontalPosition:"end",panelClass:[t]})}saveMessage(){if(this.senderId&&this.apiLink&&this.userName&&this.password&&this.messageType){let e={clientId:Number(this.cookieService.get("globalClientId")),senderId:this.senderId,apiLink:this.apiLink,username:this.userName,password:this.password,messagetype:this.messageType};this.lstMessage.push(e),this.senderId="",this.apiLink="",this.userName="",this.password="",this.messageType=""}this.messageDataSource=new s.k(this.lstMessage),this.lstMessage.length>0&&(this.blnShow="block")}deleteMessage(e){this.dialog.open(b.a).afterClosed().subscribe(t=>{t&&this.removeFromGrid(e)})}removeFromGrid(e){this.lstMessage.splice(this.lstMessage.findIndex(t=>t.senderId===e.senderId),1),this.messageDataSource=new s.k(this.lstMessage),0==this.lstMessage.length&&(this.blnShow="none")}modifyMessage(e){this.senderId=e.senderId,this.apiLink=e.apiLink,this.userName=e.username,this.password=e.password,this.messageType=e.messagetype,this.removeFromGrid(e)}onChangeClientId(e){}toggleVisibility(){this.visible?(this.inputType="password",this.visible=!1,this.cd.markForCheck()):(this.inputType="text",this.visible=!0,this.cd.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(a.Nb(m.f),a.Nb(u.b),a.Nb(a.h),a.Nb(c),a.Nb(d.b),a.Nb(g.a))},e.\u0275cmp=a.Hb({type:e,selectors:[["fury-client-settings-message"]],decls:54,vars:19,consts:[["fxLayout","column","fxLayoutGap","8px",1,"content",3,"formGroup"],["fxLayout","row","fxLayoutGap","8px"],["fxFlex","auto","fxFlex","50%"],["formControlName","messageType",3,"ngModel","selectionChange","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","senderId","matInput","",3,"ngModel","ngModelChange"],["formControlName","userName","matInput","",3,"ngModel","ngModelChange"],["formControlName","password","matInput","",3,"type","ngModel","ngModelChange"],["type","button","mat-icon-button","","matSuffix","","matTooltip","Toggle Visibility",3,"click"],["fxFlex","auto"],["formControlName","apiLink","matInput","","pattern","[Hh][Tt][Tt][Pp][Ss]?:\\/\\/(?:(?:[a-zA-Z\\u00a1-\\uffff0-9]+-?)*[a-zA-Z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-zA-Z\\u00a1-\\uffff0-9]+-?)*[a-zA-Z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-zA-Z\\u00a1-\\uffff]{2,}))(?::\\d{2,5})?(?:\\/[^\\s]*)?",3,"ngModel","ngModelChange"],["mat-button","","color","primary",3,"disabled","click"],["mat-table","","matSort","","fxFlex","auto",1,"example-container",3,"dataSource","ngStyle"],["matColumnDef","delete"],["class","actions-cell","mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","modify"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",4,"matRowDef","matRowDefColumns"],[3,"value"],["mat-cell","",1,"actions-cell"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","",1,"actions-cell"],["mat-cell","",1,"actions-cell",3,"click"],[1,"deleteIcon"],[1,"modifyIcon"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements"]],template:function(e,t){1&e&&(a.Tb(0,"div",0),a.Tb(1,"div",1),a.Tb(2,"mat-form-field",2),a.Tb(3,"mat-label"),a.Rc(4,"Message Type"),a.Sb(),a.Tb(5,"mat-select",3),a.bc("selectionChange",(function(){return t.onMessageTypeChange()}))("ngModelChange",(function(e){return t.messageType=e})),a.Pc(6,Se,2,2,"mat-option",4),a.Sb(),a.Tb(7,"mat-hint"),a.Rc(8,"This will be message type."),a.Sb(),a.Pc(9,Ce,2,0,"mat-error",5),a.Sb(),a.Tb(10,"mat-form-field",2),a.Tb(11,"mat-label"),a.Rc(12,"Sender Id"),a.Sb(),a.Tb(13,"input",6),a.bc("ngModelChange",(function(e){return t.senderId=e})),a.Sb(),a.Tb(14,"mat-hint"),a.Rc(15,"This will be unique Sender Id"),a.Sb(),a.Sb(),a.Sb(),a.Tb(16,"div",1),a.Tb(17,"mat-form-field",2),a.Tb(18,"mat-label"),a.Rc(19,"User Name"),a.Sb(),a.Tb(20,"input",7),a.bc("ngModelChange",(function(e){return t.userName=e})),a.Sb(),a.Tb(21,"mat-hint"),a.Rc(22,"This will be unique User Name"),a.Sb(),a.Sb(),a.Tb(23,"mat-form-field",2),a.Tb(24,"mat-label"),a.Rc(25,"Password"),a.Sb(),a.Tb(26,"input",8),a.bc("ngModelChange",(function(e){return t.password=e})),a.Sb(),a.Tb(27,"button",9),a.bc("click",(function(){return t.toggleVisibility()})),a.Pc(28,ye,2,0,"mat-icon",5),a.Pc(29,Te,2,0,"mat-icon",5),a.Sb(),a.Tb(30,"mat-hint"),a.Rc(31,"This will be unique Password"),a.Sb(),a.Sb(),a.Sb(),a.Tb(32,"mat-form-field",10),a.Tb(33,"mat-label"),a.Rc(34,"API Link"),a.Sb(),a.Tb(35,"input",11),a.bc("ngModelChange",(function(e){return t.apiLink=e})),a.Sb(),a.Tb(36,"mat-hint"),a.Rc(37,"This will be like http://wwww.example.com"),a.Sb(),a.Sb(),a.Tb(38,"button",12),a.bc("click",(function(){return t.saveMessage()})),a.Rc(39,"ADD SETTINGS"),a.Sb(),a.Tb(40,"table",13),a.Rb(41,14),a.Tb(42,"th"),a.Rc(43,"Delete"),a.Sb(),a.Pc(44,ve,3,0,"td",15),a.Qb(),a.Pc(45,Pe,2,1,"ng-container",16),a.Rb(46,17),a.Pc(47,we,2,0,"th",18),a.Pc(48,Oe,3,0,"td",19),a.Qb(),a.Rb(49,20),a.Pc(50,ke,2,0,"th",18),a.Pc(51,Ne,3,0,"td",19),a.Qb(),a.Pc(52,xe,1,0,"tr",21),a.Pc(53,De,1,0,"tr",22),a.Sb(),a.Sb()),2&e&&(a.mc("formGroup",t.messageSettings),a.Cb(5),a.mc("ngModel",t.messageType),a.Cb(1),a.mc("ngForOf",t.messageTypes),a.Cb(3),a.mc("ngIf",t.messageSettings.invalid),a.Cb(4),a.mc("ngModel",t.senderId),a.Cb(7),a.mc("ngModel",t.userName),a.Cb(6),a.mc("type",t.inputType)("ngModel",t.password),a.Cb(2),a.mc("ngIf",t.visible),a.Cb(1),a.mc("ngIf",!t.visible),a.Cb(6),a.mc("ngModel",t.apiLink),a.Cb(3),a.mc("disabled",""===t.senderId||""===t.apiLink||""===t.userName||""===t.password||""===t.messageType),a.Cb(2),a.mc("dataSource",t.messageDataSource)("ngStyle",a.rc(17,qe,t.blnShow)),a.Cb(5),a.mc("ngForOf",t.messageColumns),a.Cb(7),a.mc("matHeaderRowDef",t.messageVisibleColumns),a.Cb(1),a.mc("matRowDefColumns",t.messageVisibleColumns))},directives:[p.d,p.e,m.r,m.k,h.d,p.b,h.h,f.a,m.q,m.i,n.n,h.g,n.o,m.c,V.b,S.a,h.j,fe.a,m.v,s.j,y.a,n.p,C.c,s.c,s.b,s.e,s.g,s.i,T.n,h.c,v.a,s.a,s.d,y.b,s.f,s.h],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{min-width:125px}.mat-icon[_ngcontent-%COMP%]{cursor:pointer}.example-container[_ngcontent-%COMP%]{overflow-x:scroll;height:200px}"]}),e})();var Le=i("bSwM");function Ge(e,t){if(1&e&&(a.Tb(0,"mat-option",14),a.Rc(1),a.Sb()),2&e){const e=t.$implicit;a.mc("value",e.clientId),a.Cb(1),a.Tc(" ",e.clientName," ")}}function Ue(e,t){1&e&&(a.Tb(0,"mat-error"),a.Rc(1,"Client is required."),a.Sb())}function Ee(e,t){if(1&e&&(a.Tb(0,"mat-option",14),a.Rc(1),a.Sb()),2&e){const e=t.$implicit;a.mc("value",e.id),a.Cb(1),a.Tc(" ",e.description," ")}}function ze(e,t){1&e&&(a.Tb(0,"mat-error"),a.Rc(1,"Bill Settings is required."),a.Sb())}let Ae=(()=>{class e{constructor(e,t,i,n){this.fb=e,this.snackbar=t,this.clientSettingService=i,this.cookieService=n,this.clientId=null,this.lstClients=[],this.workingHrs="",this.isBilledbyClient=!1,this.generalSettings=e.group({clientId:[{value:"",disabled:!0}],workingHrs:[null],supportMail:[null],website:[""],billSettingsId:[""],isBilledbyClient:!1})}ngOnInit(){this.lstClients=JSON.parse(localStorage.getItem("userClients")),this.clientId=Number(this.cookieService.get("globalClientId")),this.getBillSettings(),this.initialData(this.clientId)}initialData(e){this.clientSettingService.generalData(e).subscribe({next:e=>{e&&(this.workingHrs=e.workingHours,this.supportMail=e.supportMail,this.website=e.website,this.billSettingsId=e.billSettingsId,this.isBilledbyClient=e.isBilledbyClient)},error:e=>{this.workingHrs=null,this.supportMail=null,this.website="",this.billSettingsId=0,this.isBilledbyClient=!1,this.notificationMessage("Data Not Found.","red-snackbar")}})}notificationMessage(e,t){this.snackbar.open(e,null,{duration:5e3,verticalPosition:"top",horizontalPosition:"end",panelClass:[t]})}onChangeClientId(e){this.initialData(e)}getBillSettings(){this.clientSettingService.getBillSettings().subscribe(e=>{e&&(this.lstBillSettings=e)})}}return e.\u0275fac=function(t){return new(t||e)(a.Nb(m.f),a.Nb(d.b),a.Nb(c),a.Nb(g.a))},e.\u0275cmp=a.Hb({type:e,selectors:[["fury-general"]],decls:39,vars:11,consts:[["fxLayout","column","fxLayoutGap","8px",1,"content",3,"formGroup"],["fxLayout","row","fxLayoutGap","8px"],["fxFlex","auto"],["formControlName","clientId","required","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["fxFlex","auto","fxFlex","50%"],["formControlName","workingHrs","matInput","","required","",3,"ngModel","ngModelChange"],["formControlName","supportMail","matInput","","required","","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$",3,"ngModel","ngModelChange"],["formControlName","billSettingsId","required","",3,"ngModel","ngModelChange"],["fxFlex","50%"],["formControlName","website","matInput","","required","","pattern","[Hh][Tt][Tt][Pp][Ss]?:\\/\\/(?:(?:[a-zA-Z\\u00a1-\\uffff0-9]+-?)*[a-zA-Z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-zA-Z\\u00a1-\\uffff0-9]+-?)*[a-zA-Z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-zA-Z\\u00a1-\\uffff]{2,}))(?::\\d{2,5})?(?:\\/[^\\s]*)?",3,"ngModel","ngModelChange"],[1,"billedByClient"],["color","primary","formControlName","isBilledbyClient",3,"ngModel","ngModelChange"],[3,"value"]],template:function(e,t){1&e&&(a.Tb(0,"div",0),a.Tb(1,"div",1),a.Tb(2,"mat-form-field",2),a.Tb(3,"mat-label"),a.Rc(4,"Client"),a.Sb(),a.Tb(5,"mat-select",3),a.bc("ngModelChange",(function(e){return t.clientId=e})),a.Pc(6,Ge,2,2,"mat-option",4),a.Sb(),a.Pc(7,Ue,2,0,"mat-error",5),a.Sb(),a.Tb(8,"mat-form-field",6),a.Tb(9,"mat-label"),a.Rc(10,"Working Hours"),a.Sb(),a.Tb(11,"input",7),a.bc("ngModelChange",(function(e){return t.workingHrs=e})),a.Sb(),a.Tb(12,"mat-hint"),a.Rc(13,"This will be working hours with time like Mon-Fri 9:30-5:30, Sat. 9:30-3:00, Sun. Closed"),a.Sb(),a.Sb(),a.Sb(),a.Tb(14,"div",1),a.Tb(15,"mat-form-field",6),a.Tb(16,"mat-label"),a.Rc(17,"Support Mail"),a.Sb(),a.Tb(18,"input",8),a.bc("ngModelChange",(function(e){return t.supportMail=e})),a.Sb(),a.Tb(19,"mat-hint"),a.Rc(20,"This will be like example@gmail.com"),a.Sb(),a.Sb(),a.Tb(21,"mat-form-field",6),a.Tb(22,"mat-label"),a.Rc(23,"Bill Settings"),a.Sb(),a.Tb(24,"mat-select",9),a.bc("ngModelChange",(function(e){return t.billSettingsId=e})),a.Pc(25,Ee,2,2,"mat-option",4),a.Sb(),a.Tb(26,"mat-hint"),a.Rc(27,"This will be Bill Settings Id."),a.Sb(),a.Pc(28,ze,2,0,"mat-error",5),a.Sb(),a.Sb(),a.Tb(29,"div",1),a.Tb(30,"mat-form-field",10),a.Tb(31,"mat-label"),a.Rc(32,"Website"),a.Sb(),a.Tb(33,"input",11),a.bc("ngModelChange",(function(e){return t.website=e})),a.Sb(),a.Tb(34,"mat-hint"),a.Rc(35,"This will be like http://www.example.com"),a.Sb(),a.Sb(),a.Tb(36,"div",12),a.Tb(37,"mat-checkbox",13),a.bc("ngModelChange",(function(e){return t.isBilledbyClient=e})),a.Rc(38,"Billed by Client"),a.Sb(),a.Sb(),a.Sb(),a.Sb()),2&e&&(a.mc("formGroup",t.generalSettings),a.Cb(5),a.mc("ngModel",t.clientId),a.Cb(1),a.mc("ngForOf",t.lstClients),a.Cb(1),a.mc("ngIf",t.generalSettings.invalid),a.Cb(4),a.mc("ngModel",t.workingHrs),a.Cb(7),a.mc("ngModel",t.supportMail),a.Cb(6),a.mc("ngModel",t.billSettingsId),a.Cb(1),a.mc("ngForOf",t.lstBillSettings),a.Cb(3),a.mc("ngIf",t.generalSettings.invalid),a.Cb(5),a.mc("ngModel",t.website),a.Cb(4),a.mc("ngModel",t.isBilledbyClient))},directives:[p.d,p.e,m.r,m.k,h.d,p.b,h.h,f.a,m.q,m.i,m.x,n.n,n.o,m.c,V.b,h.g,m.v,Le.a,T.n,h.c],styles:[".billedByClient[_ngcontent-%COMP%]{padding-top:15px}"]}),e})();function Ke(e,t){if(1&e&&(a.Tb(0,"mat-option",21),a.Rc(1),a.Sb()),2&e){const e=t.$implicit;a.mc("value",e.id),a.Cb(1),a.Tc(" ",e.description," ")}}function _e(e,t){1&e&&(a.Tb(0,"mat-error"),a.Rc(1,"Sequence Key is required."),a.Sb())}function He(e,t){1&e&&(a.Tb(0,"mat-hint"),a.Rc(1,"This will be Sequence Format"),a.Sb())}function Be(e,t){1&e&&(a.Tb(0,"td",22),a.Tb(1,"mat-icon"),a.Rc(2,"more_horiz"),a.Sb(),a.Sb())}function Ve(e,t){if(1&e&&(a.Tb(0,"th",27),a.Rc(1),a.Sb()),2&e){const e=a.fc(2).$implicit;a.Cb(1),a.Tc(" ",e.name,"")}}function $e(e,t){if(1&e&&(a.Tb(0,"td",28),a.Rc(1),a.Sb()),2&e){const e=t.$implicit,i=a.fc(2).$implicit;a.Cb(1),a.Tc(" ",e[i.property]," ")}}function Qe(e,t){if(1&e&&(a.Rb(0,24),a.Pc(1,Ve,2,1,"th",25),a.Pc(2,$e,2,1,"td",26),a.Qb()),2&e){const e=a.fc().$implicit;a.mc("matColumnDef",e.property)}}function je(e,t){if(1&e&&(a.Rb(0),a.Pc(1,Qe,3,1,"ng-container",23),a.Qb()),2&e){const e=t.$implicit;a.Cb(1),a.mc("ngIf",e.isModelProperty)}}function Xe(e,t){1&e&&(a.Tb(0,"th",29),a.Rc(1,"Delete"),a.Sb())}function Je(e,t){if(1&e){const e=a.Ub();a.Tb(0,"td",30),a.bc("click",(function(){a.Ec(e);const i=t.$implicit;return a.fc().deleteSequence(i)})),a.Tb(1,"mat-icon",31),a.Rc(2,"delete"),a.Sb(),a.Sb()}}function Ze(e,t){1&e&&(a.Tb(0,"th",29),a.Rc(1,"Modify"),a.Sb())}function We(e,t){if(1&e){const e=a.Ub();a.Tb(0,"td",30),a.bc("click",(function(){a.Ec(e);const i=t.$implicit;return a.fc().modifySequence(i)})),a.Tb(1,"mat-icon",32),a.Rc(2,"edit"),a.Sb(),a.Sb()}}function Ye(e,t){1&e&&a.Ob(0,"tr",33)}function et(e,t){1&e&&a.Ob(0,"tr",34)}const tt=function(e){return{display:e}};let it=(()=>{class e{constructor(e,t,i,n,o,l){this.fb=e,this.dialog=t,this.masterService=i,this.clientSettingService=n,this.snackbar=o,this.cookieService=l,this.sequenceDataSource=new s.k([]),this.blnShow="none",this.lstSequence=[],this.sequenceKey="",this.sequenceFormat="",this.duplicatePrefix="",this.sequenceColumns=[{name:"Sequence Key",property:"sequenceKey",visible:!0,isModelProperty:!0},{name:"Last Sequence",property:"lastSequence",visible:!0,isModelProperty:!0},{name:"Sequence Format",property:"sequenceFormat",visible:!0,isModelProperty:!0},{name:"Zero Pad To Digits",property:"zeroPadToDigits",visible:!0,isModelProperty:!0},{name:"Increment By",property:"incrementBy",visible:!0,isModelProperty:!0},{name:"Delete",property:"actions",visible:!0},{name:"Modify",property:"modify",visible:!0}],this.sequenceSettings=e.group({sequenceKey:[""],lastSequence:[null],sequenceFormat:[null],zeroPadToDigits:[""],incrementBy:[""]})}ngOnInit(){this.clientId=Number(this.cookieService.get("globalClientId")),this.getSequenceKeys(),this.gridList()}gridList(){this.clientSettingService.sequenceGrid(this.clientId).subscribe(e=>{e&&(this.lstSequence=e,this.sequenceDataSource=new s.k(this.lstSequence),this.lstSequence.length>0&&(this.blnShow="block"))})}notificationMessage(e,t){this.snackbar.open(e,null,{duration:5e3,verticalPosition:"top",horizontalPosition:"end",panelClass:[t]})}getSequenceKeys(){this.masterService.getSystemMasterdata(58,0).subscribe(e=>{this.lstSequenceKey=e})}onSequenceKey(e){this.sequenceKey=e.source.triggerValue,this.lstSequence.forEach(t=>{if(t.sequenceKey==e.source.triggerValue)return this.notificationMessage("Sequence key already added","red-snackbar"),this.sequenceKeyId=null,this.sequenceKey="",void(this.keyId=null)})}saveSequence(){if(this.sequenceKey&&this.lastSequence&&this.sequenceFormat&&this.zeroPadToDigits>=0&&this.incrementBy){let e={client:Number(this.cookieService.get("globalClientId")),sequenceKeyId:this.sequenceKeyId,sequenceKey:this.sequenceKey,lastSequence:this.lastSequence,sequenceFormat:this.sequenceFormat.indexOf("#")>=0?this.sequenceFormat:this.sequenceFormat+"-[#]",zeroPadToDigits:this.zeroPadToDigits,incrementBy:this.incrementBy};this.lstSequence.push(e),this.sequenceKey="",this.sequenceKeyId=null,this.keyId=null,this.lastSequence=null,this.sequenceFormat="",this.zeroPadToDigits=null,this.incrementBy=null,this.objEditRow=null,this.duplicatePrefix=""}this.sequenceDataSource=new s.k(this.lstSequence),this.lstSequence.length>0&&(this.blnShow="block")}get sequenceVisibleColumns(){return this.sequenceColumns.filter(e=>e.visible).map(e=>e.property)}deleteSequence(e){this.dialog.open(b.a).afterClosed().subscribe(t=>{t&&this.deleteSequenceRow(e)})}deleteSequenceRow(e){let t=this.lstSequence.findIndex(t=>t.id===e.id);t>=0&&this.lstSequence.splice(t,1),this.sequenceDataSource=new s.k(this.lstSequence),0==this.lstSequence.length&&(this.blnShow="none")}modifySequence(e){this.objEditRow&&this.lstSequence&&(this.lstSequence.push(this.objEditRow),this.sequenceDataSource=new s.k(this.lstSequence)),this.sequenceKeyId=e.id,this.sequenceKey=e.sequenceKey,this.lstSequenceKey.filter(e=>{e.description==this.sequenceKey&&(this.keyId=e.id)}),this.lastSequence=e.lastSequence,this.sequenceFormat=e.sequenceFormat,this.zeroPadToDigits=e.zeroPadToDigits,this.incrementBy=e.incrementBy,this.objEditRow=e,this.duplicatePrefix="",this.deleteSequenceRow(e)}checkDuplicatePrefix(){if(this.duplicatePrefix="",""!=this.sequenceKey&&null!=this.sequenceKey&&""!=this.sequenceFormat&&null!=this.sequenceFormat){let e=this.sequenceFormat.indexOf("#")>=0?this.sequenceFormat:this.sequenceFormat+"-[#]";this.clientSettingService.checkForDuplicatePrefix(e,this.clientId).subscribe(e=>{e&&e>0&&(this.duplicatePrefix="Prefix already exists.")})}}}return e.\u0275fac=function(t){return new(t||e)(a.Nb(m.f),a.Nb(u.b),a.Nb(B.a),a.Nb(c),a.Nb(d.b),a.Nb(g.a))},e.\u0275cmp=a.Hb({type:e,selectors:[["fury-sequencenumber"]],decls:51,vars:17,consts:[["fxLayout","column","fxLayoutGap","8px",1,"content",3,"formGroup"],["fxLayout","row","fxLayoutGap","8px"],["fxFlex","50%"],["formControlName","sequenceKey",3,"ngModel","selectionChange","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","lastSequence","type","number","matInput","",3,"ngModel","ngModelChange"],["formControlName","sequenceFormat","matInput","",3,"ngModel","ngModelChange"],["formControlName","zeroPadToDigits","type","number","matInput","",3,"ngModel","ngModelChange"],["formControlName","incrementBy","type","number","matInput","",3,"ngModel","ngModelChange"],["mat-button","","color","primary","fxFlex","50%",3,"disabled","click"],["mat-table","","matSort","",1,"example-container",3,"dataSource","ngStyle"],["matColumnDef","delete"],["class","actions-cell","mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","modify"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",4,"matRowDef","matRowDefColumns"],[3,"value"],["mat-cell","",1,"actions-cell"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","",1,"actions-cell"],["mat-cell","",1,"actions-cell",3,"click"],[1,"deleteIcon"],[1,"modifyIcon"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements"]],template:function(e,t){1&e&&(a.Tb(0,"div",0),a.Tb(1,"div",1),a.Tb(2,"mat-form-field",2),a.Tb(3,"mat-label"),a.Rc(4,"Sequence Key"),a.Sb(),a.Tb(5,"mat-select",3),a.bc("selectionChange",(function(e){return t.onSequenceKey(e)}))("ngModelChange",(function(e){return t.keyId=e})),a.Pc(6,Ke,2,2,"mat-option",4),a.Sb(),a.Tb(7,"mat-hint"),a.Rc(8,"This will be Sequence Key."),a.Sb(),a.Pc(9,_e,2,0,"mat-error",5),a.Sb(),a.Tb(10,"mat-form-field",2),a.Tb(11,"mat-label"),a.Rc(12,"Last Sequence"),a.Sb(),a.Tb(13,"input",6),a.bc("ngModelChange",(function(e){return t.lastSequence=e})),a.Sb(),a.Tb(14,"mat-hint"),a.Rc(15,"This will be sequence number"),a.Sb(),a.Sb(),a.Sb(),a.Tb(16,"div",1),a.Tb(17,"mat-form-field",2),a.Tb(18,"mat-label"),a.Rc(19,"Sequence Format"),a.Sb(),a.Tb(20,"input",7),a.bc("ngModelChange",(function(e){return t.sequenceFormat=e})),a.Sb(),a.Pc(21,He,2,0,"mat-hint",5),a.Sb(),a.Tb(22,"mat-form-field",2),a.Tb(23,"mat-label"),a.Rc(24,"Zero Pad To Digits"),a.Sb(),a.Tb(25,"input",8),a.bc("ngModelChange",(function(e){return t.zeroPadToDigits=e})),a.Sb(),a.Tb(26,"mat-hint"),a.Rc(27,"This will be Zero Pad To Digits"),a.Sb(),a.Sb(),a.Sb(),a.Tb(28,"div",1),a.Tb(29,"mat-form-field",2),a.Tb(30,"mat-label"),a.Rc(31,"Increment By"),a.Sb(),a.Tb(32,"input",9),a.bc("ngModelChange",(function(e){return t.incrementBy=e})),a.Sb(),a.Tb(33,"mat-hint"),a.Rc(34,"This will Increment By"),a.Sb(),a.Sb(),a.Tb(35,"button",10),a.bc("click",(function(){return t.saveSequence()})),a.Rc(36,"ADD SETTINGS"),a.Sb(),a.Sb(),a.Tb(37,"table",11),a.Rb(38,12),a.Tb(39,"th"),a.Rc(40,"Delete"),a.Sb(),a.Pc(41,Be,3,0,"td",13),a.Qb(),a.Pc(42,je,2,1,"ng-container",14),a.Rb(43,15),a.Pc(44,Xe,2,0,"th",16),a.Pc(45,Je,3,0,"td",17),a.Qb(),a.Rb(46,18),a.Pc(47,Ze,2,0,"th",16),a.Pc(48,We,3,0,"td",17),a.Qb(),a.Pc(49,Ye,1,0,"tr",19),a.Pc(50,et,1,0,"tr",20),a.Sb(),a.Sb()),2&e&&(a.mc("formGroup",t.sequenceSettings),a.Cb(5),a.mc("ngModel",t.keyId),a.Cb(1),a.mc("ngForOf",t.lstSequenceKey),a.Cb(3),a.mc("ngIf",t.sequenceSettings.invalid),a.Cb(4),a.mc("ngModel",t.lastSequence),a.Cb(7),a.mc("ngModel",t.sequenceFormat),a.Cb(1),a.mc("ngIf",""==t.duplicatePrefix),a.Cb(4),a.mc("ngModel",t.zeroPadToDigits),a.Cb(7),a.mc("ngModel",t.incrementBy),a.Cb(3),a.mc("disabled",""===t.sequenceKey||null==t.lastSequence||""!=t.duplicatePrefix||void 0===t.sequenceFormat||""===t.sequenceFormat||null==t.zeroPadToDigits||null==t.incrementBy),a.Cb(2),a.mc("dataSource",t.sequenceDataSource)("ngStyle",a.rc(15,tt,t.blnShow)),a.Cb(5),a.mc("ngForOf",t.sequenceColumns),a.Cb(7),a.mc("matHeaderRowDef",t.sequenceVisibleColumns),a.Cb(1),a.mc("matRowDefColumns",t.sequenceVisibleColumns))},directives:[p.d,p.e,m.r,m.k,h.d,p.b,h.h,f.a,m.q,m.i,n.n,h.g,n.o,m.c,m.u,V.b,S.a,s.j,y.a,n.p,C.c,s.c,s.b,s.e,s.g,s.i,T.n,h.c,s.a,v.a,s.d,y.b,s.f,s.h],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{min-width:120px}.mat-icon[_ngcontent-%COMP%]{cursor:pointer}.example-container[_ngcontent-%COMP%]{overflow-x:scroll;height:200px}.duplicate[_ngcontent-%COMP%]{color:red}"]}),e})();function nt(e,t){1&e&&(a.Tb(0,"mat-icon"),a.Rc(1,"visibility"),a.Sb())}function ot(e,t){1&e&&(a.Tb(0,"mat-icon"),a.Rc(1,"visibility_off"),a.Sb())}function st(e,t){1&e&&(a.Tb(0,"mat-icon"),a.Rc(1,"visibility"),a.Sb())}function lt(e,t){1&e&&(a.Tb(0,"mat-icon"),a.Rc(1,"visibility_off"),a.Sb())}let rt=(()=>{class e{constructor(e,t,i,n){this.fb=e,this.cd=t,this.clientSettingService=i,this.cookieService=n,this.visible=!1,this.inputType="password",this.inputTypeNoReply="password",this.visibleNoReply=!1,this.emailSettings=e.group({smtpServer:[""],smtpPort:[""],smtpUsername:[""],smtpPassword:[""],popServer:[""],popPort:[""],noreplyUsername:[""],noreplyPassword:[""]})}ngOnInit(){this.initialData()}initialData(){this.clientId=Number(this.cookieService.get("globalClientId")),this.clientSettingService.emailData(this.clientId).subscribe(e=>{e&&(this.smtpServer=e.smtpServer,this.smtpPort=0==e.smtpPort?"":e.smtpPort,this.smtpUsername=e.smtpUsername,this.smtpPassword=e.smtpPassword,this.popServer=e.popServer,this.popPort=0==e.popPort?"":e.popPort,this.noreplyUsername=e.noreplyUsername,this.noreplyPassword=e.noreplyPassword)})}toggleVisibility(){this.visible?(this.inputType="password",this.visible=!1,this.cd.markForCheck()):(this.inputType="text",this.visible=!0,this.cd.markForCheck())}toggleVisibilityNoReply(){this.visibleNoReply?(this.inputTypeNoReply="password",this.visibleNoReply=!1,this.cd.markForCheck()):(this.inputTypeNoReply="text",this.visibleNoReply=!0,this.cd.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(a.Nb(m.f),a.Nb(a.h),a.Nb(c),a.Nb(g.a))},e.\u0275cmp=a.Hb({type:e,selectors:[["fury-emailsettings"]],decls:59,vars:15,consts:[["fxLayout","column","fxLayoutGap","8px",1,"content",3,"formGroup"],["fxLayout","row","fxLayoutGap","8px"],["fxFlex","auto","fxFlex","50%"],["formControlName","smtpServer","matInput","",3,"ngModel","ngModelChange"],["formControlName","smtpPort","type","number","matInput","",3,"ngModel","ngModelChange"],["formControlName","smtpUsername","matInput","",3,"ngModel","ngModelChange"],["formControlName","smtpPassword","matInput","",3,"type","ngModel","ngModelChange"],["type","button","mat-icon-button","","matSuffix","","matTooltip","Toggle Visibility",3,"click"],[4,"ngIf"],["formControlName","popServer","matInput","",3,"ngModel","ngModelChange"],["formControlName","popPort","type","number","matInput","",3,"ngModel","ngModelChange"],["formControlName","noreplyUsername","matInput","",3,"ngModel","ngModelChange"],["formControlName","noreplyPassword","matInput","",3,"type","ngModel","ngModelChange"]],template:function(e,t){1&e&&(a.Tb(0,"div",0),a.Tb(1,"div",1),a.Tb(2,"mat-form-field",2),a.Tb(3,"mat-label"),a.Rc(4,"SMTP Server"),a.Sb(),a.Tb(5,"input",3),a.bc("ngModelChange",(function(e){return t.smtpServer=e})),a.Sb(),a.Tb(6,"mat-hint"),a.Rc(7,"This will be SMTP Server"),a.Sb(),a.Sb(),a.Tb(8,"mat-form-field",2),a.Tb(9,"mat-label"),a.Rc(10,"SMTP Port"),a.Sb(),a.Tb(11,"input",4),a.bc("ngModelChange",(function(e){return t.smtpPort=e})),a.Sb(),a.Tb(12,"mat-hint"),a.Rc(13,"This will be SMTP Port"),a.Sb(),a.Sb(),a.Sb(),a.Tb(14,"div",1),a.Tb(15,"mat-form-field",2),a.Tb(16,"mat-label"),a.Rc(17,"SMTP Username"),a.Sb(),a.Tb(18,"input",5),a.bc("ngModelChange",(function(e){return t.smtpUsername=e})),a.Sb(),a.Tb(19,"mat-hint"),a.Rc(20,"This will be SMTP Username"),a.Sb(),a.Sb(),a.Tb(21,"mat-form-field",2),a.Tb(22,"mat-label"),a.Rc(23,"SMTP Password"),a.Sb(),a.Tb(24,"input",6),a.bc("ngModelChange",(function(e){return t.smtpPassword=e})),a.Sb(),a.Tb(25,"button",7),a.bc("click",(function(){return t.toggleVisibility()})),a.Pc(26,nt,2,0,"mat-icon",8),a.Pc(27,ot,2,0,"mat-icon",8),a.Sb(),a.Tb(28,"mat-hint"),a.Rc(29,"This will be SMTP Password"),a.Sb(),a.Sb(),a.Sb(),a.Tb(30,"div",1),a.Tb(31,"mat-form-field",2),a.Tb(32,"mat-label"),a.Rc(33,"POP Server"),a.Sb(),a.Tb(34,"input",9),a.bc("ngModelChange",(function(e){return t.popServer=e})),a.Sb(),a.Tb(35,"mat-hint"),a.Rc(36,"This will be POP Server"),a.Sb(),a.Sb(),a.Tb(37,"mat-form-field",2),a.Tb(38,"mat-label"),a.Rc(39,"POP Port"),a.Sb(),a.Tb(40,"input",10),a.bc("ngModelChange",(function(e){return t.popPort=e})),a.Sb(),a.Tb(41,"mat-hint"),a.Rc(42,"This will be POP Port"),a.Sb(),a.Sb(),a.Sb(),a.Tb(43,"div",1),a.Tb(44,"mat-form-field",2),a.Tb(45,"mat-label"),a.Rc(46,"Noreply Username"),a.Sb(),a.Tb(47,"input",11),a.bc("ngModelChange",(function(e){return t.noreplyUsername=e})),a.Sb(),a.Tb(48,"mat-hint"),a.Rc(49,"This will be Noreply Username"),a.Sb(),a.Sb(),a.Tb(50,"mat-form-field",2),a.Tb(51,"mat-label"),a.Rc(52,"Noreply Password"),a.Sb(),a.Tb(53,"input",12),a.bc("ngModelChange",(function(e){return t.noreplyPassword=e})),a.Sb(),a.Tb(54,"button",7),a.bc("click",(function(){return t.toggleVisibilityNoReply()})),a.Pc(55,st,2,0,"mat-icon",8),a.Pc(56,lt,2,0,"mat-icon",8),a.Sb(),a.Tb(57,"mat-hint"),a.Rc(58,"This will be Noreply Password"),a.Sb(),a.Sb(),a.Sb(),a.Sb()),2&e&&(a.mc("formGroup",t.emailSettings),a.Cb(5),a.mc("ngModel",t.smtpServer),a.Cb(6),a.mc("ngModel",t.smtpPort),a.Cb(7),a.mc("ngModel",t.smtpUsername),a.Cb(6),a.mc("type",t.inputType)("ngModel",t.smtpPassword),a.Cb(2),a.mc("ngIf",t.visible),a.Cb(1),a.mc("ngIf",!t.visible),a.Cb(7),a.mc("ngModel",t.popServer),a.Cb(6),a.mc("ngModel",t.popPort),a.Cb(7),a.mc("ngModel",t.noreplyUsername),a.Cb(6),a.mc("type",t.inputTypeNoReply)("ngModel",t.noreplyPassword),a.Cb(2),a.mc("ngIf",t.visibleNoReply),a.Cb(1),a.mc("ngIf",!t.visibleNoReply))},directives:[p.d,p.e,m.r,m.k,h.d,p.b,h.h,m.c,V.b,m.q,m.i,h.g,m.u,S.a,h.j,fe.a,n.o,v.a],styles:[""]}),e})();var at=i("nR/4"),ct=i("xXXn"),bt=i("/t3+"),mt=i("MutI"),ut=i("4FRi"),dt=i("f0Cb");const gt=["allClientsSelected"];function pt(e,t){if(1&e&&(a.Tb(0,"mat-option",22),a.Rc(1),a.Sb()),2&e){const e=t.$implicit;a.mc("value",e.clientName),a.Cb(1),a.Sc(e.clientName)}}function ht(e,t){if(1&e){const e=a.Ub();a.Tb(0,"mat-option",16),a.bc("click",(function(){a.Ec(e);const t=a.fc(),i=a.Ac(23);return t.toggleClientPerOne(i.viewValue)})),a.Rc(1),a.Sb()}if(2&e){const e=t.$implicit;a.mc("value",e.clientId),a.Cb(1),a.Tc(" ",e.clientName," ")}}let ft=(()=>{class e{constructor(e,t,i,n,o,s){this.fb=e,this.clientSettingService=t,this.snackbar=i,this.dialogRef=n,this.dialog=o,this.cookieService=s,this.lstClients=[],this.lstFilterClients=[],this.selectedClients=[],this.isCancel=!1,n.disableClose=!0}ngOnInit(){this.clientId=this.cookieService.get("globalClientId"),this.lstClients=this.lstFilterClients=JSON.parse(localStorage.getItem("userClients")),this.clientId&&(this.lstClients=this.lstFilterClients.filter(e=>e.clientId!=Number(this.clientId))),this.form=this.fb.group({fromClient:[""],clients:[""]}),this.lstFilterClients.find(e=>{e.clientId==this.clientId&&(this.fromClientName=e.clientName,this.selectCopyFromClient(this.fromClientName))})}selectCopyFromClient(e){this.selectedClients=[];let t=this.lstFilterClients.find(t=>t.clientName==e);this.clientId=t.clientId,this.fromClientName=t.clientName,this.clientId&&(this.lstClients=this.lstFilterClients.filter(e=>e.clientId!=Number(this.clientId)))}toggleClientsAllSelection(){this.form.controls.clients.patchValue(this.allClientsSelected.selected?[...this.lstClients.map(e=>e.clientId),0]:[])}toggleClientPerOne(e){if(this.allClientsSelected.selected)return this.allClientsSelected.deselect(),!1;this.form.controls.clients.value.length==this.lstClients.length&&this.allClientsSelected.select()}save(){if(this.isCancel)return this.isCancel=!1,void this.dialog.open(ct.a,{data:{label:"Are you sure you want to Cancel?",selected:!1}}).afterClosed().subscribe(e=>{e&&this.dialogRef.close()});this.dialog.open(at.a,{autoFocus:!0,data:[{label:"Remove Existing & Copy whole Configuration from Beginning",value:1},{label:"Keep Existing & Copy Only New Configuration",value:2},{label:"Copy Only New & Modify existing Configuration",value:3}]}).afterClosed().subscribe(e=>{if(e&&this.selectedClients&&this.selectedClients.length){let t=[];this.selectedClients.forEach(i=>{0!=i&&t.push({fromClientId:Number(this.clientId),toClientId:Number(i),type:Number(e.value)})}),this.clientSettingService.copyClientSettings(t).subscribe({next:e=>{e?this.notificationMessage("Client Config copied successfully.","green-snackbar"):this.notificationMessage("Client Config copy failed","red-snackbar"),this.dialogRef.close()},error:e=>{this.notificationMessage("Client Config copy failed","red-snackbar")}})}})}notificationMessage(e,t){this.snackbar.open(e,null,{duration:5e3,verticalPosition:"top",horizontalPosition:"end",panelClass:[t]})}search(e){let t=this.select(e);this.lstClients=t}select(e){let t=[];if(e)for(let i of this.lstFilterClients)i.clientName.toLowerCase().indexOf(e)>-1&&t.push(i);else t=this.lstFilterClients;return t}close(){this.dialogRef.close()}closeDialog(){this.isCancel=!0}}return e.\u0275fac=function(t){return new(t||e)(a.Nb(m.f),a.Nb(c),a.Nb(d.b),a.Nb(u.h),a.Nb(u.b),a.Nb(g.a))},e.\u0275cmp=a.Hb({type:e,selectors:[["fury-copy-client-settings"]],viewQuery:function(e,t){var i;1&e&&a.Vc(gt,!0),2&e&&a.zc(i=a.cc())&&(t.allClientsSelected=i.first)},decls:31,vars:9,consts:[["mat-dialog-title",""],["role","toolbar",1,"task-header"],[1,"fx-spacer"],["mat-icon-button","",3,"click"],["title","Close","mat-list-icon",""],[3,"formGroup","ngSubmit"],[1,"mat-dlg-content"],[1,"padding-top"],[1,"person"],["fxLayout","column","fxLayout.gt-sm","row","fxLayoutGap.gt-sm","48px"],["fxFlex",""],["formControlName","fromClient","placeholder","Copy From Client",3,"ngModel","disabled","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["multiple","","placeholder","Select a Client",1,"multiSelectCustom",3,"ngModel","formControl","ngModelChange"],["matInput","","focused","'true'","type","text","autocomplete","off","placeholder","Search",1,"myInput",3,"keyup"],["myInput",""],[3,"value","click"],["allClientsSelected",""],[3,"value","click",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end center"],["mat-button","",3,"click"],["mat-button","",3,"disabled"],[3,"value"]],template:function(e,t){1&e&&(a.Tb(0,"h4",0),a.Tb(1,"mat-toolbar",1),a.Tb(2,"span"),a.Rc(3,"Copy Client Config"),a.Sb(),a.Ob(4,"span",2),a.Tb(5,"button",3),a.bc("click",(function(){return t.close()})),a.Tb(6,"mat-icon",4),a.Rc(7,"close"),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Tb(8,"form",5),a.bc("ngSubmit",(function(){return t.save()})),a.Tb(9,"mat-dialog-content",6),a.Tb(10,"fury-card"),a.Tb(11,"fury-card-content",7),a.Tb(12,"div",8),a.Tb(13,"div",9),a.Tb(14,"mat-form-field",10),a.Tb(15,"mat-select",11),a.bc("ngModelChange",(function(e){return t.fromClientName=e}))("selectionChange",(function(e){return t.selectCopyFromClient(e.value)})),a.Pc(16,pt,2,2,"mat-option",12),a.Sb(),a.Sb(),a.Tb(17,"mat-form-field",10),a.Tb(18,"mat-select",13),a.bc("ngModelChange",(function(e){return t.selectedClients=e})),a.Tb(19,"input",14,15),a.bc("keyup",(function(e){return t.search(e.target.value)})),a.Sb(),a.Ob(21,"mat-divider"),a.Tb(22,"mat-option",16,17),a.bc("click",(function(){return t.toggleClientsAllSelection()})),a.Rc(24,"Select All"),a.Sb(),a.Pc(25,ht,2,2,"mat-option",18),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Tb(26,"mat-dialog-actions",19),a.Tb(27,"button",20),a.bc("click",(function(){return t.closeDialog()})),a.Rc(28,"CANCEL"),a.Sb(),a.Tb(29,"button",21),a.Rc(30,"PROCEED"),a.Sb(),a.Sb(),a.Sb()),2&e&&(a.Cb(8),a.mc("formGroup",t.form),a.Cb(7),a.mc("ngModel",t.fromClientName)("disabled",!0),a.Cb(1),a.mc("ngForOf",t.lstFilterClients),a.Cb(2),a.mc("ngModel",t.selectedClients)("formControl",t.form.controls.clients),a.Cb(4),a.mc("value",0),a.Cb(3),a.mc("ngForOf",t.lstClients),a.Cb(4),a.mc("disabled",0==(null==t.selectedClients?null:t.selectedClients.length)))},directives:[u.i,bt.a,S.a,v.a,mt.c,m.z,m.r,m.k,u.f,ut.a,ut.c,p.d,p.e,h.d,p.b,f.a,m.q,m.i,n.n,m.h,V.b,dt.a,T.n,u.c,p.c],styles:[".myInput[_ngcontent-%COMP%]{height:50px!important;padding:10px!important}.task-header[_ngcontent-%COMP%]{background-color:transparent;padding:0 5px;height:20px}.fx-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),e})(),St=(()=>{class e{constructor(e,t,i){this.fb=e,this.clientSettingService=t,this.cookieService=i,this.name="",this.termsAndCondition="",this.invoiceTerms=e.group({name:[""],termsAndCondition:[null]})}ngOnInit(){this.clientId=Number(this.cookieService.get("globalClientId")),this.clientSettingService.getTermsAndConditions(this.clientId).subscribe(e=>{e&&(this.name=e.name,this.termsAndCondition=e.termsAndCondition)})}}return e.\u0275fac=function(t){return new(t||e)(a.Nb(m.f),a.Nb(c),a.Nb(g.a))},e.\u0275cmp=a.Hb({type:e,selectors:[["fury-client-invoice-terms"]],decls:14,vars:3,consts:[["fxLayout","column","fxLayoutGap","8px",1,"content",3,"formGroup"],["fxLayout","column","fxLayoutGap","8px"],["fxFlex","auto"],["formControlName","name","matInput","",3,"ngModel","ngModelChange"],["fxFlex",""],["type","text","formControlName","termsAndCondition","matInput","",2,"height","138px",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(a.Tb(0,"div",0),a.Tb(1,"div",1),a.Tb(2,"mat-form-field",2),a.Tb(3,"mat-label"),a.Rc(4,"Name"),a.Sb(),a.Tb(5,"input",3),a.bc("ngModelChange",(function(e){return t.name=e})),a.Sb(),a.Tb(6,"mat-hint"),a.Rc(7,"Please enter Name"),a.Sb(),a.Sb(),a.Tb(8,"mat-form-field",4),a.Tb(9,"mat-label"),a.Rc(10,"Terms & Conditions"),a.Sb(),a.Tb(11,"textarea",5),a.bc("ngModelChange",(function(e){return t.termsAndCondition=e})),a.Sb(),a.Tb(12,"mat-hint"),a.Rc(13,"Please enter Terms & Conditions"),a.Sb(),a.Sb(),a.Sb(),a.Sb()),2&e&&(a.mc("formGroup",t.invoiceTerms),a.Cb(5),a.mc("ngModel",t.name),a.Cb(6),a.mc("ngModel",t.termsAndCondition))},directives:[p.d,p.e,m.r,m.k,h.d,p.b,h.h,m.c,V.b,m.q,m.i,h.g],styles:[""]}),e})();var Ct=i("a8hA"),yt=i("xBcV"),Tt=i("rvYj"),vt=i("rFp9"),Rt=i("xHqg");function It(e,t){1&e&&a.Rc(0,"GENERAL ")}function Mt(e,t){1&e&&a.Rc(0,"SEQUENCE NUMBER ")}function Pt(e,t){1&e&&a.Rc(0,"EMAIL ")}function wt(e,t){1&e&&a.Rc(0,"MESSAGE")}function Ot(e,t){1&e&&a.Rc(0,"INVOICE TERMS")}function kt(e,t){1&e&&a.Rc(0,"LOCALISATION")}const Nt=[{path:"",component:(()=>{class e{constructor(e,t,i,n,o,s,l){this.fb=e,this.cd=t,this.snackbar=i,this.masterService=n,this.clientSettingService=o,this.clientSelectionService=s,this.dialog=l,this._gap=16,this.gap=this._gap+"px",this.col2=`1 1 calc(50% - ${this._gap/2}px)`,this.col3=`1 1 calc(33.3333% - ${this._gap/1.5}px)`,this.utilityTypes=[],this.parameters=[],this.weekTypes=[],this.peakTypes=[],this.seasons=[],this.slabs=[],this.utilityTypeId=0,this.parameterId=0,this.passwordInputType="password",this.tariffName="",this.rate=0,this.peakTypeId=0,this.weekTypeId=0,this.from=0,this.to=0,this.tariffDate=new Date,this.isDisable=!0,this.peakSettingsHide=!0,this.slabSettingsHide=!0,this.isCompleted=!0}ngAfterViewChecked(){this.cd.detectChanges()}ngOnInit(){this.clientSelectionService.setIsClientVisible(!0),this.clientSettingsFormGroup=this.clientSettingsMessageComponent.messageSettings,this.clientSettingsLocalisationFormGroup=this.clientSettingsLocalisationComponent.localisationSettings,this.generalFormGroup=this.generalComponent.generalSettings,this.sequenceFormGroup=this.sequencenumberComponent.sequenceSettings,this.emailFormGroup=this.emailsettingsComponent.emailSettings,this.clientSettingsInvoiceTermsFormGroup=this.clientInvoiceTermsComponent.invoiceTerms}saveDatas(){let e=!0,t={};t.clientId=this.generalComponent.clientId,t.WorkingHours=this.generalComponent.workingHrs,t.SupportMail=this.generalComponent.supportMail,t.Website=this.generalComponent.website,t.BillSettingsId=this.generalComponent.billSettingsId,t.isBilledbyClient=this.generalComponent.isBilledbyClient,this.clientSettingService.saveGeneral(t).subscribe(t=>{t&&(e=!0)});let i=[];i=this.sequencenumberComponent.lstSequence,i.length>0&&this.clientSettingService.saveSequenceNumber(i).subscribe(t=>{t&&(e=!0)});let n={};n.clientId=this.generalComponent.clientId,n.SmtpServer=this.emailsettingsComponent.smtpServer,n.SmtpPort=Number(this.emailsettingsComponent.smtpPort),n.SmtpUsername=this.emailsettingsComponent.smtpUsername,n.SmtpPassword=this.emailsettingsComponent.smtpPassword,n.PopServer=this.emailsettingsComponent.popServer,n.PopPort=Number(this.emailsettingsComponent.popPort),n.NoreplyUsername=this.emailsettingsComponent.noreplyUsername,n.NoreplyPassword=this.emailsettingsComponent.noreplyPassword,this.clientSettingService.saveEmail(n).subscribe(t=>{t&&(e=!0)});let o=[];o=this.clientSettingsMessageComponent.lstMessage,this.clientSettingService.deleteMessage(this.generalComponent.clientId).subscribe(t=>{t&&(e=!0)}),o.length>0&&this.clientSettingService.saveMessage(o).subscribe(t=>{t&&(e=!0)});let s={};s.name=this.clientInvoiceTermsComponent.name,s.termsAndCondition=this.clientInvoiceTermsComponent.termsAndCondition,s.clientId=this.clientInvoiceTermsComponent.clientId,this.clientSettingService.saveInvoiceTerms(s).subscribe(t=>{t&&(e=!0)});let l={};l.DateFormatId=this.clientSettingsLocalisationComponent.dateFormatId,l.CurrencyRoundOff=this.clientSettingsLocalisationComponent.roundOff.toString(),l.Currency=this.clientSettingsLocalisationComponent.currency,l.ClientId=this.generalComponent.clientId,l.UtilityTypeRoundOff=this.clientSettingsLocalisationComponent.lstConsumptionRoundOff,this.clientSettingService.saveLocalisation(l).subscribe(t=>{var i,n;t&&(e=!0,this.setClientDataFormats(this.generalComponent.clientId),(null===(i=this.clientSettingsLocalisationComponent)||void 0===i?void 0:i.roundOff)&&""!=(null===(n=this.clientSettingsLocalisationComponent)||void 0===n?void 0:n.roundOff)&&(this.clientSettingsLocalisationComponent.localisationSettings.controls.currency.disable(),this.clientSettingsLocalisationComponent.localisationSettings.controls.roundOff.disable()))}),1==e&&this.notificationMessage("Client Config saved successfully","green-snackbar")}setClientDataFormats(e){this.masterService.getClientDataFormats(parseInt(e)).subscribe(e=>{e&&localStorage.setItem("data_formats",JSON.stringify(e))})}notificationMessage(e,t){this.snackbar.open(e,null,{duration:5e3,verticalPosition:"top",horizontalPosition:"end",panelClass:[t]})}isSlabSettingsAdded(e){this.slabSettingsHide=e}isPeakSettingsAdded(e){this.peakSettingsHide=e}copyClientSettings(){this.dialog.open(ft).afterClosed().subscribe()}}return e.\u0275fac=function(t){return new(t||e)(a.Nb(m.f),a.Nb(a.h),a.Nb(d.b),a.Nb(B.a),a.Nb(c),a.Nb(Ct.a),a.Nb(u.b))},e.\u0275cmp=a.Hb({type:e,selectors:[["fury-clientsetting"]],viewQuery:function(e,t){var i;1&e&&(a.Jc(Fe,!0),a.Jc(K,!0),a.Jc(he,!0),a.Jc(Ae,!0),a.Jc(it,!0),a.Jc(rt,!0),a.Jc(St,!0)),2&e&&(a.zc(i=a.cc())&&(t.clientSettingsMessageComponent=i.first),a.zc(i=a.cc())&&(t.clientSettingsLedgerRelationComponent=i.first),a.zc(i=a.cc())&&(t.clientSettingsLocalisationComponent=i.first),a.zc(i=a.cc())&&(t.generalComponent=i.first),a.zc(i=a.cc())&&(t.sequencenumberComponent=i.first),a.zc(i=a.cc())&&(t.emailsettingsComponent=i.first),a.zc(i=a.cc())&&(t.clientInvoiceTermsComponent=i.first))},decls:81,vars:14,consts:[["mode","card",2,"margin-top","20px"],["color","primary"],["src","assets/img/fav-icon.png",1,"img-style"],[1,"toolbar-spacer"],["matTooltip","Copy","type","button","mat-mini-fab","","color","primary",1,"create",3,"click"],["fxLayout","column","fxLayoutAlign","start center"],[1,"card"],[3,"linear"],["stepper","matHorizontalStepper"],["completed","false",3,"stepControl"],[3,"formGroup"],["matStepLabel",""],[1,"heading"],[1,"subheading"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","8px",1,"actions"],["color","primary","mat-raised-button","","matStepperNext",""],["color","primary","mat-button","","matStepperPrevious","","type","button"],[3,"stepControl"],[2,"color","red","font-size","smaller","padding-bottom","20px"],[3,"isDisable"],["color","primary","mat-raised-button","",3,"disabled","click"]],template:function(e,t){1&e&&(a.Tb(0,"fury-page-layout",0),a.Tb(1,"fury-page-layout-content"),a.Tb(2,"mat-toolbar",1),a.Ob(3,"img",2),a.Tb(4,"span"),a.Rc(5,"Client Config"),a.Sb(),a.Ob(6,"span",3),a.Tb(7,"button",4),a.bc("click",(function(){return t.copyClientSettings()})),a.Tb(8,"mat-icon"),a.Rc(9,"file_copy"),a.Sb(),a.Sb(),a.Sb(),a.Tb(10,"fury-page"),a.Tb(11,"div",5),a.Tb(12,"div",6),a.Tb(13,"mat-horizontal-stepper",7,8),a.Tb(15,"mat-step",9),a.Tb(16,"form",10),a.Pc(17,It,1,0,"ng-template",11),a.Ob(18,"div",12),a.Ob(19,"div",13),a.Ob(20,"fury-general"),a.Tb(21,"div",14),a.Tb(22,"button",15),a.Rc(23,"NEXT "),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Tb(24,"mat-step",9),a.Tb(25,"form",10),a.Pc(26,Mt,1,0,"ng-template",11),a.Ob(27,"div",12),a.Ob(28,"div",13),a.Ob(29,"fury-sequencenumber"),a.Tb(30,"div",14),a.Tb(31,"button",16),a.Rc(32,"PREVIOUS"),a.Sb(),a.Tb(33,"button",15),a.Rc(34,"NEXT "),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Tb(35,"mat-step",9),a.Tb(36,"form",10),a.Pc(37,Pt,1,0,"ng-template",11),a.Ob(38,"div",12),a.Ob(39,"div",13),a.Ob(40,"fury-emailsettings"),a.Tb(41,"div",14),a.Tb(42,"button",16),a.Rc(43,"PREVIOUS"),a.Sb(),a.Tb(44,"button",15),a.Rc(45,"NEXT "),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Tb(46,"mat-step",9),a.Tb(47,"form",10),a.Pc(48,wt,1,0,"ng-template",11),a.Ob(49,"div",12),a.Ob(50,"div",13),a.Ob(51,"fury-client-settings-message"),a.Tb(52,"div",14),a.Tb(53,"button",16),a.Rc(54,"PREVIOUS"),a.Sb(),a.Tb(55,"button",15),a.Rc(56,"NEXT "),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Tb(57,"mat-step",9),a.Tb(58,"form",10),a.Pc(59,Ot,1,0,"ng-template",11),a.Ob(60,"div",12),a.Ob(61,"div",13),a.Ob(62,"fury-client-invoice-terms"),a.Tb(63,"div",14),a.Tb(64,"button",16),a.Rc(65,"PREVIOUS"),a.Sb(),a.Tb(66,"button",15),a.Rc(67,"NEXT "),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Tb(68,"mat-step",17),a.Tb(69,"form",10),a.Pc(70,kt,1,0,"ng-template",11),a.Tb(71,"div",18),a.Rc(72,"* Localisation Settings once configured cannot be changed."),a.Sb(),a.Ob(73,"div",12),a.Ob(74,"div",13),a.Tb(75,"fury-client-settings-localisation",19),a.bc("isDisable",(function(e){return t.isSlabSettingsAdded(e)})),a.Sb(),a.Tb(76,"div",14),a.Tb(77,"button",16),a.Rc(78,"PREVIOUS"),a.Sb(),a.Tb(79,"button",20),a.bc("click",(function(){return t.saveDatas()})),a.Rc(80,"SAVE "),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb()),2&e&&(a.Cb(13),a.mc("linear",!1),a.Cb(2),a.mc("stepControl",t.generalFormGroup),a.Cb(1),a.mc("formGroup",t.generalFormGroup),a.Cb(8),a.mc("stepControl",t.sequenceFormGroup),a.Cb(1),a.mc("formGroup",t.sequenceFormGroup),a.Cb(10),a.mc("stepControl",t.emailFormGroup),a.Cb(1),a.mc("formGroup",t.emailFormGroup),a.Cb(10),a.mc("stepControl",t.clientSettingsFormGroup),a.Cb(1),a.mc("formGroup",t.clientSettingsFormGroup),a.Cb(10),a.mc("stepControl",t.clientSettingsInvoiceTermsFormGroup),a.Cb(1),a.mc("formGroup",t.clientSettingsInvoiceTermsFormGroup),a.Cb(10),a.mc("stepControl",t.clientSettingsLocalisationFormGroup),a.Cb(1),a.mc("formGroup",t.clientSettingsLocalisationFormGroup),a.Cb(10),a.mc("disabled",!(0!=t.generalComponent.clientId&&t.generalComponent.workingHrs&&t.generalComponent.supportMail&&t.generalComponent.website&&t.generalComponent.billSettingsId&&t.clientSettingsLocalisationComponent.isFormvalid)))},directives:[yt.a,Tt.a,bt.a,S.a,fe.a,v.a,vt.a,p.d,p.c,Rt.a,Rt.b,m.z,m.r,m.k,Rt.c,Ae,p.e,Rt.e,it,Rt.f,rt,Fe,St,he],styles:[".img-style[_ngcontent-%COMP%]{width:32px}.mat-icon[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]{background:url(/assets/img/backgrounds/form-wizard.jpg);background-size:cover;display:block}.title[_ngcontent-%COMP%]{color:#1c74e0}.card[_ngcontent-%COMP%]{margin:24px;max-width:100%;border-radius:8px;overflow:hidden;box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12)}.card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font:var(--font-title)}.card[_ngcontent-%COMP%]   .subheading[_ngcontent-%COMP%]{font:var(--font-subheading-1)}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:12px 0}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-top:12px}.card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:24px;padding:24px 8px 0}.copyright[_ngcontent-%COMP%]{position:absolute;bottom:24px;right:24px;color:#fff}.toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),e})()}];let xt=(()=>{class e{}return e.\u0275mod=a.Lb({type:e}),e.\u0275inj=a.Kb({factory:function(t){return new(t||e)},imports:[[o.j.forChild(Nt)],o.j]}),e})();var Dt=i("KthW"),qt=i("WCGO"),Ft=i("RLWM"),Lt=i("zWnM");let Gt=(()=>{class e{}return e.\u0275mod=a.Lb({type:e}),e.\u0275inj=a.Kb({factory:function(t){return new(t||e)},imports:[[n.c,xt,m.w,Dt.a,qt.a,s.l,Ft.a,Lt.a]]}),e})()},rFp9:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("fXoL");let o=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Ib({type:e,selectors:[["","furyPage",""],["fury-page"]],hostAttrs:[1,"fury-page"]}),e})()}}]);