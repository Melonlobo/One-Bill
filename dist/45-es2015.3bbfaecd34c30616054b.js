(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{YaQ2:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("fXoL"),a=i("ofXK");function s(t,e){if(1&t&&(n.Tb(0,"small"),n.Rc(1),n.Ob(2,"br"),n.Sb()),2&t){const t=e.$implicit;n.Cb(1),n.Tc(" ",t," ")}}function r(t,e){if(1&t&&(n.Tb(0,"div"),n.Pc(1,s,3,1,"small",1),n.Sb()),2&t){const t=n.fc();n.Cb(1),n.mc("ngForOf",t.listOfErrors())}}let o=(()=>{class t{constructor(){this.PATTERN_ERROR_MESSAGE={"/^[a-zA-Z ]*$/":"Accepts only alphabets with spaces","/^[a-zA-Z0-9]*$/":"Accepts only alphanumeric values with no spaces","/^[a-zA-Z0-9 ]*$/":"Accepts only alphanumeric values with spaces","/^[0-9]*$/":"Accepts only numbers","^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{3,4}$":"Enter valid email address of format test@mail.com"},this.ERROR_MESSAGE={required:()=>"This field is required",minlength:t=>`Min ${t.requiredLength} chars is required but got only ${t.actualLength}`,maxlength:t=>`Max chars allowed is ${t.requiredLength} but got ${t.actualLength}`,pattern:t=>""+this.PATTERN_ERROR_MESSAGE[t.requiredPattern],email:()=>"Enter valid email address of format test@mail.com"}}ngOnInit(){}shouldShowErrors(){return this.ctrl&&this.ctrl.errors&&this.ctrl.touched}listOfErrors(){return Object.keys(this.ctrl.errors).map(t=>this.ERROR_MESSAGE[t](this.ctrl.getError(t)))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Hb({type:t,selectors:[["app-show-errors"]],inputs:{ctrl:"ctrl"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&n.Pc(0,r,2,1,"div",0),2&t&&n.mc("ngIf",e.shouldShowErrors())},directives:[a.o,a.n],styles:["small[_ngcontent-%COMP%]{color:red}"]}),t})()},"a+RD":function(t,e,i){"use strict";i.d(e,"a",(function(){return S}));var n=i("fXoL"),a=i("xgIS"),s=i("/uUt"),r=i("Kj3r"),o=i("ofXK"),l=i("STbY"),c=i("XiUz"),u=i("NFeN"),m=i("bTqV"),b=i("bSwM"),d=i("3Pt+");const p=["filter"];function f(t,e){if(1&t&&(n.Tb(0,"button",12),n.Tb(1,"mat-icon"),n.Rc(2,"filter_list"),n.Sb(),n.Sb()),2&t){n.fc(2);const t=n.Ac(3);n.mc("matMenuTriggerFor",t)}}function h(t,e){if(1&t&&(n.Tb(0,"div",5),n.Tb(1,"div",6),n.Rc(2),n.Sb(),n.Tb(3,"div",7),n.Tb(4,"mat-icon",8),n.Rc(5,"search"),n.Sb(),n.Ob(6,"input",9,10),n.Sb(),n.Pc(8,f,3,1,"button",11),n.kc(9,1),n.Sb()),2&t){const t=n.fc();n.Cb(2),n.Sc(t.name),n.Cb(6),n.mc("ngIf",!t.hideFilter)}}function y(t,e){if(1&t){const t=n.Ub();n.Tb(0,"button",13),n.bc("click",(function(i){n.Ec(t);const a=e.$implicit;return n.fc().toggleColumnVisibility(a,i)})),n.Tb(1,"mat-checkbox",14,15),n.bc("ngModelChange",(function(i){return n.Ec(t),e.$implicit.visible=i}))("click",(function(e){return n.Ec(t),e.stopPropagation()})),n.Rc(3),n.Sb(),n.Sb()}if(2&t){const t=e.$implicit;n.Cb(1),n.mc("ngModel",t.visible),n.Cb(2),n.Tc(" ",t.name," ")}}const g=["*",[["",8,"actions"]]],T=["*",".actions"];let S=(()=>{class t{constructor(){this.filterChange=new n.o}ngAfterViewInit(){this.hideHeader||Object(a.a)(this.filter.nativeElement,"keyup").pipe(Object(s.a)(),Object(r.a)(150)).subscribe(()=>{this.filterChange.emit(this.filter.nativeElement.value)})}toggleColumnVisibility(t,e){e.stopPropagation(),e.stopImmediatePropagation(),t.visible=!t.visible}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Hb({type:t,selectors:[["fury-list"]],viewQuery:function(t,e){var i;1&t&&n.Vc(p,!0),2&t&&n.zc(i=n.cc())&&(e.filter=i.first)},inputs:{name:"name",columns:"columns",hideHeader:"hideHeader",hideFilter:"hideFilter"},outputs:{filterChange:"filterChange"},ngContentSelectors:T,decls:6,vars:2,consts:[[1,"fury-list-table"],["class","fury-list-header","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px",4,"ngIf"],["yPosition","below","xPosition","before"],["columnFilter","matMenu"],["class","checkbox-item mat-menu-item",3,"click",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px",1,"fury-list-header"],[1,"fury-list-name"],["fxLayout","row","fxLayoutAlign","start center","fxFlex",""],[1,"fury-filter-input-icon"],["fxFlex","","placeholder","Search\u2026",1,"fury-filter-input"],["filter",""],["class","fury-column-filter","type","button","mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],["type","button","mat-icon-button","",1,"fury-column-filter",3,"matMenuTriggerFor"],[1,"checkbox-item","mat-menu-item",3,"click"],[1,"checkbox",3,"ngModel","ngModelChange","click"],["checkbox",""]],template:function(t,e){1&t&&(n.lc(g),n.Tb(0,"div",0),n.Pc(1,h,10,2,"div",1),n.Tb(2,"mat-menu",2,3),n.Pc(4,y,4,2,"button",4),n.Sb(),n.kc(5),n.Sb()),2&t&&(n.Cb(1),n.mc("ngIf",!e.hideHeader),n.Cb(3),n.mc("ngForOf",e.columns))},directives:[o.o,l.e,o.n,c.d,c.c,c.e,c.b,u.a,m.a,l.d,b.a,d.q,d.t],styles:[".fury-list-table{display:flex;flex-direction:column}.fury-list-table .fury-list-header{padding-left:24px;padding-right:24px;height:64px;border-top-left-radius:8px;border-top-right-radius:8px}@media screen and (max-width:599px){.fury-list-table .fury-list-header{height:auto;padding-top:24px;padding-bottom:24px}}.fury-list-table .fury-list-header .fury-list-name{font-size:20px;line-height:32px;font-weight:500;padding-right:24px}@media screen and (max-width:599px){.fury-list-table .fury-list-header .fury-list-name{border-right:none}}.fury-list-table .fury-list-header .fury-filter-input{font-size:16px;line-height:1.125;border:none;height:32px}.fury-list-table .fury-list-header .fury-filter-input:focus{outline:none}.fury-list-table .fury-list-header .fury-filter-input-icon{width:1.2em;vertical-align:bottom;height:22px;font-size:22px;margin-right:8px}.fury-list-table table{width:100%}.fury-list-table .mat-header-row .mat-header-cell .mat-sort-header-button{text-transform:uppercase}.fury-list-table .mat-cell.image-cell,.fury-list-table .mat-header-cell.image-cell{flex:0;width:59px}.fury-list-table .mat-cell.image-cell img,.fury-list-table .mat-header-cell.image-cell img{border-radius:50%;height:35px;width:35px;margin-right:24px;vertical-align:middle}.fury-list-table .mat-cell,.fury-list-table .mat-header-cell{white-space:nowrap;padding-left:12px;padding-right:12px}.fury-list-table .mat-cell.actions-cell,.fury-list-table .mat-header-cell.actions-cell{flex:0;width:40px;overflow:visible}.fury-list-table .paginator{display:block}"],encapsulation:2}),t})()},seMb:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("3Pt+"),a=i("fXoL");let s=(()=>{class t{constructor(){this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{3,4}$",this.nameValidators=n.y.compose([n.y.required,n.y.minLength(1),n.y.maxLength(256)]),this.optionalNameValidators=n.y.compose([n.y.minLength(1),n.y.maxLength(256),n.y.pattern(/^[a-zA-Z ]*$/)]),this.emailValidators=n.y.compose([n.y.required,n.y.pattern(this.emailPattern)]),this.mobileNumberValidators=n.y.compose([n.y.required,n.y.pattern(/^[0-9]*$/)]),this.addressValidators=n.y.compose([n.y.required,n.y.minLength(1),n.y.maxLength(256),n.y.pattern(/^[a-zA-Z0-9 ]*$/)]),this.subjectValidator=n.y.compose([n.y.required,n.y.minLength(1),n.y.maxLength(1e3),n.y.pattern(/^[a-zA-Z0-9 ]*$/)]),this.optionsAddressValidators=n.y.compose([n.y.minLength(1),n.y.maxLength(256),n.y.pattern(/^[a-zA-Z0-9 ]*$/)]),this.postalCodeValidators=n.y.compose([n.y.pattern(/^[a-zA-Z0-9]*$/)]),this.requiredAlphanumericNoSpaces=n.y.compose([n.y.required,n.y.minLength(1),n.y.maxLength(256),n.y.pattern(/^[a-zA-Z0-9]*$/)]),this.passwordValidators=n.y.compose([n.y.required,n.y.minLength(8)])}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},tB66:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("fXoL"),a=i("0IaG"),s=i("XiUz"),r=i("bTqV");let o=(()=>{class t{constructor(t){this.dialogRef=t,this.confirmMessage="Are you sure you want to Delete?",t.disableClose=!0}getConfirmation(t){this.dialogRef.close(t)}}return t.\u0275fac=function(e){return new(e||t)(n.Nb(a.h))},t.\u0275cmp=n.Hb({type:t,selectors:[["fury-user-confirmation-popup"]],decls:9,vars:1,consts:[[1,"heading"],[1,"mat-dlg-content","contentStyle"],["fxLayout","row","fxLayoutAlign","end center",1,"bottomPadding"],["mat-button","",3,"click"],["mat-button","",1,"buttonStyle",3,"click"]],template:function(t,e){1&t&&(n.Tb(0,"div",0),n.Rc(1," Confirm Action "),n.Sb(),n.Tb(2,"div",1),n.Rc(3),n.Sb(),n.Tb(4,"mat-dialog-actions",2),n.Tb(5,"button",3),n.bc("click",(function(){return e.getConfirmation(!1)})),n.Rc(6,"NO"),n.Sb(),n.Tb(7,"button",4),n.bc("click",(function(){return e.getConfirmation(!0)})),n.Rc(8,"YES"),n.Sb(),n.Sb()),2&t&&(n.Cb(3),n.Sc(e.confirmMessage))},directives:[a.c,s.d,s.c,r.a],styles:[".buttonStyle[_ngcontent-%COMP%]{background:#1976d2;color:#fff;padding-right:10px}.headingStyle[_ngcontent-%COMP%]{text-align:center;color:red;background-color:silver;border-radius:50%;width:100px;height:100px}.heading[_ngcontent-%COMP%]{font-size:large;font-weight:700;margin-top:10px}mat-icon[_ngcontent-%COMP%]{font-size:56px;height:56px;width:56px;line-height:56px;justify-content:center}.contentStyle[_ngcontent-%COMP%]{padding-top:40px;padding-bottom:30px;padding-right:30px}.rightAlign[_ngcontent-%COMP%]{text-align:right}.bottomPadding[_ngcontent-%COMP%]{padding-bottom:20px}"]}),t})()},wg1w:function(t,e,i){"use strict";i.r(e),i.d(e,"CreateUnitMasterModule",(function(){return $t}));var n=i("ofXK"),a=i("3Pt+"),s=i("q8Jb"),r=i("0jmt"),o=i("KthW"),l=i("WCGO"),c=i("tyNb"),u=i("0IaG"),m=i("M9IT"),b=i("Dh3D"),d=i("+0xr"),p=i("jtHE"),f=i("pLZG"),h=i("Ku73"),y=i("nStZ"),g=i("tk/3"),T=i("sXtk"),S=i("fXoL");let C=(()=>{class t{constructor(t,e){this.http=t,this.envService=e,this.baseUrl="",this.baseUrl=e.backend}getClientProjects(t){return this.http.get(this.baseUrl+"/UserFilter/GetClientProjects/"+t)}getProjectBlocks(t){return this.http.get(this.baseUrl+"/UserFilter/GetProjectBlocks/"+t)}getBlockBuildings(t){return this.http.get(this.baseUrl+"/UserFilter/GetBlockBuildings/"+t)}getBuildingFloors(t){return this.http.get(this.baseUrl+"/UserFilter/GetBuildingFloors/"+t)}getAvailableDevices(t,e){return this.http.get(this.baseUrl+"/units/getAvailableDevices/"+t+"/"+e)}getUnitDetails(t,e){let i=new g.f;return i=i.append("occupancyStatus",e),this.http.get(this.baseUrl+"/units/clientId/"+t,{params:i})}getUnitDetailsById(t){return this.http.get(this.baseUrl+"/units/"+t)}createUnit(t){return this.http.post(this.baseUrl+"/units/",t)}updateUnitById(t,e){return this.http.put(this.baseUrl+"/units/"+t,e)}deleteUnitById(t,e){const i={headers:new g.e({"Content-Type":"application/json"}),body:e};return this.http.delete(this.baseUrl+"/units/"+t,i)}getMetadatas(t){return this.http.get(this.baseUrl+t)}getUtilities(t){return this.http.get(this.baseUrl+"/clients/"+t+"/utilities")}}return t.\u0275fac=function(e){return new(e||t)(S.Xb(g.c),S.Xb(T.a))},t.\u0275prov=S.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class v{constructor(t){this.id=t.id||0,this.unitId=t.unitId||0,this.utilityTypeId=t.utilityTypeId||0,this.utilityType=t.utilityType||"",this.meterId=t.meterId||0,this.meterType=t.meterType||"",this.meterReading=t.meterReading||0,this.securityDeposit=t.securityDeposit||0}}class U{constructor(t){this.id=t.id||0,this.unitNumber=t.unitNumber||"",this.aliasName=t.aliasName||"",this.posession=t.posession||"",this.clientId=t.clientId||1,this.tenantId=t.tenantId||0,this.meterNumber=t.meterNumber||"",this.ownerName=t.ownerName||"",this.tenantName=t.tenantName||"",this.unitTypeId=t.unitTypeId||0,this.unitType=t.unitType||"",this.areaSqFt=t.areaSqFt||0,this.capacityTon=t.capacityTon||0,this.accountNumber=t.accountNumber||"",this.isDeleted=t.isDeleted||!1,this.unitUtilityList=(t.unitUtilityList||[]).map(t=>new v(t))}}var w=i("sOHO"),x=i("Ooy/"),I=i("Scjl"),O=i("seMb"),M=i("zSPf"),R=i("tB66"),L=i("xXXn"),P=i("KHMF"),N=i("dNgK"),k=i("b6Qw"),F=i("/t3+"),A=i("bTqV"),D=i("NFeN"),$=i("MutI"),E=i("4FRi"),q=i("wZkO"),z=i("XiUz"),j=i("kmnG"),V=i("qFsG"),G=i("YaQ2"),B=i("/1cH"),H=i("FKr1"),_=i("STbY");function X(t,e){1&t&&(S.Tb(0,"mat-hint"),S.Rc(1,"Please enter Unit Number"),S.Sb())}function Q(t,e){if(1&t&&(S.Tb(0,"mat-option",43),S.Rc(1),S.Sb()),2&t){const t=e.$implicit;S.mc("value",t.description),S.Cb(1),S.Tc(" ",t.description," ")}}function Z(t,e){1&t&&(S.Tb(0,"mat-form-field",11),S.Tb(1,"mat-label"),S.Rc(2,"Account Number"),S.Sb(),S.Ob(3,"input",44),S.Sb())}function K(t,e){if(1&t&&(S.Tb(0,"mat-option",43),S.Rc(1),S.Sb()),2&t){const t=e.$implicit;S.mc("value",t.description),S.Cb(1),S.Tc(" ",t.description," ")}}function Y(t,e){if(1&t&&(S.Tb(0,"mat-option",43),S.Rc(1),S.Sb()),2&t){const t=e.$implicit;S.mc("value",t.description),S.Cb(1),S.Tc(" ",t.description," ")}}function J(t,e){if(1&t&&(S.Tb(0,"mat-form-field",24),S.Tb(1,"mat-label"),S.Rc(2,"Meter Reading"),S.Sb(),S.Ob(3,"input",45),S.Ob(4,"app-show-errors",13),S.Tb(5,"mat-hint"),S.Rc(6,"Please enter Meter Reading"),S.Sb(),S.Sb()),2&t){const t=S.fc();S.Cb(4),S.mc("ctrl",t.form.controls.unitUtilityList.get("meterReading"))}}function W(t,e){if(1&t){const t=S.Ub();S.Tb(0,"div",9),S.Tb(1,"div",10),S.Tb(2,"mat-form-field",24),S.Tb(3,"mat-label"),S.Rc(4,"Security Deposit"),S.Sb(),S.Ob(5,"input",46),S.Sb(),S.Tb(6,"button",30),S.bc("click",(function(){return S.Ec(t),S.fc().saveUtility()})),S.Rc(7,"CREATE UTILITY"),S.Sb(),S.Sb(),S.Sb()}if(2&t){const t=S.fc();S.Cb(6),S.mc("disabled",""===(null==t.form?null:t.form.controls.unitUtilityList.get("utilityTypeId").value)||null===(null==t.form?null:t.form.controls.unitUtilityList.get("utilityTypeId").value)||""===(null==t.form?null:t.form.controls.unitUtilityList.get("meterId").value)||null===(null==t.form?null:t.form.controls.unitUtilityList.get("meterId").value)||""===(null==t.form?null:t.form.controls.unitUtilityList.get("meterReading").value)||null===(null==t.form?null:t.form.controls.unitUtilityList.get("meterReading").value))}}function tt(t,e){1&t&&(S.Tb(0,"span",47),S.Rc(1,"Utility already exists."),S.Sb())}function et(t,e){if(1&t&&(S.Tb(0,"th",52),S.Rc(1),S.Sb()),2&t){const t=S.fc(2).$implicit;S.Cb(1),S.Tc(" ",t.name,"")}}function it(t,e){if(1&t&&(S.Tb(0,"td",53),S.Rc(1),S.Sb()),2&t){const t=e.$implicit,i=S.fc(2).$implicit;S.Cb(1),S.Tc(" ",t[i.property]," ")}}function nt(t,e){if(1&t&&(S.Rb(0,49),S.Pc(1,et,2,1,"th",50),S.Pc(2,it,2,1,"td",51),S.Qb()),2&t){const t=S.fc().$implicit;S.mc("matColumnDef",t.property)}}function at(t,e){if(1&t&&(S.Rb(0),S.Pc(1,nt,3,1,"ng-container",48),S.Qb()),2&t){const t=e.$implicit;S.Cb(1),S.mc("ngIf",t.isModelProperty)}}function st(t,e){1&t&&S.Ob(0,"th",54)}function rt(t,e){if(1&t){const t=S.Ub();S.Tb(0,"td",55),S.Tb(1,"button",56),S.bc("click",(function(e){return S.Ec(t),e.stopPropagation()})),S.Tb(2,"mat-icon"),S.Rc(3,"more_horiz"),S.Sb(),S.Sb(),S.Tb(4,"mat-menu",57,58),S.Tb(6,"button",59),S.bc("click",(function(){S.Ec(t);const i=e.$implicit;return S.fc().deleteUtility(i)})),S.Tb(7,"span"),S.Rc(8,"Delete"),S.Sb(),S.Sb(),S.Sb(),S.Sb()}if(2&t){const t=S.Ac(5),e=S.fc();S.Cb(1),S.mc("disabled","update"==e.mode)("matMenuTriggerFor",t),S.Cb(5),S.mc("disabled","update"==e.mode)}}function ot(t,e){1&t&&S.Ob(0,"tr",60)}function lt(t,e){1&t&&S.Ob(0,"tr",61)}function ct(t,e){if(1&t&&(S.Tb(0,"button",62),S.Rc(1,"CREATE UNIT"),S.Sb()),2&t){const t=S.fc();S.mc("disabled",!t.form.valid||!t.form.controls.unitUtilityList.valid)}}function ut(t,e){if(1&t&&(S.Tb(0,"button",62),S.Rc(1,"UPDATE UNIT"),S.Sb()),2&t){const t=S.fc();S.mc("disabled",!t.form.valid||!t.form.controls.unitUtilityList.valid)}}let mt=(()=>{class t{constructor(t,e,i,n,a,s,r,o,l,c,u,m){var b,d;this.defaults=t,this.fb=e,this.snackbar=i,this.fv=n,this.dialog=a,this.masterService=s,this.currency=r,this.metadataService=o,this.unitMasterService=l,this.dialogRef=c,this.cookieService=u,this.envService=m,this.currencyFormat="",this.roundOffFormat="",this.subject$=new p.a(1),this.data$=this.subject$.asObservable(),this.mode="create",this.isCancel=!1,this.displayedColumns=[{name:"Utility Type Id",property:"id",visible:!1,isModelProperty:!0},{name:"Utility Type",property:"utilityType",visible:!0,isModelProperty:!0},{name:"Meter Id",property:"meterId",visible:!1,isModelProperty:!0},{name:"Meter Name",property:"meterType",visible:!0,isModelProperty:!0},{name:"Modify",property:"actions",visible:!0}],this.pageSize=8,c.disableClose=!0,this.currencyFormat=null!==(b=Object(P.e)("Currency"))&&void 0!==b?b:m.currencyFormat,this.roundOffFormat=null!==(d=Object(P.e)("RoundOff"))&&void 0!==d?d:m.roundOffFormat}set content(t){this.sort=t,this.sort&&(this.dataSource.sort=this.sort)}get visibleColumns(){return this.displayedColumns.filter(t=>t.visible).map(t=>t.property)}ngOnInit(){this.defaults?(this.mode="update",this.utilities=this.defaults.unitUtilityList):this.defaults=new U({}),this.clientId=parseInt(this.cookieService.get("globalClientId")),this.utilities=(this.defaults.unitUtilityList||[]).map(t=>new v(t)),this.utility=this.defaults.unitUtilityList[0]||new v({}),this.masterService.getUserMasterdata(10,0).subscribe(t=>{this.metadataUnitTypes=t,this.filteredUnitTypes=t}),this.unitMasterService.getUtilities(this.clientId).subscribe(t=>{this.metadataUtilityTypes=t.map(t=>new x.a(t)),this.filteredUtilityTypes=t}),this.filteredUtilityTypes=this.metadataUtilityTypes,this.form=this.fb.group({id:[this.defaults.id||t.id++],aliasName:[this.defaults.aliasName||"",a.y.required],unitTypeId:[this.defaults.unitTypeId||"",a.y.required],unitType:[this.defaults.unitType||"",a.y.required],areaSqFt:[this.defaults.areaSqFt||"",a.y.required],capacityTon:[this.defaults.capacityTon||"",a.y.required],accountNumber:[this.defaults.accountNumber||""],unitUtilityList:this.fb.group({id:[this.utility&&this.utility.id||0],utilityTypeId:[this.utility&&this.utility.utilityTypeId||0],utilityType:[this.utility&&this.utility.utilityType||""],meterId:[this.utility&&this.utility.meterId||0],meterType:[this.utility&&this.utility.meterType||""],meterReading:[this.utility&&this.utility.meterReading||""],securityDeposit:[this.utility&&this.utility.securityDeposit||""]})}),"update"==this.mode&&(this.form.controls.unitUtilityList.reset(),this.form.controls.aliasName.disable()),this.bindUtilities(),this.form.controls.unitType.valueChanges.subscribe(t=>{this.filteredUnitTypes=this.filterUnitTypes(t)}),this.form.controls.unitUtilityList.get("utilityType").valueChanges.subscribe(t=>{this.filteredUtilityTypes=this.filterUtilityTypes(t)}),this.form.controls.unitUtilityList.get("meterType").valueChanges.subscribe(t=>{this.filteredMeterTypes=this.filterMeterType(t)})}filterUnitTypes(t){return this.metadataUnitTypes.filter(e=>0===e.description.toLowerCase().indexOf(t.toLowerCase()))}filterUtilityTypes(t){return this.metadataUtilityTypes.filter(e=>0===e.description.toLowerCase().indexOf(t.toLowerCase()))}filterMeterType(t){return this.metadataMeterTypes.filter(e=>0===e.description.toLowerCase().indexOf(t.toLowerCase()))}save(){this.defaults.unitUtilityList=this.utilities,this.isCancel?this.dialog.open(L.a,{data:{label:"Are you sure you want to Cancel?",selected:!1}}).afterClosed().subscribe(t=>{t&&(this.isCancel=!1,this.dialogRef.close())}):this.form.valid&&("create"===this.mode?this.createUnit():"update"===this.mode&&this.updateUnit())}createUnit(){Object.assign(this.defaults,this.form.value),this.defaults.unitNumber=this.form.controls.aliasName.value,this.defaults.clientId=this.clientId,this.defaults.unitUtilityList=this.utilities,this.isCancel?(this.isCancel=!1,this.dialog.open(L.a,{data:{label:"Are you sure you want to Cancel?",selected:!1}}).afterClosed().subscribe(t=>{t&&this.dialogRef.close()})):this.form.valid&&this.dialogRef.close(new U(this.defaults))}updateUnit(){Object.assign(this.defaults,this.form.value),this.defaults.unitNumber=this.form.controls.aliasName.value,this.defaults.clientId=this.clientId,this.defaults.unitUtilityList=this.utilities,this.isCancel?(this.isCancel=!1,this.dialog.open(L.a,{data:{label:"Are you sure you want to Cancel?",selected:!1}}).afterClosed().subscribe(t=>{t&&this.dialogRef.close()})):this.form.valid&&this.dialogRef.close(new U(this.defaults))}isCreateMode(){return"create"===this.mode}isUpdateMode(){return"update"===this.mode}saveUtility(){if(this.form.controls.unitUtilityList.valid){var t=this.form.controls.unitUtilityList.get("utilityTypeId").value;this.utilities.findIndex(e=>e.id===t)&&(this.utilities.push({id:0,unitId:this.defaults.id,utilityTypeId:this.form.controls.unitUtilityList.get("utilityTypeId").value,utilityType:this.form.controls.unitUtilityList.get("utilityType").value,meterId:this.form.controls.unitUtilityList.get("meterId").value,meterType:this.form.controls.unitUtilityList.get("meterType").value,meterReading:this.form.controls.unitUtilityList.get("meterReading").value,securityDeposit:""===this.form.controls.unitUtilityList.get("securityDeposit").value?0:this.form.controls.unitUtilityList.get("securityDeposit").value,securityDepositLocal:""===this.form.controls.unitUtilityList.get("securityDeposit").value?0:this.form.controls.unitUtilityList.get("securityDeposit").value}),this.bindUtilities(),this.form.controls.unitUtilityList.reset())}}deleteUtility(t){this.dialog.open(R.a).afterClosed().subscribe(e=>{e&&(this.utilities.splice(this.utilities.findIndex(e=>e.id===t.id),1),this.bindUtilities())})}selectUnitType(t){this.metadataUnitTypes.forEach(e=>{t.option.value==e.description&&this.form.controls.unitTypeId.setValue(e.id)})}selectUtilityType(t){this.metadataUtilityTypes.forEach(e=>{t.option.value==e.description&&(this.form.controls.unitUtilityList.get("utilityTypeId").setValue(e.id),this.onUtilitySelect(e.id))})}selectMeterType(t){this.metadataMeterTypes.forEach(e=>{t.option.value==e.description&&this.form.controls.unitUtilityList.get("meterId").setValue(e.id)})}onFilterChange(t){this.dataSource&&(t=(t=t.trim()).toLowerCase(),this.dataSource.filter=t)}onUtilitySelect(t){this.unitMasterService.getAvailableDevices(t,this.clientId).subscribe(t=>{this.metadataMeterTypes=t.map(t=>new I.a(t)),this.filteredMeterTypes=t})}bindUtilities(){this.utilities.forEach(t=>{t.securityDepositLocal=this.currency.transform(t.securityDeposit,this.currencyFormat.toString(),!0,this.roundOffFormat)}),this.subject$.next(this.utilities),this.dataSource=new d.k(this.utilities),this.data$.pipe(Object(f.a)(t=>!!t)).subscribe(t=>{this.utilities=t,this.dataSource.data=t})}close(){this.dialogRef.close()}closeDialog(){this.isCancel=!0}}return t.id=0,t.\u0275fac=function(e){return new(e||t)(S.Nb(u.a),S.Nb(a.f),S.Nb(N.b),S.Nb(O.a),S.Nb(u.b),S.Nb(M.a),S.Nb(n.d),S.Nb(w.a),S.Nb(C),S.Nb(u.h),S.Nb(k.a),S.Nb(T.a))},t.\u0275cmp=S.Hb({type:t,selectors:[["fury-unit-master-create-update"]],viewQuery:function(t,e){var i;1&t&&(S.Jc(m.a,!0),S.Vc(b.a,!0)),2&t&&(S.zc(i=S.cc())&&(e.paginator=i.first),S.zc(i=S.cc())&&(e.content=i.first))},inputs:{displayedColumns:"displayedColumns"},decls:91,vars:25,consts:[["mat-dialog-title",""],["role","toolbar",1,"task-header"],[1,"fx-spacer"],["mat-icon-button","",3,"click"],["title","Close","mat-list-icon",""],[3,"formGroup","ngSubmit"],[1,"mat-dlg-content"],["label","General"],[1,"padding-top"],[1,"person"],["fxLayout","column","fxLayout.gt-sm","row","fxLayoutGap.gt-sm","20px",1,"padding-top"],["fxFlex",""],["type","text","formControlName","aliasName","matInput",""],[3,"ctrl"],[4,"ngIf"],["matInput","","formControlName","unitType",3,"matAutocomplete"],[3,"optionSelected"],["unitType","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["type","number","formControlName","areaSqFt","matInput",""],["type","number","formControlName","capacityTon","matInput",""],["fxFlex","",4,"ngIf"],["label","Utilities"],[3,"formGroup"],["fxFlex","",1,"titleSelector"],["matInput","","formControlName","utilityType",3,"matAutocomplete"],["utility","matAutocomplete"],["matInput","","formControlName","meterType",3,"matAutocomplete"],["meter","matAutocomplete"],["class","titleSelector","fxFlex","",4,"ngIf"],["mat-button","",3,"disabled","click"],["class","person",4,"ngIf"],["formControlName","duplicateUtility",4,"ngIf"],["mat-table","","matSort","","align","center",1,"padding-top",3,"dataSource"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",4,"matRowDef","matRowDefColumns"],["fxLayout","row","fxLayoutAlign","end center"],["mat-button","",3,"click"],["mat-button","",3,"disabled",4,"ngIf"],[3,"value"],["type","text","formControlName","accountNumber","matInput",""],["type","number","formControlName","meterReading","matInput",""],["type","number","formControlName","securityDeposit","matInput",""],["formControlName","duplicateUtility"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","","style","padding-left: 20px;",4,"matHeaderCellDef"],["mat-cell","","style","padding-left: 20px;",4,"matCellDef"],["mat-header-cell","","mat-sort-header","",2,"padding-left","20px"],["mat-cell","",2,"padding-left","20px"],["mat-header-cell","","mat-sort-header","",1,"actions-cell"],["mat-cell","",1,"actions-cell"],["type","button","mat-icon-button","",3,"disabled","matMenuTriggerFor","click"],["yPosition","below","xPosition","before"],["actionsMenu","matMenu"],["mat-menu-item","",3,"disabled","click"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements"],["mat-button","",3,"disabled"]],template:function(t,e){if(1&t&&(S.Tb(0,"div",0),S.Tb(1,"mat-toolbar",1),S.Tb(2,"span"),S.Rc(3,"Unit"),S.Sb(),S.Ob(4,"span",2),S.Tb(5,"button",3),S.bc("click",(function(){return e.close()})),S.Tb(6,"mat-icon",4),S.Rc(7,"close"),S.Sb(),S.Sb(),S.Sb(),S.Sb(),S.Tb(8,"form",5),S.bc("ngSubmit",(function(){return e.save()})),S.Tb(9,"mat-dialog-content",6),S.Tb(10,"fury-card"),S.Tb(11,"mat-tab-group"),S.Tb(12,"mat-tab",7),S.Tb(13,"fury-card-content",8),S.Tb(14,"div",9),S.Tb(15,"div",10),S.Tb(16,"mat-form-field",11),S.Tb(17,"mat-label"),S.Rc(18,"Unit Number"),S.Sb(),S.Ob(19,"input",12),S.Ob(20,"app-show-errors",13),S.Pc(21,X,2,0,"mat-hint",14),S.Sb(),S.Tb(22,"mat-form-field",11),S.Tb(23,"mat-label"),S.Rc(24,"Unit Type"),S.Sb(),S.Ob(25,"input",15),S.Tb(26,"mat-autocomplete",16,17),S.bc("optionSelected",(function(t){return e.selectUnitType(t)})),S.Pc(28,Q,2,2,"mat-option",18),S.Sb(),S.Ob(29,"app-show-errors",13),S.Tb(30,"mat-hint"),S.Rc(31,"Please select a Unit Type"),S.Sb(),S.Sb(),S.Sb(),S.Sb(),S.Tb(32,"div",9),S.Tb(33,"div",10),S.Tb(34,"mat-form-field",11),S.Tb(35,"mat-label"),S.Rc(36,"Area (SqFt)"),S.Sb(),S.Ob(37,"input",19),S.Ob(38,"app-show-errors",13),S.Tb(39,"mat-hint"),S.Rc(40,"Please enter Area in Square Feet"),S.Sb(),S.Sb(),S.Tb(41,"mat-form-field",11),S.Tb(42,"mat-label"),S.Rc(43,"Capacity (Ton)"),S.Sb(),S.Ob(44,"input",20),S.Ob(45,"app-show-errors",13),S.Tb(46,"mat-hint"),S.Rc(47,"Please enter Capacity in Ton"),S.Sb(),S.Sb(),S.Pc(48,Z,4,0,"mat-form-field",21),S.Sb(),S.Sb(),S.Sb(),S.Sb(),S.Tb(49,"mat-tab",22),S.Tb(50,"fury-card-content",8),S.Tb(51,"div",23),S.Tb(52,"div",9),S.Tb(53,"div",10),S.Tb(54,"mat-form-field",24),S.Tb(55,"mat-label"),S.Rc(56,"Utility Type"),S.Sb(),S.Ob(57,"input",25),S.Tb(58,"mat-autocomplete",16,26),S.bc("optionSelected",(function(t){return e.selectUtilityType(t)})),S.Pc(60,K,2,2,"mat-option",18),S.Sb(),S.Ob(61,"app-show-errors",13),S.Tb(62,"mat-hint"),S.Rc(63,"Please select a Utility Type"),S.Sb(),S.Sb(),S.Tb(64,"mat-form-field",24),S.Tb(65,"mat-label"),S.Rc(66,"Meter"),S.Sb(),S.Ob(67,"input",27),S.Tb(68,"mat-autocomplete",16,28),S.bc("optionSelected",(function(t){return e.selectMeterType(t)})),S.Pc(70,Y,2,2,"mat-option",18),S.Sb(),S.Ob(71,"app-show-errors",13),S.Tb(72,"mat-hint"),S.Rc(73,"Please select a Meter Type"),S.Sb(),S.Sb(),S.Pc(74,J,7,1,"mat-form-field",29),S.Tb(75,"button",30),S.bc("click",(function(){return e.saveUtility()})),S.Rc(76,"CREATE UTILITY"),S.Sb(),S.Sb(),S.Sb(),S.Pc(77,W,8,1,"div",31),S.Pc(78,tt,2,0,"span",32),S.Tb(79,"table",33),S.Pc(80,at,2,1,"ng-container",34),S.Rb(81,35),S.Pc(82,st,1,0,"th",36),S.Pc(83,rt,9,3,"td",37),S.Qb(),S.Pc(84,ot,1,0,"tr",38),S.Pc(85,lt,1,0,"tr",39),S.Sb(),S.Sb(),S.Sb(),S.Sb(),S.Sb(),S.Sb(),S.Sb(),S.Tb(86,"mat-dialog-actions",40),S.Tb(87,"button",41),S.bc("click",(function(){return e.closeDialog()})),S.Rc(88,"CANCEL"),S.Sb(),S.Pc(89,ct,2,1,"button",42),S.Pc(90,ut,2,1,"button",42),S.Sb(),S.Sb()),2&t){const t=S.Ac(27),i=S.Ac(59),n=S.Ac(69);S.Cb(8),S.mc("formGroup",e.form),S.Cb(12),S.mc("ctrl",e.form.get("aliasName")),S.Cb(1),S.mc("ngIf","create"==e.mode),S.Cb(4),S.mc("matAutocomplete",t),S.Cb(3),S.mc("ngForOf",e.filteredUnitTypes),S.Cb(1),S.mc("ctrl",e.form.get("unitTypeId")),S.Cb(9),S.mc("ctrl",e.form.get("areaSqFt")),S.Cb(7),S.mc("ctrl",e.form.get("capacityTon")),S.Cb(3),S.mc("ngIf",!1),S.Cb(3),S.mc("formGroup",e.form.controls.unitUtilityList),S.Cb(6),S.mc("matAutocomplete",i),S.Cb(3),S.mc("ngForOf",e.filteredUtilityTypes),S.Cb(1),S.mc("ctrl",e.form.controls.unitUtilityList.get("utilityTypeId")),S.Cb(6),S.mc("matAutocomplete",n),S.Cb(3),S.mc("ngForOf",e.filteredMeterTypes),S.Cb(1),S.mc("ctrl",e.form.controls.unitUtilityList.get("meterId")),S.Cb(3),S.mc("ngIf",!1),S.Cb(1),S.mc("disabled",""===(null==e.form?null:e.form.controls.unitUtilityList.get("utilityTypeId").value)||null===(null==e.form?null:e.form.controls.unitUtilityList.get("utilityTypeId").value)||""===(null==e.form?null:e.form.controls.unitUtilityList.get("meterId").value)||null===(null==e.form?null:e.form.controls.unitUtilityList.get("meterId").value)),S.Cb(2),S.mc("ngIf",!1),S.Cb(2),S.mc("dataSource",e.dataSource),S.Cb(1),S.mc("ngForOf",e.displayedColumns),S.Cb(4),S.mc("matHeaderRowDef",e.visibleColumns),S.Cb(1),S.mc("matRowDefColumns",e.visibleColumns),S.Cb(4),S.mc("ngIf",e.isCreateMode()),S.Cb(1),S.mc("ngIf",e.isUpdateMode())}},directives:[u.i,F.a,A.a,D.a,$.c,a.z,a.r,a.k,u.f,E.a,q.b,q.a,E.c,z.d,z.e,j.d,z.b,j.h,a.c,V.b,a.q,a.i,G.a,n.o,B.c,B.a,n.n,j.g,a.u,d.j,b.a,d.c,d.e,d.b,d.g,d.i,u.c,z.c,H.n,d.d,b.b,d.a,_.d,_.e,_.b,d.f,d.h],styles:[".task-header[_ngcontent-%COMP%]{background-color:transparent;padding:0 5px;height:20px}.fx-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),t})();var bt=i("a8hA"),dt=i("xBcV"),pt=i("Hbgg"),ft=i("rnAf"),ht=i("rvYj"),yt=i("a+RD"),gt=i("d3UM");function Tt(t,e){if(1&t&&(S.Tb(0,"mat-option",15),S.Rc(1),S.Sb()),2&t){const t=e.$implicit;S.mc("value",t),S.Cb(1),S.Tc(" ",t,"")}}function St(t,e){if(1&t&&(S.Tb(0,"th",20),S.Rc(1),S.Sb()),2&t){const t=S.fc(2).$implicit;S.Cb(1),S.Tc(" ",t.name,"")}}function Ct(t,e){if(1&t&&(S.Tb(0,"td",21),S.Rc(1),S.Sb()),2&t){const t=e.$implicit,i=S.fc(2).$implicit;S.Cb(1),S.Tc(" ",t[i.property]," ")}}function vt(t,e){if(1&t&&(S.Rb(0,17),S.Pc(1,St,2,1,"th",18),S.Pc(2,Ct,2,1,"td",19),S.Qb()),2&t){const t=S.fc().$implicit;S.mc("matColumnDef",t.property)}}function Ut(t,e){if(1&t&&(S.Rb(0),S.Pc(1,vt,3,1,"ng-container",16),S.Qb()),2&t){const t=e.$implicit;S.Cb(1),S.mc("ngIf",t.isModelProperty)}}function wt(t,e){1&t&&S.Ob(0,"th",22)}function xt(t,e){if(1&t){const t=S.Ub();S.Tb(0,"td",23),S.Tb(1,"button",24),S.bc("click",(function(e){return S.Ec(t),e.stopPropagation()})),S.Tb(2,"mat-icon"),S.Rc(3,"more_horiz"),S.Sb(),S.Sb(),S.Tb(4,"mat-menu",25,26),S.Tb(6,"button",27),S.bc("click",(function(){S.Ec(t);const i=e.$implicit;return S.fc().updateUnit(i)})),S.Tb(7,"span"),S.Rc(8,"Modify"),S.Sb(),S.Sb(),S.Sb(),S.Sb()}if(2&t){const t=S.Ac(5);S.Cb(1),S.mc("matMenuTriggerFor",t)}}function It(t,e){1&t&&S.Ob(0,"tr",28)}function Ot(t,e){if(1&t){const t=S.Ub();S.Tb(0,"tr",29),S.bc("click",(function(){S.Ec(t);const i=e.$implicit;return S.fc().updateUnit(i)})),S.Sb()}}const Mt=function(){return[]},Rt=function(){return{standalone:!0}},Lt=[{path:"",component:(()=>{class t{constructor(t,e,i,n,a){this.dialog=t,this.snackbar=e,this.unitMasterService=i,this.clientSelectionService=n,this.cookieService=a,this.occupancyStatus="Vacant,Owner,Tenant",this.occupancies=["Select All","Vacant Units","Occupied By Tenant","Occupied By Owner","Occupied By Owner/Tenant"],this.occupancy="Select All",this.subject$=new p.a(1),this.data$=this.subject$.asObservable(),this.displayedColumns=[{name:"Unit Number",property:"aliasName",visible:!0,isModelProperty:!0},{name:"Meter Number",property:"meterNumber",visible:!0,isModelProperty:!0},{name:"Owner Name",property:"ownerName",visible:!0,isModelProperty:!0},{name:"Tenant Name",property:"tenantName",visible:!0,isModelProperty:!0},{name:"Unit Type",property:"unitType",visible:!0,isModelProperty:!0},{name:"Occupied By",property:"posession",visible:!0,isModelProperty:!0},{name:"Area (SqFt)",property:"areaSqFt",visible:!0,isModelProperty:!0},{name:"Capacity (Ton)",property:"capacityTon",visible:!0,isModelProperty:!0},{name:"Actions",property:"actions",visible:!0}],this.pageSize=7,this.columnsProps=this.displayedColumns.map(t=>t.property)}set content(t){this.sort=t,this.sort&&(this.dataSource.sort=this.sort)}get visibleColumns(){return this.displayedColumns.filter(t=>t.visible).map(t=>t.property)}ngOnInit(){this.clientSelectionService.setIsClientVisible(!0),this.getUnits()}notificationMessage(t,e){this.snackbar.open(t,null,{duration:5e3,verticalPosition:"top",horizontalPosition:"end",panelClass:[e]})}createUnit(){(new u.e).width="60%",this.dialog.open(mt).afterClosed().subscribe(t=>{t&&this.unitMasterService.createUnit(t).subscribe({next:t=>{this.notificationMessage("Unit created successfully.","green-snackbar"),this.getUnits()},error:t=>{t.indexOf("409")>=0?this.notificationMessage("Unit Number already exists.","red-snackbar"):this.notificationMessage("Unit creation failed.","red-snackbar")}})})}updateUnit(t){this.dialog.open(mt,{data:t}).afterClosed().subscribe(t=>{t&&this.unitMasterService.updateUnitById(t.id,t).subscribe({next:t=>{this.notificationMessage("Unit updated successfully.","green-snackbar"),this.getUnits()},error:t=>{this.notificationMessage("Unit updation failed.","red-snackbar")}})})}deleteUnit(t){this.dialog.open(R.a).afterClosed().subscribe(e=>{e&&t&&this.unitMasterService.deleteUnitById(t.id,t).subscribe({next:t=>{this.notificationMessage("Unit deleted successfully.","green-snackbar"),this.getUnits()},error:t=>{this.notificationMessage("Unit deletion failed.","red-snackbar")}})})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}onFilterChange(t){this.dataSource&&(t=(t=t.trim()).toLowerCase(),this.dataSource.filter=t)}getUnits(){this.clientId=parseInt(this.cookieService.get("globalClientId")),this.setOccupancyStatus(),this.unitMasterService.getUnitDetails(this.clientId,this.occupancyStatus).subscribe({next:t=>{t=t.map(t=>new U(t)),this.subject$.next(t)},error:t=>{this.notificationMessage("Units Not Found.","red-snackbar")}}),this.dataSource=new d.k,this.data$.pipe(Object(f.a)(t=>!!t)).subscribe(t=>{this.units=t,this.dataSource.data=t}),this.ngAfterViewInit()}setOccupancyStatus(){this.occupancyStatus="Vacant Units"==this.occupancy?"Vacant":"Occupied By Tenant"==this.occupancy?"Tenant":"Occupied By Owner"==this.occupancy?"Owner":"Occupied By Owner/Tenant"==this.occupancy?"Owner,Tenant":"Vacant,Owner,Tenant"}selectFilter(t){this.occupancy=t.value,this.getUnits()}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)(S.Nb(u.b),S.Nb(N.b),S.Nb(C),S.Nb(bt.a),S.Nb(k.a))},t.\u0275cmp=S.Hb({type:t,selectors:[["fury-create-unit-master"]],viewQuery:function(t,e){var i;1&t&&(S.Jc(m.a,!0),S.Vc(b.a,!0)),2&t&&(S.zc(i=S.cc())&&(e.paginator=i.first),S.zc(i=S.cc())&&(e.content=i.first))},inputs:{displayedColumns:"displayedColumns"},decls:19,vars:14,consts:[["mode","card"],["current","View Units",3,"crumbs"],["name","View Units",3,"columns","filterChange"],[1,"actions"],[1,"result","padding-top"],[3,"ngModel","ngModelOptions","selectionChange","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["mat-table","","matSort","",3,"dataSource"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"paginator",3,"pageSize"],[3,"value"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"actions-cell"],["mat-cell","",1,"actions-cell"],["type","button","mat-icon-button","",3,"matMenuTriggerFor","click"],["yPosition","below","xPosition","before"],["actionsMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements",3,"click"]],template:function(t,e){1&t&&(S.Tb(0,"fury-page-layout",0),S.Tb(1,"fury-page-layout-header"),S.Ob(2,"fury-breadcrumbs",1),S.Sb(),S.Tb(3,"fury-page-layout-content"),S.Tb(4,"fury-list",2),S.bc("filterChange",(function(t){return e.onFilterChange(t)})),S.Tb(5,"div",3),S.Tb(6,"mat-form-field",4),S.Tb(7,"mat-label"),S.Rc(8,"Filter Units"),S.Sb(),S.Tb(9,"mat-select",5),S.bc("selectionChange",(function(t){return e.selectFilter(t)}))("ngModelChange",(function(t){return e.occupancy=t})),S.Pc(10,Tt,2,2,"mat-option",6),S.Sb(),S.Sb(),S.Sb(),S.Tb(11,"table",7),S.Pc(12,Ut,2,1,"ng-container",8),S.Rb(13,9),S.Pc(14,wt,1,0,"th",10),S.Pc(15,xt,9,1,"td",11),S.Qb(),S.Pc(16,It,1,0,"tr",12),S.Pc(17,Ot,1,0,"tr",13),S.Sb(),S.Ob(18,"mat-paginator",14),S.Sb(),S.Sb(),S.Sb()),2&t&&(S.Cb(2),S.mc("@fadeInRight",void 0)("crumbs",S.qc(12,Mt)),S.Cb(1),S.mc("@fadeInUp",void 0),S.Cb(1),S.mc("columns",e.displayedColumns),S.Cb(5),S.mc("ngModel",e.occupancy)("ngModelOptions",S.qc(13,Rt)),S.Cb(1),S.mc("ngForOf",e.occupancies),S.Cb(1),S.mc("dataSource",e.dataSource),S.Cb(1),S.mc("ngForOf",e.displayedColumns),S.Cb(4),S.mc("matHeaderRowDef",e.visibleColumns),S.Cb(1),S.mc("matRowDefColumns",e.visibleColumns),S.Cb(1),S.mc("pageSize",e.pageSize))},directives:[dt.a,pt.a,ft.a,ht.a,yt.a,j.d,j.h,gt.a,a.q,a.t,n.n,d.j,b.a,d.c,d.e,d.b,d.g,d.i,m.a,H.n,n.o,d.d,b.b,d.a,A.a,_.d,D.a,_.e,_.b,d.f,d.h],styles:[".right-margin[_ngcontent-%COMP%]{margin-right:2px}"],data:{animation:[h.a,y.a]}}),t})()}];let Pt=(()=>{class t{}return t.\u0275mod=S.Lb({type:t}),t.\u0275inj=S.Kb({factory:function(e){return new(e||t)},imports:[[c.j.forChild(Lt)],c.j]}),t})();var Nt=i("YUcS"),kt=i("VE2z"),Ft=i("QibW"),At=i("GiUZ");let Dt=(()=>{class t{}return t.\u0275mod=S.Lb({type:t}),t.\u0275inj=S.Kb({factory:function(e){return new(e||t)},imports:[[n.c,a.l,kt.a,r.a,a.w,Nt.a,o.a,u.g,V.c,A.b,D.b,Ft.c,gt.b,q.c,At.a]]}),t})(),$t=(()=>{class t{}return t.\u0275mod=S.Lb({type:t}),t.\u0275inj=S.Kb({factory:function(e){return new(e||t)},imports:[[n.c,Pt,a.l,o.a,l.a,Dt,r.a,s.a]]}),t})()}}]);