!function(){function t(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}function o(t,o){for(var n=0;n<o.length;n++){var i=o[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{SqAu:function(n,i,e){"use strict";e.r(i),e.d(i,"ResetPasswordModule",(function(){return F}));var r=e("ofXK"),a=e("3Pt+"),s=e("KthW"),c=e("tyNb"),d=e("nStZ"),b=e("+Kgr"),u=e("fXoL"),f=e("dNgK"),l=e("XiUz"),m=e("kmnG"),p=e("qFsG"),w=e("bTqV"),h=e("Qu3c"),g=e("NFeN");function P(t,o){1&t&&(u.Tb(0,"mat-icon"),u.Rc(1,"visibility"),u.Sb())}function y(t,o){1&t&&(u.Tb(0,"mat-icon"),u.Rc(1,"visibility_off"),u.Sb())}function k(t,o){1&t&&(u.Tb(0,"mat-error"),u.Rc(1,"Password should contain 1 Uppercase, 1 Special character and minimum 8 charaters long."),u.Sb())}function v(t,o){1&t&&(u.Tb(0,"mat-icon"),u.Rc(1,"visibility"),u.Sb())}function C(t,o){1&t&&(u.Tb(0,"mat-icon"),u.Rc(1,"visibility_off"),u.Sb())}function T(t,o){1&t&&(u.Tb(0,"mat-error"),u.Rc(1,"Password should contain 1 Uppercase, 1 Special character and minimum 8 charaters long."),u.Sb())}function x(t,o){1&t&&(u.Tb(0,"mat-error"),u.Rc(1," Password does not match, Please check again !!. "),u.Sb())}var S,M,I,N=[{path:"confirm/:username/:email/:token",component:(S=function(){function n(o,i,e,r,s,c){t(this,n),this.router=o,this.fb=i,this.authenticationService=e,this.snackbar=r,this.route=s,this.cd=c,this.newPasswordInputType="password",this.newPasswordVisible=!1,this.confirmPasswordInputType="password",this.confirmPasswordVisible=!1,this.passwordMatch=!0,this.form=this.fb.group({newPassword:["",a.y.compose([a.y.required,a.y.pattern("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*#?&])[A-Za-zd$@$!%*#?&].{8,}")])],confirmPassword:["",a.y.compose([a.y.required,a.y.pattern("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*#?&])[A-Za-zd$@$!%*#?&].{8,}")])]})}var i,e,r;return i=n,(e=[{key:"ngOnInit",value:function(){var t=this;this.route&&this.route.paramMap.subscribe((function(o){o&&(t.userName=o.get("username"),t.email=o.get("email"),t.token=o.get("token"))}))}},{key:"toggleNewPasswordVisibility",value:function(){this.newPasswordVisible?(this.newPasswordInputType="password",this.newPasswordVisible=!1,this.cd.markForCheck()):(this.newPasswordInputType="text",this.newPasswordVisible=!0,this.cd.markForCheck())}},{key:"toggleConfirmPasswordVisibility",value:function(){this.confirmPasswordVisible?(this.confirmPasswordInputType="password",this.confirmPasswordVisible=!1,this.cd.markForCheck()):(this.confirmPasswordInputType="text",this.confirmPasswordVisible=!0,this.cd.markForCheck())}},{key:"confirm",value:function(){this.form.valid?this.changePassword():this.validateAllFormFields(this.form)}},{key:"changePassword",value:function(){var t=this;if(this.newPassword!=this.confirmPassword)return this.passwordMatch=!1,void this.notificationMessage("New Password and Confirm Password does not match","red-snackbar");this.authenticationService.resetPassword({userName:this.userName,email:this.email,password:this.newPassword,token:this.token}).subscribe({next:function(o){"Success"==o.status?(t.notificationMessage("Password changed successfully.You can login with your new password","green-snackbar"),t.router.navigate(["/login"])):t.notificationMessage("Password reset failed","red-snackbar")},error:function(o){t.notificationMessage("Password reset failed","red-snackbar")}})}},{key:"notificationMessage",value:function(t,o){this.snackbar.open(t,null,{duration:5e3,verticalPosition:"top",horizontalPosition:"end",panelClass:[o]})}},{key:"validateAllFormFields",value:function(t){var o=this;Object.keys(t.controls).forEach((function(n){var i=t.get(n);i instanceof a.g?i.markAsTouched({onlySelf:!0}):i instanceof a.j&&o.validateAllFormFields(i)}))}}])&&o(i.prototype,e),r&&o(i,r),n}(),S.\u0275fac=function(t){return new(t||S)(u.Nb(c.f),u.Nb(a.f),u.Nb(b.a),u.Nb(f.b),u.Nb(c.a),u.Nb(u.h))},S.\u0275cmp=u.Hb({type:S,selectors:[["fury-forgot-password"]],decls:30,vars:14,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"page"],[1,"card","border-radius","elevation"],["fxLayout","column","fxLayoutAlign","center center",1,"header","padding"],["src","assets/img/smartBill.png","width","290px","height","90px"],["fxLayout","column","fxLayoutGap","16px",1,"padding",3,"formGroup"],["fxFlex","auto","fxLayout","column"],["fxFlex","grow"],["matInput","","required","","formControlName","newPassword",3,"type","ngModel","ngModelChange"],["type","button","mat-icon-button","","matSuffix","","matTooltip","Toggle Visibility",3,"click"],[4,"ngIf"],["fxFlex","grow",1,"topBottomPadding"],["matInput","","required","","formControlName","confirmPassword",3,"type","ngModel","ngModelChange"],["type","button","color","primary","mat-raised-button","",3,"disabled","click"]],template:function(t,o){1&t&&(u.Tb(0,"div",0),u.Tb(1,"div",1),u.Tb(2,"div",2),u.Tb(3,"div"),u.Ob(4,"img",3),u.Sb(),u.Sb(),u.Tb(5,"div",4),u.Tb(6,"div",5),u.Tb(7,"mat-form-field",6),u.Tb(8,"mat-label"),u.Rc(9,"New Password"),u.Sb(),u.Tb(10,"input",7),u.bc("ngModelChange",(function(t){return o.newPassword=t})),u.Sb(),u.Tb(11,"button",8),u.bc("click",(function(){return o.toggleNewPasswordVisibility()})),u.Pc(12,P,2,0,"mat-icon",9),u.Pc(13,y,2,0,"mat-icon",9),u.Sb(),u.Tb(14,"mat-hint"),u.Rc(15,"Enter your new password."),u.Sb(),u.Pc(16,k,2,0,"mat-error",9),u.Sb(),u.Tb(17,"mat-form-field",10),u.Tb(18,"mat-label"),u.Rc(19,"Confirm Password"),u.Sb(),u.Tb(20,"input",11),u.bc("ngModelChange",(function(t){return o.confirmPassword=t})),u.Sb(),u.Tb(21,"button",8),u.bc("click",(function(){return o.toggleConfirmPasswordVisibility()})),u.Pc(22,v,2,0,"mat-icon",9),u.Pc(23,C,2,0,"mat-icon",9),u.Sb(),u.Tb(24,"mat-hint"),u.Rc(25,"Re-enter new password."),u.Sb(),u.Pc(26,T,2,0,"mat-error",9),u.Pc(27,x,2,0,"mat-error",9),u.Sb(),u.Sb(),u.Tb(28,"button",12),u.bc("click",(function(){return o.confirm()})),u.Rc(29," Confirm "),u.Sb(),u.Sb(),u.Sb(),u.Sb()),2&t&&(u.Cb(1),u.mc("@fadeInUp",void 0),u.Cb(4),u.mc("formGroup",o.form),u.Cb(5),u.mc("type",o.newPasswordInputType)("ngModel",o.newPassword),u.Cb(2),u.mc("ngIf",o.newPasswordVisible),u.Cb(1),u.mc("ngIf",!o.newPasswordVisible),u.Cb(3),u.mc("ngIf",o.form.get("newPassword").hasError("pattern")),u.Cb(4),u.mc("type",o.confirmPasswordInputType)("ngModel",o.confirmPassword),u.Cb(2),u.mc("ngIf",o.confirmPasswordVisible),u.Cb(1),u.mc("ngIf",!o.confirmPasswordVisible),u.Cb(3),u.mc("ngIf",o.form.get("confirmPassword").hasError("pattern")),u.Cb(1),u.mc("ngIf",!o.passwordMatch),u.Cb(1),u.mc("disabled",o.form.invalid))},directives:[l.d,l.c,l.e,a.r,a.k,l.b,m.d,m.h,p.b,a.c,a.x,a.q,a.i,w.a,m.j,h.a,r.o,m.g,g.a,m.c],styles:[".page[_ngcontent-%COMP%]{display:block;height:100%;width:100%;background-color:#fff;background-image:url(bg2.244996fb1d2175aa7b80.jpeg);background-position:50%;background-repeat:no-repeat;background-size:100% 100%}.card[_ngcontent-%COMP%]{width:380px;box-shadow:0 1px 3px rgba(0,0,0,.3),0 1px 3px rgba(0,0,0,.3);transition:all .3s cubic-bezier(.35,.8,.35,1)}@media screen and (max-width:599px){.card[_ngcontent-%COMP%]{width:300px}}.card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{border-top-left-radius:8px;border-top-right-radius:8px}.logo[_ngcontent-%COMP%]{width:80px;height:80px}.topBottomPadding[_ngcontent-%COMP%]{padding:20px 0}"],data:{animation:[d.a]}}),S)}],V=((I=function o(){t(this,o)}).\u0275mod=u.Lb({type:I}),I.\u0275inj=u.Kb({factory:function(t){return new(t||I)},imports:[[c.j.forChild(N)],c.j]}),I),F=((M=function o(){t(this,o)}).\u0275mod=u.Lb({type:M}),M.\u0275inj=u.Kb({factory:function(t){return new(t||M)},imports:[[r.c,V,s.a,a.w]]}),M)}}])}();